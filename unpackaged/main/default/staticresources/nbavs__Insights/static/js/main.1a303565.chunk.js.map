{"version":3,"sources":["components/NoteModal/NoteModal.module.scss","components/EventTimeline/EventTimeline.module.scss","components/CallSummary/CallSummary.module.scss","components/TranscriptionConversation/TranscriptionConversation.module.scss","components/CallRating/CallRating.module.scss","components/StandardChannelEventsLayer/StandardChannelEventsLayer.module.scss","components/SearchFilters/SearchFilters.module.scss","components/KnowledgeClassifications/KnowledgeClassifications.module.scss","components/Header/Header.module.scss","components/Knowledge/Knowledge.module.scss","components/TranscriptionNote/TranscriptionNote.module.scss","components/Transcription/Transcription.module.scss","components/TranscriptionNotes/TranscriptionNotes.module.scss","components/KnowledgeKeywordsTopics/KnowledgeKeywordsTopics.module.scss","components/Player/Player.module.scss","components/Insights/Insights.module.scss","components/Dropdown/Dropdown.module.scss","components/ErrorModal/ErrorModal.module.scss","components/KnowledgeClassificationPill/KnowledgeClassificationPill.module.scss","components/Search/Search.module.scss","components/OverflowMenu/OverflowMenu.module.scss","components/MetricsTimelineLayer/MetricsTimelineLayer.module.scss","components/KnowledgeKeywordTopicPill/KnowledgeKeywordTopicPill.module.scss","components/ResultNavigator/ResultNavigator.module.scss","components/NotesFilterSelector/NotesFilterSelector.module.scss","components/AudioEventLayer/AudioEventLayer.module.scss","components/LayoutOptions/LayoutOptions.module.scss","components/Avatar/Avatar.module.scss","store/actions/primaryUuid.js","routes/api/Environment.js","routes/api/Token.js","routes/api/ApiClient.js","routes/api/CallFlowApiClient.js","routes/api/SapienApiClient.js","shared/utility/constants.js","shared/utility/timeline.js","shared/utility/errors.js","routes/api/App.js","store/actions/events-helpers.js","store/selectors/common-selectors.js","store/selectors/timestampWithAudioOffset.js","shared/utility/formatting.js","store/selectors/index.js","store/actions/calls.js","store/constants/data.js","store/actions/events.js","store/constants/actions.js","assets/svgs/icon-account.svg","assets/svgs/icon-contact.svg","assets/svgs/icon-user.svg","store/selectors/authSelectors.js","store/selectors/noteSelectors.js","shared/utility/processing.js","store/actions/salesforce.js","store/constants/salesforce.js","store/actions/actions.js","store/actions/experienceOptions.js","store/actions/participants.js","store/actions/status.js","store/actions/audio.js","shared/utility/url.js","store/selectors/callerWithUuid.js","store/selectors/callAtTimestamp.js","store/selectors/eventsForPrimaryParticipant.js","store/actions/callSummary.js","store/actions/errorModal.js","store/actions/errors.js","store/actions/transcription.js","store/reducers/status.js","store/reducers/events.js","store/reducers/calls.js","store/constants/metrics-layers.js","store/reducers/activeLayers.js","store/reducers/audio.js","store/reducers/data.js","store/reducers/playback.js","store/actions/scrubber.js","store/reducers/scrub.js","store/reducers/call-summary.js","store/reducers/transcription.js","store/actions/notes.js","store/reducers/notes.js","store/reducers/callRating.js","store/actions/search.js","store/reducers/search.js","store/reducers/participants.js","store/actions/eventTimeline.js","store/reducers/eventTimeline.js","store/reducers/experienceOptions.js","store/constants/knowledge.js","store/actions/knowledge.js","store/reducers/knowledge.js","store/actions/auth.js","store/reducers/auth.js","store/actions/tabs.js","store/reducers/tabs.js","store/reducers/errorModal.js","store/reducers/index.js","store/reducers/primaryUuid.js","assets/svgs/logo-linear.svg","shared/types/index.js","components/Player/Player.jsx","store/selectors/audioTransport.js","store/selectors/clock.js","containers/PlayerContainer.jsx","components/LayoutOptions/LayoutOptions.jsx","components/LayoutOptions/LayoutOptionsHooks.jsx","containers/LayoutOptionsContainer.jsx","components/Header/Header.jsx","webpack:///./src/assets/svgs/icon-user.svg?1c21","assets/svgs/timeline.svg","shared/utility/caller.js","shared/utility/colors.js","components/TranscriptionConversation/TranscriptionConversation.jsx","store/selectors/selectedExperienceOption.js","store/selectors/emptyDataText.js","containers/TranscriptionConversationContainer.jsx","assets/svgs/icon-plus.svg","components/OverflowMenu/OverflowMenuHooks.js","components/OverflowMenu/OverflowMenu.jsx","store/constants/notes.js","components/TranscriptionNote/TranscriptionNoteHooks.jsx","components/TranscriptionNote/TranscriptionNote.jsx","containers/TranscriptionNoteContainer.jsx","components/NotesFilterSelector/NotesFilterSelector.jsx","components/NotesFilterSelector/NotesFilterSelectorHooks.jsx","containers/NotesFilterSelectorContainer.jsx","components/TranscriptionNotes/TranscriptionNotes.jsx","containers/TranscriptionNotesContainer.jsx","assets/svgs/icon-zigzag.svg","assets/svgs/icon-playback.svg","assets/svgs/icon-pause-white.svg","components/Transcription/Transcription.jsx","containers/TranscriptionContainer.jsx","assets/svgs/icon-customer-service.svg","assets/svgs/icon-urgent.svg","assets/svgs/icon-multiple.svg","assets/svgs/icon-note-unknown.svg","assets/svgs/icon-search-black.svg","assets/svgs/icon-on-hold.svg","assets/svgs/icon-down.svg","assets/svgs/icon-up.svg","assets/svgs/icon-conference.svg","assets/svgs/icon-pause.svg","assets/svgs/icon-transfer.svg","assets/svgs/icon-user-event.svg","store/constants/audio-events.js","components/AudioEventLayer/AudioEventLayer.jsx","store/selectors/callersAtTimestamp.js","containers/AudioEventLayerContainer.jsx","assets/svgs/icon-pause-skip.svg","store/constants/avatar.js","components/Avatar/Avatar.jsx","components/EventTimeline/EventTimeline.jsx","containers/EventTimelineContainer.jsx","components/MetricsTimelineLayer/Metrics.jsx","components/MetricsTimelineLayer/MetricsTimelineLayer.jsx","containers/MetricsTimelineLayerContainer.jsx","components/Scrubber/Scrubber.jsx","containers/ScrubberContainer.jsx","assets/svgs/icon-answer.svg","assets/svgs/icon-waiting.svg","components/StandardChannelEventsLayer/StandardChannelEventsLayer.jsx","containers/StandardChannelEventsLayerContainer.jsx","components/AuxiliaryScrubbers/AuxiliaryScrubbers.jsx","containers/AuxiliaryScrubbersContainer.jsx","components/NoteModal/TimeDropDown.jsx","components/NoteModal/RelatingToDropdown.jsx","components/NoteModal/TypeDropdown.jsx","components/NoteModal/NoteModal.jsx","store/selectors/participantSelectors.js","containers/NoteModalContainer.jsx","shared/utility/NodeStack.js","shared/utility/classifications.js","components/KnowledgeClassificationPill/KnowledgeClassificationPill.jsx","components/KnowledgeKeywordTopicPill/KnowledgeKeywordTopicPill.jsx","components/Knowledge/Knowledge.jsx","containers/KnowledgeContainer.jsx","components/Insights/Insights.jsx","containers/InsightsContainer.jsx","components/Dropdown/Dropdown.jsx","containers/FocusSwitcherContainer.jsx","components/CallSummary/CallSummary.jsx","containers/CallSummaryContainer.jsx","assets/svgs/up-chevron-white.svg","assets/svgs/down-chevron-white.svg","components/Search/Search.jsx","containers/SearchContainer.jsx","assets/svgs/close.svg","assets/svgs/up-chevron-disabled.svg","assets/svgs/down-chevron-disabled.svg","components/ResultNavigator/ResultNavigator.jsx","containers/ResultNavigatorContainer.jsx","components/SearchFilters/SearchFilters.jsx","containers/SearchFiltersContainer.jsx","components/CallRating/RatingPicker/RatingPicker.jsx","components/CallRating/CallRating.jsx","containers/CallRatingContainer.jsx","components/KnowledgeClassifications/KnowledgeClassifications.jsx","containers/KnowledgeClassificationsContainer.jsx","components/KnowledgeKeywordsTopics/KnowledgeKeywordsTopics.jsx","containers/KnowledgeKeywordsTopicsContainer.jsx","components/ErrorModal/ErrorModal.jsx","containers/ErrorModalContainer.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","SET_PRIMARY_UUID","BASE_URL","process","CALLFLOW_URL","GATEKEEPER_URL","AGENT_TITLE","CUSTOMER_TITLE","Token","accessToken","userId","organisationId","this","ApiClient","baseUrl","auth","ClientOAuth2","clientId","clientSecret","accessTokenUri","tokenBaseUrl","a","token","owner","getToken","fetch","headers","Accept","Authorization","then","response","json","user","url","jwtToken","accept","includes","CallFlowApiClient","sfEnv","JSON","parse","localStorage","getItem","callflowUrl","SapienApiClient","sapienUrl","AUDIO_FORMAT","calculatePositionPercentage","position","timeline","rangeFactor","range","start","calculatePositionPercentageWithOffset","offsetPosition","transcriptionStart","calculateWidthPercentage","end","layerStyleWithScrubBounds","plotWholeTimeline","scrub","style","width","marginLeft","viewBoxForRange","Math","floor","join","scale","num","inMin","inMax","outMin","outMax","eventFlags","eventToProcess","event","csChange","isCsStateChange","isChannelStart","isChannelRing","isChannelAnswer","isChannelEnd","isChannelComplete","isBridge","isParkedTransfer","isQueuing","isRouting","isSecondary","isUnBridge","isConferenceIn","isConferenceOut","isRecordStart","isRecordStop","isHold","isUnHold","isListenIn","isListenInWhisper","isListenInBarge","isListenInDisconnect","console","log","eventName","flags","Object","keys","InsightsError","message","status","displayMessage","Error","LoadingError","BlockingInsightsError","statusMessage","blockingMessage","getCallList","client","doGet","ok","getCallForUuid","uuid","filterAndSortCallsByUniqueTimestamp","calls","filter","times","call","timeStart","push","filterCallsWithDuplicateStartTimes","flat","sort","b","Date","getTime","getCallsRelatedToUuids","uuids","getCallForUuidApiCall","Promise","resolve","forEach","data","length","eventsTruncatedToAudioDuration","events","duration","Array","isArray","Number","MAX_SAFE_INTEGER","remainingDuration","threshold","timestamp","map","min","callflowShimAddMissingEvents","callflow","newEvents","firstEvent","concat","lastEvent","callflowWithEventFlags","durationThreshold","getEvents","alert","getTranscription","getAudioAnalysis","getAudioRecording","onChunkReceived","reader","body","getReader","audioDuration","get","contentLength","receivedLength","chunks","read","done","value","blob","Blob","round","eventsWithParsedDataObjects","parsedData","e","warn","getAssociatedUuidsFromEvents","primaryUuid","extractedUuids","index","array","indexOf","getItemWithUuidFromArray","find","item","getPrimaryUuid","state","getParticipants","participants","getEventsState","getUuidFromEventsState","getEventsFromEventsState","getEventsByParticipants","eventsByParticipants","getCallsState","getCalls","getStatus","getLoadProgress","progress","getAudioState","audio","getAudioDuration","getTranscriptionState","transcription","getRawDataFromTranscriptionState","rawData","getUuidFromTranscriptionState","getSentencesFromTranscriptionState","sentences","getDataState","getChannelsFromDataState","channels","getScrubberVisibility","isVisible","getEventTimelineVisibility","eventTimeline","eventTimelineVisible","getActiveTab","tabs","activeTab","getExperienceOptions","experienceOptions","getSearchState","search","getStatusState","getIsDisplayingRoutingState","isDisplaying","getIsDisplayingState","routing","getKeyCallers","callSummary","getCallSummaryState","keyCallers","getErrorModal","errorModal","showErrorModal","show","getTimestampWithAudioOffsetFunc","createSelector","offsetEvent","timelineStop","shift","timelineStart","pop","offset","formatTime","seconds","h","parseInt","m","s","toString","padStart","displayTimeAndDate","time","date","mm","getMonth","dd","getDate","hours","getHours","mins","getMinutes","stringTime","getFullYear","uuidv4","replace","c","crypto","getRandomValues","Uint8Array","decode","str","match","dec","String","fromCharCode","timeAndDate","timeAsText","split","JSONParsedIfStringified","returnObject","html","txt","document","createElement","innerHTML","decodeHtml","error","localDescription","getTimeline","audioState","eventsState","timestampWithAudioOffset","isDisplayRouting","helpers","timestampAtPlayhead","playhead","sentenceTimestampAtPlayhead","playheadAtTimestamp","formattedTimeAtPlayhead","playSeconds","routingSeconds","routingOffset","isPlayheadInUnrecordedTime","abs","pausedPropertiesAtPlayhead","eventsForPrimaryParticipant","properties","isPaused","timeAtPauseEnd","playheadAtPauseEnd","timeStampAtPlayhead","recordStopEvent","startFlags","undefined","transcriptionOffsetPercentage","unrecordedOffset","isNonAudioTimeline","channelStart","unrecordedTime","timelineEnd","REQUEST_CALLS","requestCalls","type","payload","isLoading","INVALIDATE_CALLS","invalidateCalls","RECEIVE_CALLS","receiveCalls","isRecorded","isRecordingFlagFoundInCalls","isRecordedFlagFound","aFlags","bFlags","processCalls","STATUS_LOADING","STATUS_OK","STATUS_EMPTY","REQUEST_EVENTS","requestEvents","INVALIDATE_EVENTS","invalidateEvents","RECEIVE_EVENTS","receiveEvents","filterAndSortEvents","PROCESS_EVENTS","eventGroups","id","openEvents","processors","addGroup","group","openIf","closeIf","participantPhoneNumber","processedEvents","currentOpenEvents","key","newEvent","current","endFlags","closeEvents","processEvents","eventsToProcess","completeEvent","INITIAL_LOAD","PLAY","PLAY_FROM_START","PAUSE","SKIP_BACK","SKIP_FORWARD","MOVE_SCRUBBER","MOVE_PLAY_HEAD","SET_PLAYBACK_SPEED","TOGGLE_METRICS_LAYER","SHOW_METRICS_LAYER","HIDE_METRICS_LAYER","SET_AUDIO","MOVE_TRANSCRIPTION_PLAY_SCRUB","UPDATE_TRANSCRIPTION_VIEWPORT","UPDATE_TRANSCRIPTION_CONFIDENCE","SET_NOTE_VISIBILITY","IMPORT_NOTES","OPEN_RATE_CALL","CANCEL_RATE_CALL","RATE_CALL","SET_EVENT_TYPES","SET_JWT_TOKEN","SET_PARTICIPANT_NAMES","SET_CAN_SHARE","getAuth","getAuthenticatedUserId","getAuthenticatedUserName","displayName","userName","getNotesState","notes","getUnreadNoteAndCommentIdsForCurrentUser","unread","getNoteWithIdSelector","obj","noteId","getUnreadNoteAndCommentIdsForUser","reduce","thread","userActivity","noteModified","lastUserActivity","activity","lastRead","unreadComments","comment","modified","NotesFilter","all","onlyUnread","onlyAcknowledged","onlyUnAcknowledged","onlyMyNotes","onlyOpenNotes","closedNotes","getFilteredNotes","authenticatedUserId","note","isClosed","isAcknowledged","foundUnread","author","updatedUserActivityForUser","logTime","toISOString","compareObjectProperties","objectA","objectB","equal","DELETE_NOTE","deleteNote","REFRESH_UNREAD_NOTES","refreshUnreadNotes","dispatch","getState","ids","SET_NOTES","UPDATE_NOTE","updateNote","details","invokeSFAction","invoke","callBack","param","window","parent","getVisualforce","Manager","remoteAction","getAction","escape","invokeAction","handleTimeout","loadEventType","result","eventTypes","xhr","responseText","SET_PARTICIPANT_IMAGE","loadNotes","allNotes","eventType","isNoteEdited","newNote","oldNote","notesPropertiesAreEqual","updateNotes","actionType","existingNote","timeInSeconds","minutes","timeVar","currentTime","authorName","text","eventTime","channelUuid","isShared","canShare","noteCreated","stringify","polarity","version","method","onDeleteNote","confirm","CREATE_EXPERIENCE_OPTIONS","addUuidToParticipant","participant","relatedUuids","numberOfAgents","isAgent","nextAgentColor","nextCustomerColor","numberOfCustomers","newParticipant","isPrimary","image","userIcon","initials","title","agentNumber","agents","classes","color","isInternalOnly","SET_PARTICIPANTS","buildParticipantsArray","participantNames","startTime","endTime","timeTalking","fromNumber","aUuid","fromSipDeviceId","fromUserId","newFromParticipant","participantNameItem","phoneNum","name","photoUrl","toNumber","bUuid","toSipDeviceId","toUserId","newToParticipant","dataParticipants","noOfAgents","number","prefix","fullNumber","fullTitle","addParticipantClassificationData","createParticipants","participantsWithClassificationData","channelEvents","isCallStart","isCallEnd","eventsFor","options","agent","agentName","toUpperCase","viewName","icon","avatar","customerName","createExperienceOptions","accountIcon","contactIcon","TOGGLE_ROUTING","LOAD_PROGRESS","LOAD_PROGRESS_AUDIO","setLoadProgressAudio","percentage","SET_STATUS","setStatus","description","SET_NOTES_WIDTH","REQUEST_AUDIO","requestAudio","INVALIDATE_AUDIO","invalidateAudio","source","RECEIVE_AUDIO","receiveAudio","NO_AUDIO","noAudio","createAudioEvents","channel","startEvent","endEvent","channelLength","audioEvents","playTime","playEvent","playEvents","audioStart","stop","audioStop","playheadAtMediaPosition","media","mediaPositionAtPlayhead","getQuery","location","substring","query","callerWithUuid","callAtTimestamp","getNumberForPrimaryParticipant","getEventsForPrimaryParticipant","primaryNumber","eventsMatchingGroup","durationOfEventGroup","groupEventDurations","total","ringDuration","ringingStart","ringingEnd","max","eventsSummary","bridgedEvents","durations","talking","listening","overtalk","silent","sentencesForParticipant","durationKey","sentencesToCheckForOverlap","secondary","sentence","sentenceEnd","sentenceStart","clippedStart","clippedEnd","bridgeDuration","transcriptionDurationsWithinBridgedEvents","holding","queuing","ringing","SET_CALL_SUMMARY","setCallSummary","summary","ERROR_MODAL_SHOW","ERROR_MODAL_CLEAR","showBlockingErrorMessage","blockingInsightsError","onPrimaryClicked","showFetchError","REQUEST_TRANSCRIPTION","requestTranscription","RECEIVE_TRANSCRIPTION","receiveTranscription","analysis","normalised","mapMentionsToPositions","keyword","Mentions","mention","Pos","pos","Channel","processCategory","category","positions","phrases","keywords","Keywords","Phrases","Positions","phrase","Start","End","parseAndProcessTranscription","Categories","processTranscription","mainUser","recordingId","showAll","earliestCallIndex","maxTime","selectCallerWithUuid","callAtTimestampFunc","transcriptionFocus","Sentences","sentenceTimelineStart","sentenceTimelineEnd","isSentenceRunningToNextCall","aCaller","bCaller","processedSentence","callIndex","opposing","nextCall","aUuidNextCall","bUuidNextCall","aCallerNextCall","bCallerNextCall","startWithOffset","endWithOffset","Sentence","sortedSentences","sentencesFor","earliest","isInEarliestCall","i","splice","loadTranscription","getTranscriptionFromApi","currentUuid","currentSentences","blockingError","processChannels","channelData","talkTime","previous","timelineRange","processTalkTime","1","2","initialLoad","REQUEST_DATA","RECEIVE_DATA","play","pause","moveScrubber","setPlaybackSpeed","speed","movePlayHead","isUserAction","playback","getPlaybackState","toggleMetricsLayer","layer","moveTranscriptionPlayScrub","transcriptionPlayScrub","updateTranscriptionViewport","viewport","SET_COMPLETED_NOTES_VISIBILITY","focusOnPosition","span","getTimestampWithAudioOffset","scrubWidth","scrubDiff","scrubStart","scrubEnd","vpDiff","vpStart","RESET_STATE","validateAudioAndCalls","reject","blockingErrorFromLoading","simulateProgress","callCount","repeater","setInterval","clearInterval","initialiseWithPrimaryUuid","setPrimaryUuid","getEventsApiCall","currentEvents","fetchEvents","getCallsRelatedToUuidApiCall","fetchCalls","loadCanShareRecording","ratingData","salesforceId","rating","loadRatings","participantsData","loadParticipantsName","loadData","getAudioRecordingApiCall","createObjectURL","URL","updateProgress","cappedProgress","fetchAudio","catch","initialState","isAudioLoaded","progressAudio","notesWidth","audioFailed","statusForState","BACKGROUND_NOISE_LEVEL","TRANSCRIPTION_CONFIDENCE","SHOW_NOTES","CLASH_WINS","AFFIRMATIONS","INTERRUPTIONS","STEALS","FILTER_HOLD_UNHOLD","FILTER_TRANSFER","FILTER_LISTEN_IN","FILTER_CALL_QUEUING","FILTER_NEW_PARTY","isPlaying","availableSpeeds","SET_SCRUBBER_VISIBILITY","setScrubberVisibility","visibility","isUserModified","direction","from","to","images","metrics","colors","titles","numbers","fullNumbers","fullTitles","names","fullNameNumbers","confidence","modifyNoteWithId","modification","selector","acknowledgeNote","closeNote","deleteComment","commentId","OPEN_NOTE_EDITOR","NoteEditMode","newComment","existingComment","isExistingItem","editMode","isNote","isComment","isNew","CLOSE_NOTE_EDITOR","closeNoteEditor","MARK_NOTE_AS_READ","SET_NOTES_FILTER","setNotesFilter","initialNoteState","relatedToTitle","showOnTimeline","showCompletedNotes","showEditModal","noteToEdit","commentToEdit","polarityTypes","showCallRatingDialog","SET_CURRENT_MATCH_POSITION_INDEX","setCurrentMatchPositionIndex","currentPosition","SET_MATCH_POSITIONS","setMatchPositions","setPositionsFromSearchPhrase","Words","words","searchWords","checkword","lastMatchingIndex","word","emptyWords","wordsLeftToSearch","w","substr","positionsMatchingSearchPhraseInTranscription","searchPhrase","getSearchPhrase","SET_SEARCH_PHRASE","setCurrentMatch","currentMatch","setMatches","matches","matchCount","positionCount","currentPositionIndex","SET_EVENTTIMELINE_VISIBILITY","setEventTimelineVisibility","KNOWLEDGE_TYPE_CLASSIFICATION","KNOWLEDGE_TYPE_KEYWORD","KNOWLEDGE_TYPE_TOPIC","OPEN_CLASSIFICATIONS_DIALOG","CLOSE_CLASSIFICATIONS_DIALOG","keywordPositionsForChannelMatchingIdentifier","items","identifier","topicPositionsForChannelMatchingIdentifier","topic","setPositionsFromKnowledgeSelectedItem","selectedItem","knowledge","getKnowledgeState","channel1","channel2","topicPositionsMatchingIdentifier","keywordPositionsMatchingIdentifier","SELECT_KNOWLEDGE_CLASSIFICATION","selectKnowledgeClassification","Name","SELECT_KNOWLEDGE_KEYWORD","selectKnowledgeKeyword","SELECT_KNOWLEDGE_TOPIC","selectKnowledgeTopic","CLEAR_SELECTED_KNOWLEDGE_ITEM","OPEN_KEYWORDS_TOPICS_DIALOG","CLOSE_KEYWORDS_TOPICS_DIALOG","showClassificationsDialog","showKeywordsTopicsDialog","autoRenewToken","tokenTimer","SET_AUTH_DISPLAY_NAME","getJWTToken","storedSfSessionId","gatekeeperUrl","namespace","namespaceParam","gatekeeperHeaders","Headers","authorization","jwt","Base64","jwtData","scope","exp","iat","nbf","setItem","getUserName","err","getAuthToken","getSessionId","orgUrls","isSalesforce","isProd","SapienHostUrl","GatekeeperHostUrl","callFlowHostUrl","clearTimeout","setTimeout","TOGGLE_TAB","primaryButtonText","secondaryButtonText","allReducers","combineReducers","action","newState","activeLayers","adjustment","callDirection","caller","processMetrics","callers","metricData","holdEvents","pauseEvents","Metrics","metric","metricKey","visible","some","callRating","activeLayersType","PropTypes","arrayOf","string","userActivityType","shape","object","bool","func","eventAtPlayhead","eventAtMediaPosition","commentType","created","noteType","noteList","quality","qualityNote","politeness","politenessNote","customerExperience","customerExperienceNote","agentKnowledge","agentKnowledgeNote","Player","props","clock","clockHandler","mediaPlayer","onMovePlayhead","updatePlaybackSpeed","startUpdatingPlayhead","updatePlayerState","createMediaPlayer","stopUpdatingPlayhead","playbackRate","callback","interval","audioTransport","onPauseClick","mediaPlayhead","paused","onPlayClick","onSkipBackClick","onSkipForwardClick","onRestartPlayHeadClick","onSetPlaybackSpeed","showTransport","playMode","styles","playDisabled","playFunction","isDisabled","className","tabIndex","onClick","disabled","skipBack","spinerLoading","skipForward","changeSpeed","onChange","parseFloat","target","webSound","Howl","src","html5","format","html5sound","sound","timer","timerStartTime","lastCurrentTime","lastPlaybackRate","timerHandler","rate","seek","now","Component","getAudioTransport","getClock","connect","LayoutOptions","isScrubVisible","isTimelineVisible","onSetScrubVisibility","onSetTimelineVisibility","useState","isOpen","setIsOpen","label","handleToggleOpen","useLayoutOptionsHooks","container","button","role","onMouseDown","Header","callList","React","createRef","onCallListClicked","bind","showCallList","hideCallList","addEventListener","handleClickOutsideDropdown","removeEventListener","setState","callListItem","itemIndex","href","toLocaleString","toNumberDialled","display","onFinishAndRateClicked","showRatingButton","isRated","HeaderContainer","Branding","logo","alt","Exit","finish","ref","data-testid","callListContainer","defaultProps","_path","onSetScrubberVisibility","onSetEventTimelineVisibility","_extends","assign","arguments","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgIconUser","_ref","svgRef","titleId","xmlns","xmlnsXlink","height","viewBox","fill","d","ForwardRef","sortSentences","lhs","rhs","sortWords","textColorForBackground","hex","exec","red","green","blue","brightness","TranscriptionConversation","conversationRef","scrollTimeoutHandler","handleMouseDown","handleScrollWheel","updateViewport","sentences1","sentences2","shortestSentence","ret","timeScaling","intersectingPositions","wordsInSentence","matchingWords","isWordIntersectingPosition","textColor","isMatchingWord","nextWord","isMatchingNextWord","spanClass","classNames","isCurrentMatch","background","backgroundSize","backgroundColor","borderRadius","matchingClassName","matchFill","matchFillAnimate","isScrolling","playHeads","getElementsByClassName","playHead","element","rect","getBoundingClientRect","currentScroll","scrollTop","playHeadTop","top","midPoint","difference","person1","person","person2","merged","participantSentences","rows","styledSentence","styleSentence","tabStyle","borderBottom","iconStyle","initialsStyle","initialHtml","isFirstSentenceInRow","styling","primary","row","previousRow","isPlayHeadInRow","spacerRange","isPlayHeadInSpacer","spacerLocatorClass","playheadLocation","rowLocatorClass","conversationRow","spacer","data-timestamp-start","data-timestamp-end","playHeadMarker","conversationRowLinked","conversationRowRight","every","htmlIcon","htmlSentence","sentenceBody","htmlBlanking","blanking","contents","acc","el","secondaryLinked","dataset","timestampStart","timestampEnd","x","clientX","left","isOverPlayButton","y","clientY","onSetPlayHeadPosition","setPaused","onClickPlay","children","emptyText","conversation","getConversation","backgroundImage","timelineImage","backgroundRepeat","backgroundPosition","right","bottom","marginTop","noAgentDataOverlay","noAgentDataText","onWheel","transcriptionEventContainer","playHeadLine","playHeadStartText","conversationContainer","loadingScreen","loadingClasses","onTop","preserveAspectRatio","x1","y1","x2","y2","spreadMethod","stopColor","stopOpacity","opacity","radius","strokeWidth","stroke","strokeDasharray","timeString","size","onSetTranscriptionViewport","selectedExperienceOption","getEmptyDataText","getSelectedExperienceOption","perspective","toLowerCase","TranscriptionConversationContainer","useOverflowMenuHooks","onSelectOption","setPosition","useRef","animationCallback","activeElement","requestAnimationFrame","blur","handleOptionSelected","option","handleOnFocus","OverflowMenu","isLocked","locked","onFocus","popover","data-overflow-menu-popover","menu","GENERAL_NOTE_UUID","Action","edit","reply","delete","DisplayMode","useUserHooks","viewingUserId","isNoteAuthor","isGeneralNote","relatingToUserOrYou","idToMatch","youUserIfUserIdMatches","relatingToUserId","relatingToTitle","isCommentAuthor","isRelatingToUser","useTranscriptionNoteHooks","displayMode","interactive","showThread","setShowThread","isLastItem","isUnread","isEmptyThread","isEdited","useThreadHooks","onAcknowledge","onEditNote","onEditComment","onDeleteComment","onCloseNote","onNoteClick","onUpdateUserActivity","handleNoteClicked","handleDefaultAction","useMenuHooks","overflowOptions","createOverflowOptions","showThreadSection","toggleShowThread","relatingTo","showDefaultAction","showRelatingTo","showOverflowMenu","TranscriptionNote","borderLeft","borderLeftColor","onMouseUp","heading","subject","noteText","edited","overflowMenu","actionButton","acknowledged","closed","toggleThreadButton","TranscriptionNoteContainer","updateUserActivity","NotesFilterSelector","onSelectFilter","isFiltering","handleClickButton","parentElement","preventDefault","useNotesFilterSelectorHooks","highlighted","TranscriptionNotes","cachedNoteIds","filteredNotes","nextProps","nextState","nextContext","userList","listOfNotes","isNaN","handleNoteClick","handleEditNote","handleEditComment","onNoteClicked","onOpenNoteEditor","getNoteWithId","setPlayHeadPosition","getNotes","NewNoteSection","newNoteContainer","handleNewNote","newNoteIcon","iconPlus","newNoteText","checkboxContainer","checkbox","handleShowNotesChecked","checked","checkboxLabel","htmlFor","onSetNoteVisibility","onToggleLayer","onSetCompletedNotesVisibility","addNewNoteDiv","showNotes","bottomMenuSpacer","TranscriptionNotesContainer","setNoteVisibility","visibile","openNoteEditor","SvgIconZigzag","Transcription","sliderRef","hide","playScrub","iconPause","iconPlayback","playButton","cx","cy","r","xlinkHref","playScrubLine","playScrubStyle","boxSizing","LayerContent","onSetConfidence","hidden","confidenceContainer","confidenceText","slider","valueAsNumber","onSetTranscriptionPlayScrub","currentTarget","clientHeight","transcriptionContainer","onMouseLeave","handleHideTranscriptionPlayHeadLayerOnMouseLeave","sections","onMouseMove","handleTranscriptionPlayHeadLayerMouseMove","channelColors","playHeadLayer","confidenceGauge","isVertical","TranscriptionContainer","updateTranscriptionConfidence","CLASH_WIN","AFFIRMATION","INTERRUPTION","STEAL","MULTIPLE_EVENTS","NOTE_EVENT","SEARCH_EVENT","CALL_EVENT","AudioEventLayer","preRenderedEventsKey","preRenderedEvents","subtype","iconUnknownNote","iconUrgent","iconMultiple","getNoteIcon","iconSearch","getCallEventIcon","iconCustomerService","callersAtTimestamp","knowledgeSelectedItem","eventsKey","isEqual","generateEvents","generateNoteEvents","generateSearchEvents","generateClassificationEvents","generateKeywordEvents","generateTopicEvents","callEvents","generateCallEvents","secondaryCallEvents","elements","generateEventList","eventItem","groupedEvents","channelNumber","labelForEventType","groupSize","subType","timestampThreshold","groupingFunction","consolidateEvents","tmpGroup","onLastItem","nextItemBeyondThreshold","groupedItem","filteredEvents","isEventTypeInActiveLayers","filterInvisibleEvents","callSummaryAtTime","ClashLine","consolidatedEvents","groupEvents","scrubAsTime","clusterThreshold","clusterEvents","iconForEventType","channelClassName","lineStyle","iconClasses","ClashIcon","lineClasses","clusterItem","data-tooltip","clusterSize","textAnchor","eventList","findIndex","wordList","generateKnowledgeEvents","classification","DisplayName","Keyword","Topics","Topic","callEventIconLabel","isStart","layerClasses","generateOrUsePreRenderedEvents","node","isLayerMatchingEventType","iconOnHold","iconConference","iconUserEvent","iconTransfer","callEventIconImage","callAtTimeStampFunc","AudioEventLayerContainer","callersAtTimestampFunc","callerWithUuidFunc","AVATAR_MEDIUM","AVATAR_LARGE","Avatar","sizes","isAvatar","svgStyle","imgStyle","svg","iconx","icony","img","aria-label","svgIcon","EventTimeline","isEntryExitLayerDismissed","preRenderedSentencesKey","preRenderedSentences","hideEntryExitLayerHandler","handleClickReviewNotes","prevProps","prevState","snapshot","singleColor","padding","isSub","sentenceWidth","markerPosition","markersShown","callerStyle","eventsForSentence","callerStyleForSentence","marker","isConference","isShowConference","conferenceClass","conference","sentenceStyle","conferencePattern","callerName","markerText","markerKey","firstUuidForCaller","avatarStyle","sentenceMarkerAvatarTop","sentenceMarkerAvatarBottom","setFocusStyle","focusSwitcherTop","focusSwitcherBottom","sentenceMarker","data-marker-title","data-set-focus","data-tooltip-fixed-width","sentenceKey","createSentences","leftMargin","firstSentence","lastSentence","startOfFirst","endOfLast","leftPercentage","avatarOpacity","fadeIn","leftPercentageDifference","zIndex","paddingLeft","canSetPlayhead","pausedProperties","handlePlayheadLayerMouseMove","playheadTop","playheadTime","playheadBottom","createSkipPauseHandler","pauseSkipIcon","scrubRange","numberOfStampsDisplayed","timeGapDuration","numberOfStamps","timeStamps","xPos","timeStamp","timeStampLine","timeStampText","onHideScrubAndTimeline","onStartPlaying","onRestartPlaying","displayedExperienceOption","showEntryExitLayer","isPlayheadAtStart","buttonText","buttonType","restart","leftIndent","overlay","overlayContentFlex","channelLabel","unreadNotes","notificationBell","notificationCount","reviewButton","closeButton","onSetPlayhead","stopPropagation","enabled","bounds","pageX","hideSentenceLayer","isStatusOk","sentenceLayer","showGradient","EventLayer","avatarLayer","timestampsLayer","gradientLayer","playheadLayer","entryExitLayer","loadingOverlay","rx","gradientClasses","gradientStart","gradientEnd","offsets","overlayMargin","hexColor","EventTimelineContainer","transcriptionData","errorCallback","nameForKey","paths","pathsForData","lines","linesForKey","line","isStepped","isFloating","isCurved","isInverted","path","plot","pen","lastPlot","controlWidth","bezier","first","second","plotPoints","confidenceDataForChannel","noiseDataForChannel","MetricsTimelineLayer","metricType","useData","forKey","plotline","pathForMetric","MetricsTimelineLayerContainer","Scrubber","isDragging","isMoving","didDrag","handleClick","handleScroll","handleMouseMove","dragStart","dragEnd","moveScrub","clicked","onScrubDragged","pointerOffset","updateScrubState","onScrubPositionChange","isUserModifyingScrub","setScrub","HTMLElement","minX","clickX","clickPercent","scrubPercentage","distanceFromStart","distanceFromEnd","setDragState","buttons","hold","updatePlayhead","zoom","deltaY","newScrub","noAgentDataState","marginRight","ry","ScrubberContainer","StandardChannelEventsLayer","isDisplayingRouting","microClusterThreshold","filterRoutingEvents","filterSelectedEvents","isStartFullHeight","isEndFullHeight","subHeightTop","containerClass","markerLineClasses","small","eventContainer","leftMost","rightMost","containerStyle","markerLineStyles","textAlign","eventClass","transfer","ring","bridge","wholeTimeline","eventStyle","startIconStyle","endIconStyle","shouldMicroCluster","startIcon","iconImageForEvent","endIcon","iconLevel","primaryClass","secondaryClass","event1","event2","overlayStyle","primaryChannelStyle","borderColor","secondaryChannelStyle","routingOverlay","unrecordedTimeLabel","eventElements","isStartIcon","iconAnswer","iconWaiting","isParkOtherForTransfer","isRequestOnHold","isRequestUnHold","iconImage","microClusteredEndIcon","iconLabel","startLabel","containerClassName","microClusteredEndIconContainer","markerLines","leftLine","rightLine","borderRightColor","isAlwaysShown","filterRequiredForEvent","StandardChannelEventsLayerContainer","AuxiliaryScrubbers","onScrubberMoved","infoSection","scrubLegend","propTypes","isRequired","TimeDropDown","dropDownOpen","timePickerConfig","toggleDropDown","handleClickOutside","contains","setTime","timeChecked","canEdit","config","newValue","storedValue","timeOfEvent","dropdown","timeDropdown","timePicker","numberPicker","upButton","increment","numberInput","defaultValue","onInput","handleTextChange","onKeyDown","handleKeyPress","onBlur","handleLoseFocus","downButton","decrement","RelatingToDropdown","selectedUser","handleUserClick","dropdownItem","dropdownItemWithIcon","dropdownItemIcon","userButton","dropdownButtonWithIcon","dropdownButtonIcon","dropdownButton","createUserButton","dropdownContent","relatingToList","TypeDropdown","typeId","handleTypeClicked","typeButton","selectedTypeId","selectedType","eventTypesList","handleTypeClick","createTypeButton","renderTypeList","NoteModal","meId","meName","selectedNote","timeInUSeconds","createUserList","shareChecked","acknowledgeChecked","canAcknowledge","typeList","handleAddNoteClicked","handleDeleteNoteClicked","handlePolarityClick","handleSubmitClicked","handleAddCommentClicked","handleDeleteCommentClicked","onUpdateNote","totalTime","newThread","getParticipantById","threadUpToCommentToEdit","threadContainer","onCloseNoteEditor","noteTitle","titleForEditMode","addNoteButton","buttonTextForEditMode","canShareNote","placeholderText","disableStyle","modalBodyDisabled","maskClasses","mask","modalHeader","modalBody","noteDetailsContainer","detailColumn","timeDetailColumn","handleEventTimeChecked","userDetailColumn","relatingToDetailColumn","polarityDetailColumn","commentToReplyTo","noteTextContainer","noteDetails","handleTextUpdate","placeholder","shareContainer","checkbox2","handleAcknowledgeNote","handleShareNote","modalFooter","deleteButton","cancelButton","addButton","getParticipantByIdSelector","found","relativeUuid","NodeStack","hover","handler","clear","click","elementsMatchingSelectorAndEvent","filterElements","querySelectorAll","pageY","classificationIsPositive","Trigger","CategoryValue","classificationIsWarning","classificationIsNegative","classificationIsException","classificationIsInfoThatHappened","classificationIsTriggered","classificationWeighting","KnowledgeClassificationPill","isSelected","classificationPill","indicatorClasses","classificationIndicator","positive","negative","warning","info","tooltip","classificationDescription","data-metric","data-metric-selected","onKeyPress","pillText","KnowledgeKeywordTopicPill","showLeftIndicator","showRightIndicator","modalPill","modalCategoryPill","pillStyle","pill","pillModal","pillCategoryModal","pillColourContainer","Knowledge","onSetScrollToMatch","onClassificationSelected","onKeywordSelected","onTopicSelected","loadProgress","progressBarContainer","progressBarOuter","progressBar","onClickShowAllClassifications","onClickShowAllKeyWords","loadingBar","allClassifications","generateAllClassifications","generateKeywords","topics","generateTopics","totalClassifications","totalKeysAndTopics","content","column","classificationsExceptionColumn","classificationsExceptionHeader","pillContainer","hasClassificationExceptionsOrInfo","classificationContainer","classificationsEmpty","Type","handleClassificationClick","processChannelClassifications","handleKeywordClick","processKeywordsTopics","handleTopicClick","classifications","outerKey","innerKey","combined","generateMarkupForKeywordsTopics","values","onSetSearchMatch","Insights","handleInputChange","onToggleRouting","output","detail","subtitle","isSubtitled","formCheck","indicator","hasUnrecordedTime","calculateStatistics","formattedUnrecordedTime","eventMetrics","leftMetrics","thirdWidthColumn","thirdWidth","halfWidthColumn","halfWidth","separator","renderMetrics","clashWins","affirmations","interruptions","steals","InsightsContainer","Dropdown","selection","selected","handleChange","dropdownHTML","dropdownToggle","dropdownBackground","optionsList","FocusSwitcherContainer","onSetPrimaryUuid","newSelection","CallSummary","isViewExpanded","barRefs","bars","labels","toggleExpandedView","plotLabelLines","proportionalWidths","callDurationFromSummary","toFixed","vectorEffect","shapeRendering","data-width","labelTextForKey","ceil","leftOffset","containerWidth","shrinkableLabels","overflow","bar","labelWidth","barWidth","barWidthAsPercentage","labelWidthAsPercentage","useableOverflow","leftBarPosition","xLinePos","leftLabelPosition","lineWidth","classList","add","flip","remove","section","header","headerItem","buttonShowMore","summaryBar","showAlternativeStatus","conversations","numberOfConversations","silenceDurations","slice","SilenceRatio","buttonStyle","buttonShowLess","summaryLines","summaryLabels","metricsSection","metricsTable","sectionColumns","metricsHeader","metricsRow","totals","bigDigits","turnSwaps","totalValue","proportionalValues","factor","rowTitle","borderTop","figure","currentTalker","swaps","listenTime","timeKey","CallSummaryContainer","Search","handleSearchInputChange","handlePreviousClicked","handleNextClicked","handleClearClicked","onSearchPhraseChanged","onSetMatchPositionIndex","showSearchNavigator","searchTextBox","searchNavigation","chevron","upChevron","downChevron","clearButton","SearchContainer","ResultNavigator","onPreviousClicked","onNextClicked","onClear","channelIndicatorsForPositions","resultNavigator","close","searchItemContainer","upChevronGrey","downChevronGrey","ResultNavigatorContainer","onSetMatches","onSetMatch","onSetMatchPositions","TAB_SEARCH","TAB_CALL_SUMMARY","TAB_KNOWLEDGE","TAB_INSIGHTS","SearchFilters","handleTabClick","toggleTab","tab","onSetPositionsFromSearchPhrase","onSetPositionsFromKnowledgeSelectedItem","isValidSearchPhrase","searchTabClasses","active","inuse","callSummaryTabClasses","knowledgeTabClasses","knowledgeLayersInUse","insightsTabClasses","insightsLayersInUse","searchContentStyle","callSummaryContentStyle","knowledgeContentStyle","insightsContentStyle","insights","SearchFiltersContainer","onTabClicked","RatingPicker","onSelect","selectedIndex","radioButtons","radioStyle","radio1","pipStyle","pip1","radio2","pip2","radio3","pip3","radio4","pip4","radio5","pip5","handleRadioSelected","pipRating","pip","CallRating","onRateCall","oldRaing","newRating","isAllRated","score","onCancelRateCall","sfId","newScore","ratingRow","ratingContainer","ratingTitle","handleScoreChange","evt","handleNoteChange","handleCancelClicked","finishButton","handleFinishClicked","newData","newItem","newRatings","KnowledgeClassifications","selectedItemName","selectedItemKeywords","onClickClassification","onClickClose","onClose","onItemSelected","categories","checkpoints","generateClassifications","alerts","concepts","keyWords","renderKeyWordPills","triggersTitle","modal","triggers","pillContainerKeywords","categoriesContainer","categoriesHeader","headerTitle","categoriesBody","KnowledgeKeywordsTopics","onClickKeyword","onClickTopic","ErrorModal","handlePrimaryClick","handleSecondaryClick","closeModal","secondaryButton","primaryButton","App","onSetFocus","onHover","Tooltip","placement","trigger","tooltipFixedWidth","_tooltipNode","tooltips","dispose","setFocus","moveScrubToPlayheadArea","moveScrubToKeepPlayheadCentral","moveTranscriptionViewportToKeepPlayheadCentral","diff","onViewportMoved","graphLayers","canSetPlayHead","CallRatingContainer","ErrorModalContainer","port","Boolean","hostname","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","scrubInitialState","eventTimelineInitialState","applyMiddleware","thunk","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1a303565.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mask\":\"NoteModal_mask__1sUur\",\"NoteModal\":\"NoteModal_NoteModal__1CEpf\",\"modalHeader\":\"NoteModal_modalHeader__G3xba\",\"title\":\"NoteModal_title__W7Jhu\",\"modalBody\":\"NoteModal_modalBody__3C9UD\",\"modalBodyDisabled\":\"NoteModal_modalBodyDisabled__3Q1R5\",\"noteDetailsContainer\":\"NoteModal_noteDetailsContainer__2Uque\",\"threadContainer\":\"NoteModal_threadContainer__2rgPO\",\"detailColumn\":\"NoteModal_detailColumn__3j5i8\",\"timeDetailColumn\":\"NoteModal_timeDetailColumn__3oSOl\",\"userDetailColumn\":\"NoteModal_userDetailColumn__3873S\",\"relatingToDetailColumn\":\"NoteModal_relatingToDetailColumn__1pydu\",\"polarityDetailColumn\":\"NoteModal_polarityDetailColumn__S5HQY\",\"timeInput\":\"NoteModal_timeInput__A0BE8\",\"dropdown\":\"NoteModal_dropdown__190h9\",\"timeDropdown\":\"NoteModal_timeDropdown__34kHu\",\"dropdownButton\":\"NoteModal_dropdownButton__3vsAb\",\"dropdownButtonWithIcon\":\"NoteModal_dropdownButtonWithIcon__14PCC\",\"dropdownButtonIcon\":\"NoteModal_dropdownButtonIcon__1UAVK\",\"typeToggle\":\"NoteModal_typeToggle__10u6g\",\"dropdownContent\":\"NoteModal_dropdownContent__Qsz7N\",\"timeToggle\":\"NoteModal_timeToggle__1-Dbp\",\"dropdownItem\":\"NoteModal_dropdownItem__o06A4\",\"dropdownItemWithIcon\":\"NoteModal_dropdownItemWithIcon__11Y9K\",\"dropdownItemIcon\":\"NoteModal_dropdownItemIcon__2lT0D\",\"dropdownBackground\":\"NoteModal_dropdownBackground__VLJmq\",\"noteTextContainer\":\"NoteModal_noteTextContainer__2Q5uZ\",\"noteDetails\":\"NoteModal_noteDetails__2QRGe\",\"shareContainer\":\"NoteModal_shareContainer__1YoJG\",\"modalFooter\":\"NoteModal_modalFooter__1gKrE\",\"closeButton\":\"NoteModal_closeButton__3LD5c\",\"cancelButton\":\"NoteModal_cancelButton__KgG6g\",\"addButton\":\"NoteModal_addButton__EWZrV\",\"deleteButton\":\"NoteModal_deleteButton__3Y1ib\",\"timePicker\":\"NoteModal_timePicker__1pzBZ\",\"numberPicker\":\"NoteModal_numberPicker__22GIX\",\"numberInput\":\"NoteModal_numberInput__1Y-YM\",\"upButton\":\"NoteModal_upButton__2eVrI\",\"downButton\":\"NoteModal_downButton__NNB7z\",\"checkboxContainer\":\"NoteModal_checkboxContainer__3ZLxn\",\"checkboxLabel\":\"NoteModal_checkboxLabel__24vPa\",\"checkbox\":\"NoteModal_checkbox__7QcMD\",\"checkbox2\":\"NoteModal_checkbox2__2xXfi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"EventTimeline\":\"EventTimeline_EventTimeline__33wCA\",\"ControlLayer\":\"EventTimeline_ControlLayer__3I9iP\",\"EventLayer\":\"EventTimeline_EventLayer__2vguG\",\"LayerContent\":\"EventTimeline_LayerContent__755Wd\",\"overlayMargin\":\"EventTimeline_overlayMargin__3Y6ok\",\"gradientLayer\":\"EventTimeline_gradientLayer__2bcZi\",\"gradientStart\":\"EventTimeline_gradientStart__fe28T\",\"gradientEnd\":\"EventTimeline_gradientEnd__1FIgX\",\"sentenceMarker\":\"EventTimeline_sentenceMarker__210VZ\",\"focusSwitcherTop\":\"EventTimeline_focusSwitcherTop__1LiA0\",\"focusSwitcherBottom\":\"EventTimeline_focusSwitcherBottom__1loOO\",\"sentenceMarkerAvatarTop\":\"EventTimeline_sentenceMarkerAvatarTop__1O-ia\",\"sentenceMarkerAvatarBottom\":\"EventTimeline_sentenceMarkerAvatarBottom__3Ph4J\",\"sentence\":\"EventTimeline_sentence__jg4lB\",\"conference\":\"EventTimeline_conference__2Eby2\",\"top\":\"EventTimeline_top__2Wmfw\",\"bottom\":\"EventTimeline_bottom__1jFB9\",\"playhead\":\"EventTimeline_playhead__AyxS7\",\"playheadTop\":\"EventTimeline_playheadTop__3Q8LR\",\"playheadBottom\":\"EventTimeline_playheadBottom__2Vz-9\",\"playheadTime\":\"EventTimeline_playheadTime__3MIEW\",\"timeStamp\":\"EventTimeline_timeStamp__2ot5c\",\"timeStampLine\":\"EventTimeline_timeStampLine__hoyPZ\",\"timeStampText\":\"EventTimeline_timeStampText__3KcwP\",\"overlay\":\"EventTimeline_overlay__2aUBd\",\"transport-container\":\"EventTimeline_transport-container__1JTo3\",\"transport-button\":\"EventTimeline_transport-button__1qMlf\",\"start\":\"EventTimeline_start__18fGt\",\"restart\":\"EventTimeline_restart__1SD5f\",\"overlayContentFlex\":\"EventTimeline_overlayContentFlex__25gAH\",\"info-box\":\"EventTimeline_info-box__2tBxX\",\"info-displaying-text\":\"EventTimeline_info-displaying-text__3zglK\",\"channelLines\":\"EventTimeline_channelLines__2PYg_\",\"channelLabel\":\"EventTimeline_channelLabel__17jRE\",\"tinyNumber\":\"EventTimeline_tinyNumber__298XW\",\"hideEventTimeline\":\"EventTimeline_hideEventTimeline__1Ts_P\",\"showEventTimeline\":\"EventTimeline_showEventTimeline__6kP7r\",\"showEventTimelineContent\":\"EventTimeline_showEventTimelineContent__OyRJo\",\"showIcon\":\"EventTimeline_showIcon__3LR3W\",\"pauseSkipIcon\":\"EventTimeline_pauseSkipIcon__1Z7lW\",\"progressBarContainer\":\"EventTimeline_progressBarContainer__me3sx\",\"progressBarOuter\":\"EventTimeline_progressBarOuter__2amQO\",\"progressBar\":\"EventTimeline_progressBar__6AoIF\",\"closeButton\":\"EventTimeline_closeButton__w6MsB\",\"unreadNotes\":\"EventTimeline_unreadNotes__2oRWZ\",\"notificationBell\":\"EventTimeline_notificationBell__3J2q2\",\"notificationCount\":\"EventTimeline_notificationCount__336nT\",\"reviewButton\":\"EventTimeline_reviewButton__3hWjI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"CallSummary_header__1BrBi\",\"summaryBar\":\"CallSummary_summaryBar__29dIH\",\"summaryLines\":\"CallSummary_summaryLines__1o5UL\",\"summaryLabels\":\"CallSummary_summaryLabels__O3NWb\",\"label\":\"CallSummary_label__1Ad0x\",\"line\":\"CallSummary_line__1ABtQ\",\"group\":\"CallSummary_group__2Snbk\",\"flip\":\"CallSummary_flip__nesyS\",\"section\":\"CallSummary_section__1TjqM\",\"sectionColumns\":\"CallSummary_sectionColumns__2exPN\",\"talking\":\"CallSummary_talking__1fO-y\",\"listening\":\"CallSummary_listening__2mQKD\",\"overtalk\":\"CallSummary_overtalk__Ez4YV\",\"silent\":\"CallSummary_silent__22eJS\",\"holding\":\"CallSummary_holding__10Wlo\",\"queuing\":\"CallSummary_queuing__3noF0\",\"routing\":\"CallSummary_routing__2xLTH\",\"ringing\":\"CallSummary_ringing__3dJg9\",\"agent\":\"CallSummary_agent__HcXtE\",\"customer\":\"CallSummary_customer__M0Ach\",\"headerItem\":\"CallSummary_headerItem__3Kfka\",\"buttonShowLess\":\"CallSummary_buttonShowLess__2u-v-\",\"buttonShowMore\":\"CallSummary_buttonShowMore__q9TAD\",\"metricsSection\":\"CallSummary_metricsSection__Bmdci\",\"metricsTable\":\"CallSummary_metricsTable__3tBLo\",\"totals\":\"CallSummary_totals__3S669\",\"figure\":\"CallSummary_figure__2TdLL\",\"rowTitle\":\"CallSummary_rowTitle__1Lho5\",\"bigDigits\":\"CallSummary_bigDigits__2s6yo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"onTop\":\"TranscriptionConversation_onTop__H7ZcM\",\"TranscriptionConversation\":\"TranscriptionConversation_TranscriptionConversation__Hm7sm\",\"transcriptionEventContainer\":\"TranscriptionConversation_transcriptionEventContainer__3j7RN\",\"container\":\"TranscriptionConversation_container__d2bFK\",\"playHead\":\"TranscriptionConversation_playHead__10vuv\",\"start\":\"TranscriptionConversation_start__28y7S\",\"conversation\":\"TranscriptionConversation_conversation__9LZ36\",\"conversationContainer\":\"TranscriptionConversation_conversationContainer__3GZbJ\",\"conversationRow\":\"TranscriptionConversation_conversationRow__3FWdD\",\"conversationRowLinked\":\"TranscriptionConversation_conversationRowLinked__YmrvP\",\"conversationRowRight\":\"TranscriptionConversation_conversationRowRight__1hJHF\",\"spacer\":\"TranscriptionConversation_spacer__1P6IX\",\"sentence\":\"TranscriptionConversation_sentence__3Yd0S\",\"primary\":\"TranscriptionConversation_primary__3s7C6\",\"playheadMarker\":\"TranscriptionConversation_playheadMarker__2IF7x\",\"sentenceBody\":\"TranscriptionConversation_sentenceBody__2qhuW\",\"person\":\"TranscriptionConversation_person__1lwBb\",\"blanking\":\"TranscriptionConversation_blanking__2y-h2\",\"secondary\":\"TranscriptionConversation_secondary__2k82J\",\"initials\":\"TranscriptionConversation_initials__11w8E\",\"playHeadLine\":\"TranscriptionConversation_playHeadLine__1ir2G\",\"playHeadStartText\":\"TranscriptionConversation_playHeadStartText__2Bhe6\",\"confidence\":\"TranscriptionConversation_confidence__3QVNg\",\"matchFill\":\"TranscriptionConversation_matchFill__3n50E\",\"matchFillAnimate\":\"TranscriptionConversation_matchFillAnimate__1KxgR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mask\":\"CallRating_mask__2Zwb0\",\"CallRating\":\"CallRating_CallRating__1tqJB\",\"modalHeader\":\"CallRating_modalHeader__NQG1W\",\"title\":\"CallRating_title__2Icpr\",\"modalBody\":\"CallRating_modalBody__xjR-2\",\"ratingRow\":\"CallRating_ratingRow__2z4ST\",\"ratingContainer\":\"CallRating_ratingContainer__3toSc\",\"ratingTitle\":\"CallRating_ratingTitle__2cE1f\",\"noteDetails\":\"CallRating_noteDetails__2XJ4E\",\"pipRating\":\"CallRating_pipRating__15oOm\",\"rating\":\"CallRating_rating__ClyMx\",\"pip\":\"CallRating_pip__1RnoO\",\"pip5\":\"CallRating_pip5__3tMFu\",\"active\":\"CallRating_active__wbvz3\",\"radio5\":\"CallRating_radio5__yIA_p\",\"pip4\":\"CallRating_pip4__2th7s\",\"radio4\":\"CallRating_radio4__3KLED\",\"pip3\":\"CallRating_pip3__vIrFG\",\"radio3\":\"CallRating_radio3__2OTA4\",\"pip2\":\"CallRating_pip2__1he_W\",\"radio2\":\"CallRating_radio2__LLg-u\",\"pip1\":\"CallRating_pip1__3fhyr\",\"radio1\":\"CallRating_radio1__1kD5j\",\"modalFooter\":\"CallRating_modalFooter__3hk2T\",\"closeButton\":\"CallRating_closeButton__ENewE\",\"cancelButton\":\"CallRating_cancelButton__2tfav\",\"finishButton\":\"CallRating_finishButton__2XxMi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"small\":\"StandardChannelEventsLayer_small__1cz35\",\"startIcon\":\"StandardChannelEventsLayer_startIcon__saU_x\",\"endIcon\":\"StandardChannelEventsLayer_endIcon__uu9yc\",\"eventContainer\":\"StandardChannelEventsLayer_eventContainer__C4qVC\",\"event\":\"StandardChannelEventsLayer_event__3V-VD\",\"LayerContent\":\"StandardChannelEventsLayer_LayerContent__1PL5F\",\"transfer\":\"StandardChannelEventsLayer_transfer__1lZVx\",\"scrubber\":\"StandardChannelEventsLayer_scrubber__1D3au\",\"pause\":\"StandardChannelEventsLayer_pause__1RSEJ\",\"start\":\"StandardChannelEventsLayer_start__3RgZE\",\"ring\":\"StandardChannelEventsLayer_ring__1sQ7b\",\"bridge\":\"StandardChannelEventsLayer_bridge__k8UYG\",\"wholeTimeline\":\"StandardChannelEventsLayer_wholeTimeline__1pwqa\",\"hold\":\"StandardChannelEventsLayer_hold__2xXdl\",\"microClusteredEndIconContainer\":\"StandardChannelEventsLayer_microClusteredEndIconContainer__inN4v\",\"microClusteredEndIcon\":\"StandardChannelEventsLayer_microClusteredEndIcon__3RFBa\",\"markerLines\":\"StandardChannelEventsLayer_markerLines__Gu0Eq\",\"leftLine\":\"StandardChannelEventsLayer_leftLine__yYz6W\",\"rightLine\":\"StandardChannelEventsLayer_rightLine__1BGwr\",\"routingOverlay\":\"StandardChannelEventsLayer_routingOverlay__InWyN\",\"routing\":\"StandardChannelEventsLayer_routing__3eXD8\",\"primary\":\"StandardChannelEventsLayer_primary__2UeZx\",\"secondary\":\"StandardChannelEventsLayer_secondary__33HtG\",\"iconLevel\":\"StandardChannelEventsLayer_iconLevel__12BAC\",\"unrecordedTimeLabel\":\"StandardChannelEventsLayer_unrecordedTimeLabel__1Q3g4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchFilters\":\"SearchFilters_SearchFilters__357Sq\",\"tabs\":\"SearchFilters_tabs__2YMo0\",\"button\":\"SearchFilters_button__cLFyv\",\"active\":\"SearchFilters_active__173Mt\",\"inuse\":\"SearchFilters_inuse__2hUDP\",\"spacer\":\"SearchFilters_spacer__1zssF\",\"search\":\"SearchFilters_search__Drw9T\",\"callSummary\":\"SearchFilters_callSummary__2My5R\",\"knowledge\":\"SearchFilters_knowledge__2vUtq\",\"insights\":\"SearchFilters_insights__2Et2o\",\"chevron\":\"SearchFilters_chevron__2PbAp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mask\":\"KnowledgeClassifications_mask__1WKQO\",\"modal\":\"KnowledgeClassifications_modal__1QIuP\",\"modalHeader\":\"KnowledgeClassifications_modalHeader__2w6Aq\",\"title\":\"KnowledgeClassifications_title__1iCPt\",\"modalFooter\":\"KnowledgeClassifications_modalFooter__NR1DA\",\"categoriesContainer\":\"KnowledgeClassifications_categoriesContainer__Stq-p\",\"categoriesHeader\":\"KnowledgeClassifications_categoriesHeader__LFc_1\",\"categoriesBody\":\"KnowledgeClassifications_categoriesBody__2J2G9\",\"headerTitle\":\"KnowledgeClassifications_headerTitle__flmR3\",\"pillContainer\":\"KnowledgeClassifications_pillContainer__2PJxO\",\"pillContainerKeywords\":\"KnowledgeClassifications_pillContainerKeywords__ElOMm\",\"selectedItemName\":\"KnowledgeClassifications_selectedItemName__2s8Fe\",\"triggers\":\"KnowledgeClassifications_triggers__1IY6a\",\"closeButton\":\"KnowledgeClassifications_closeButton__3BDhi\",\"cancelButton\":\"KnowledgeClassifications_cancelButton__3dCyB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"callListContainer\":\"Header_callListContainer__3V3Yf\",\"callListItem\":\"Header_callListItem__3ZYY-\",\"uuid\":\"Header_uuid__29XWB\",\"itemIndex\":\"Header_itemIndex__6xdhU\",\"Header\":\"Header_Header__1CTzX\",\"HeaderContainer\":\"Header_HeaderContainer__1lPul\",\"Branding\":\"Header_Branding__3-ssE\",\"logo\":\"Header_logo__3T0lc\",\"Player\":\"Header_Player__3mMx8\",\"LayoutOptions\":\"Header_LayoutOptions__uuRgn\",\"Exit\":\"Header_Exit__3Zmim\",\"visibilityButton\":\"Header_visibilityButton__2fe1C\",\"dropdownContent\":\"Header_dropdownContent__1iGTI\",\"regularCheckbox\":\"Header_regularCheckbox__3Mc9e\",\"dropdownItem\":\"Header_dropdownItem__1lTVZ\",\"finish\":\"Header_finish__2O8pu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Knowledge_content__SqQhv\",\"column\":\"Knowledge_column__Ozm__\",\"title\":\"Knowledge_title__2OvnU\",\"topics\":\"Knowledge_topics__2vmDc\",\"spacer\":\"Knowledge_spacer__3sa6z\",\"pillContainer\":\"Knowledge_pillContainer__2fixs\",\"classificationContainer\":\"Knowledge_classificationContainer__3epfS\",\"classificationsExceptionHeader\":\"Knowledge_classificationsExceptionHeader__1nYgL\",\"classificationsExceptionColumn\":\"Knowledge_classificationsExceptionColumn__2OBgk\",\"classificationsEmpty\":\"Knowledge_classificationsEmpty__343P2\",\"noPointerEvents\":\"Knowledge_noPointerEvents__2uKBo\",\"searchNavigation\":\"Knowledge_searchNavigation__UuGYG\",\"showAll\":\"Knowledge_showAll__mBv5l\",\"progressBarContainer\":\"Knowledge_progressBarContainer__ng3g5\",\"progressBarOuter\":\"Knowledge_progressBarOuter__31YuM\",\"progressBar\":\"Knowledge_progressBar__iUN4Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionButton\":\"TranscriptionNote_actionButton__269-z\",\"overflowMenu\":\"TranscriptionNote_overflowMenu__3ybh5\",\"acknowledged\":\"TranscriptionNote_acknowledged__2GXoK\",\"toggleThreadButton\":\"TranscriptionNote_toggleThreadButton__27ZFe\",\"edited\":\"TranscriptionNote_edited__2fkGM\",\"locked\":\"TranscriptionNote_locked__1Oel1\",\"note\":\"TranscriptionNote_note__3SnEO\",\"comment\":\"TranscriptionNote_comment__2_9kK\",\"closed\":\"TranscriptionNote_closed__2wrrn\",\"heading\":\"TranscriptionNote_heading__24j7C\",\"subject\":\"TranscriptionNote_subject__2VwZG\",\"author\":\"TranscriptionNote_author__3_4Rr\",\"time\":\"TranscriptionNote_time__1-g5E\",\"noteText\":\"TranscriptionNote_noteText__1B-l1\",\"unread\":\"TranscriptionNote_unread__25WDG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"transcriptionContainer\":\"Transcription_transcriptionContainer__OfTBP\",\"Transcription\":\"Transcription_Transcription__5sUXw\",\"sections\":\"Transcription_sections__3y7Hr\",\"LayerContent\":\"Transcription_LayerContent__3-m_O\",\"playScrub\":\"Transcription_playScrub__1RgEc\",\"playScrubLine\":\"Transcription_playScrubLine__1XA-7\",\"playButton\":\"Transcription_playButton__939mV\",\"playHead\":\"Transcription_playHead__3ktpg\",\"notes\":\"Transcription_notes__28nDa\",\"conversation\":\"Transcription_conversation__3Vogj\",\"confidenceContainer\":\"Transcription_confidenceContainer__IUiZE\",\"confidenceHighlight\":\"Transcription_confidenceHighlight__H7Vyc\",\"confidenceText\":\"Transcription_confidenceText__1iM-r\",\"slider\":\"Transcription_slider__3gJr4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TranscriptionNotes\":\"TranscriptionNotes_TranscriptionNotes__2SeRv\",\"NewNoteSection\":\"TranscriptionNotes_NewNoteSection__ra53G\",\"newNoteContainer\":\"TranscriptionNotes_newNoteContainer__K0dDS\",\"newNoteText\":\"TranscriptionNotes_newNoteText__2rKR2\",\"newNoteIcon\":\"TranscriptionNotes_newNoteIcon__WGBma\",\"checkboxContainer\":\"TranscriptionNotes_checkboxContainer__3c2aO\",\"checkboxLabel\":\"TranscriptionNotes_checkboxLabel__1rHpr\",\"checkbox\":\"TranscriptionNotes_checkbox__1IkkD\",\"note\":\"TranscriptionNotes_note__nH8_D\",\"heading\":\"TranscriptionNotes_heading__3oU5F\",\"time\":\"TranscriptionNotes_time__1pqGi\",\"noteText\":\"TranscriptionNotes_noteText__3eHkg\",\"editButton\":\"TranscriptionNotes_editButton__SiSVX\",\"bottomMenuSpacer\":\"TranscriptionNotes_bottomMenuSpacer__1nUEP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mask\":\"KnowledgeKeywordsTopics_mask__3tGa-\",\"modal\":\"KnowledgeKeywordsTopics_modal__2Zeaj\",\"modalHeader\":\"KnowledgeKeywordsTopics_modalHeader__12uxf\",\"title\":\"KnowledgeKeywordsTopics_title__Z41_g\",\"subtitle\":\"KnowledgeKeywordsTopics_subtitle__2ed4A\",\"modalFooter\":\"KnowledgeKeywordsTopics_modalFooter__1BRyY\",\"columnContainer\":\"KnowledgeKeywordsTopics_columnContainer__1uO-U\",\"pillContainer\":\"KnowledgeKeywordsTopics_pillContainer__1yuPX\",\"classificationPill\":\"KnowledgeKeywordsTopics_classificationPill__73Y_w\",\"light\":\"KnowledgeKeywordsTopics_light__2nTR6\",\"dark\":\"KnowledgeKeywordsTopics_dark__1kTN4\",\"pillText\":\"KnowledgeKeywordsTopics_pillText__3u4JU\",\"classificationIndicator\":\"KnowledgeKeywordsTopics_classificationIndicator__3SXfQ\",\"red\":\"KnowledgeKeywordsTopics_red__3gxmE\",\"orange\":\"KnowledgeKeywordsTopics_orange__rJbPG\",\"green\":\"KnowledgeKeywordsTopics_green__a3zG0\",\"grey\":\"KnowledgeKeywordsTopics_grey__3Ep5x\",\"closeButton\":\"KnowledgeKeywordsTopics_closeButton__2zTH8\",\"cancelButton\":\"KnowledgeKeywordsTopics_cancelButton__22Ydx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Player\":\"Player_Player__2Y5lJ\",\"skipBack\":\"Player_skipBack__2B606\",\"playback\":\"Player_playback__1QNHd\",\"skipForward\":\"Player_skipForward__3mvfF\",\"play\":\"Player_play__3iaw4\",\"playDisabled\":\"Player_playDisabled__261XM\",\"pause\":\"Player_pause__3i8vL\",\"changeSpeed\":\"Player_changeSpeed__1nV3t\",\"spinerLoading\":\"Player_spinerLoading__1f8p_\",\"progress\":\"Player_progress__3fJ6S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Insights_container__tixkw\",\"title\":\"Insights_title__2p7eg\",\"subtitle\":\"Insights_subtitle__2cDow\",\"formCheck\":\"Insights_formCheck__3v1Y9\",\"indicator\":\"Insights_indicator__3ot-J\",\"separator\":\"Insights_separator__G8ClD\",\"thirdWidth\":\"Insights_thirdWidth__yWkcT\",\"halfWidth\":\"Insights_halfWidth__28ltv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__2ms-9\",\"dropdownToggle\":\"Dropdown_dropdownToggle__2e8Ib\",\"dropdownBackground\":\"Dropdown_dropdownBackground__284-1\",\"dropdownContent\":\"Dropdown_dropdownContent__3v-qe\",\"fadeIn\":\"Dropdown_fadeIn__3EmcY\",\"dropdownButton\":\"Dropdown_dropdownButton__3eMEJ\",\"dropdownItem\":\"Dropdown_dropdownItem__2IaVy\",\"selected\":\"Dropdown_selected__2KC1A\",\"viewName\":\"Dropdown_viewName__fPHuV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mask\":\"ErrorModal_mask__1iinA\",\"modal\":\"ErrorModal_modal__3DSmd\",\"modalHeader\":\"ErrorModal_modalHeader__3noKu\",\"title\":\"ErrorModal_title__20LRH\",\"message\":\"ErrorModal_message__1siCE\",\"modalFooter\":\"ErrorModal_modalFooter__6Vgf2\",\"secondaryButton\":\"ErrorModal_secondaryButton__2ATbd\",\"primaryButton\":\"ErrorModal_primaryButton__1KUs3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"classificationPill\":\"KnowledgeClassificationPill_classificationPill__3r7bf\",\"dark\":\"KnowledgeClassificationPill_dark__1u4sR\",\"classificationIndicator\":\"KnowledgeClassificationPill_classificationIndicator__10E2O\",\"positive\":\"KnowledgeClassificationPill_positive__3NkmP\",\"negative\":\"KnowledgeClassificationPill_negative__1T4AJ\",\"warning\":\"KnowledgeClassificationPill_warning__2yPbF\",\"info\":\"KnowledgeClassificationPill_info__sVvVr\",\"pillText\":\"KnowledgeClassificationPill_pillText__2PbXm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Search\":\"Search_Search__2wNw2\",\"searchTextBox\":\"Search_searchTextBox__1XTgg\",\"searchNavigation\":\"Search_searchNavigation__gvy74\",\"chevron\":\"Search_chevron__2pcu0\",\"spacer\":\"Search_spacer__OM0E8\",\"clearButton\":\"Search_clearButton__18xL2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"OverflowMenu_button__2JaCa\",\"locked\":\"OverflowMenu_locked__oj3aS\",\"popover\":\"OverflowMenu_popover__178h3\",\"menu\":\"OverflowMenu_menu__Li1f5\",\"item\":\"OverflowMenu_item__1xBO4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info-box\":\"MetricsTimelineLayer_info-box__2mv6g\",\"key-info-box\":\"MetricsTimelineLayer_key-info-box__1qu8Z\",\"transcription-confidence\":\"MetricsTimelineLayer_transcription-confidence__2_7Us\",\"background-noise-level\":\"MetricsTimelineLayer_background-noise-level__pMkDu\",\"LayerContent\":\"MetricsTimelineLayer_LayerContent__2dmql\",\"plotline\":\"MetricsTimelineLayer_plotline__CEqVm\",\"confidence\":\"MetricsTimelineLayer_confidence__2Fesv\",\"caller\":\"MetricsTimelineLayer_caller__9_6-d\",\"agent\":\"MetricsTimelineLayer_agent__2uZ2h\",\"noise\":\"MetricsTimelineLayer_noise__XMWu5\",\"noise-primary\":\"MetricsTimelineLayer_noise-primary__2FFQq\",\"noise-secondary\":\"MetricsTimelineLayer_noise-secondary__30XHG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pill\":\"KnowledgeKeywordTopicPill_pill__3gVG5\",\"pillModal\":\"KnowledgeKeywordTopicPill_pillModal__3mstZ\",\"pillCategoryModal\":\"KnowledgeKeywordTopicPill_pillCategoryModal__27JUc\",\"pillText\":\"KnowledgeKeywordTopicPill_pillText__3hCWf\",\"pillColourContainer\":\"KnowledgeKeywordTopicPill_pillColourContainer__jQNrN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resultNavigator\":\"ResultNavigator_resultNavigator__2de3B\",\"button\":\"ResultNavigator_button__3LA5-\",\"searchItemContainer\":\"ResultNavigator_searchItemContainer__3Lcb1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"NotesFilterSelector_filter__39c6L\",\"popover\":\"NotesFilterSelector_popover__6Ahbx\",\"item\":\"NotesFilterSelector_item__27MiK\",\"highlighted\":\"NotesFilterSelector_highlighted__3IDw-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LayerContent\":\"AudioEventLayer_LayerContent__1wCHN\",\"LayerContentVertical\":\"AudioEventLayer_LayerContentVertical__1_LDe\",\"eventContainer\":\"AudioEventLayer_eventContainer__61Q3N\",\"ClashLine\":\"AudioEventLayer_ClashLine__3aXBK\",\"ClashLineHorizontal\":\"AudioEventLayer_ClashLineHorizontal__1PnCw\",\"ClashIcon\":\"AudioEventLayer_ClashIcon__jIbuW\",\"Primary\":\"AudioEventLayer_Primary__pimRL\",\"Secondary\":\"AudioEventLayer_Secondary__3wL-C\",\"Cluster\":\"AudioEventLayer_Cluster__14ML6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LayoutOptions_container__SnRJV\",\"button\":\"LayoutOptions_button__2hfc6\",\"popover\":\"LayoutOptions_popover__12o3_\",\"item\":\"LayoutOptions_item__ih14T\",\"regularCheckbox\":\"LayoutOptions_regularCheckbox__1NGBi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__33rUO\",\"svgIcon\":\"Avatar_svgIcon__1m2Hf\"};","export const SET_PRIMARY_UUID = 'SET_PRIMARY_UUID';\n\nexport function setPrimaryUuid(uuid) {\n    return {\n        type: SET_PRIMARY_UUID,\n        payload: {\n            uuid,\n        },\n    };\n}\n","export const CLIENT_ID = process.env.REACT_APP_CLIENT_ID;\nexport const CLIENT_SECRET = process.env.REACT_APP_CLIENT_SECRET;\nexport const USERNAME = process.env.REACT_APP_USERNAME;\nexport const PASSWORD = process.env.REACT_APP_PASSWORD;\nexport const BASE_URL = process.env.REACT_APP_BASE_URL;\nexport const CALLFLOW_URL = process.env.REACT_APP_CALLFLOW_URL;\nexport const GATEKEEPER_URL = process.env.REACT_APP_GATEKEEPER_URL;\nexport const AGENT_TITLE = process.env.REACT_APP_AGENT_TITLE;\nexport const CUSTOMER_TITLE = process.env.REACT_APP_CUSTOMER_TITLE;\n","export default class Token {\n    constructor(accessToken, userId, organisationId) {\n        this.accessToken = accessToken;\n        this.userId = userId;\n        this.organisationId = organisationId;\n    }\n}\n","import ClientOAuth2 from 'client-oauth2';\n/* eslint-disable import/no-unresolved */\nimport {\n    CLIENT_ID,\n    CLIENT_SECRET,\n    PASSWORD,\n    USERNAME,\n    BASE_URL,\n} from './Environment';\n/* eslint-enable import/no-unresolved */\nimport Token from './Token';\n\nexport default class ApiClient {\n    static get tokenBaseUrl() {\n        return BASE_URL;\n    }\n\n    constructor(baseUrl) {\n        this.BASE_URL = baseUrl;\n        this.auth = new ClientOAuth2({\n            clientId: CLIENT_ID,\n            clientSecret: CLIENT_SECRET,\n            accessTokenUri: `${ApiClient.tokenBaseUrl}/auth/token`,\n        });\n    }\n\n    async getToken() {\n        if (typeof this.token !== 'undefined') {\n            return this.token;\n        }\n\n        const token = await this.auth.owner.getToken(USERNAME, PASSWORD);\n\n        const user = await fetch(`${ApiClient.tokenBaseUrl}/v1/user/me`, {\n            headers: {\n                Accept: 'application/json',\n                Authorization: `Bearer ${token.accessToken}`,\n            },\n        }).then(response => response.json());\n\n        this.token = new Token(token.accessToken, user.userId, user.organisationId);\n        return this.token;\n    }\n\n    async doGet(url, jwtToken, headers = {}) {\n        let accept = headers.Accept || 'application/json';\n        if (!accept.includes('application/json')) {\n            accept = `${headers.Accept}, application/json`;\n        }\n\n        let token = null;\n        if (jwtToken) token = { accessToken: jwtToken };\n        else token = await this.getToken();\n\n        return fetch(`${this.BASE_URL}/${url}`, {\n            headers: {\n                ...headers,\n                Accept: accept,\n                Authorization: `Bearer ${token.accessToken}`,\n            },\n        });\n    }\n}\n","import ApiClient from './ApiClient';\nimport { CALLFLOW_URL } from './Environment';\n\nexport default class CallFlowApiClient extends ApiClient {\n    constructor() {\n        const sfEnv = JSON.parse(localStorage.getItem('ENV_URLS'));\n        let url = CALLFLOW_URL;\n        if (sfEnv && sfEnv.callflowUrl) {\n            url = sfEnv.callflowUrl;\n        }\n        super(url);\n    }\n}\n","import ApiClient from './ApiClient';\nimport { BASE_URL } from './Environment';\n\nexport default class SapienApiClient extends ApiClient {\n    constructor() {\n        const sfEnv = JSON.parse(localStorage.getItem('ENV_URLS'));\n        let url = BASE_URL;\n        if (sfEnv && sfEnv.sapienUrl) {\n            url = sfEnv.sapienUrl;\n        }\n        super(url);\n    }\n}\n","/* eslint-disable import/prefer-default-export */\nexport const TRANSCRIPTION_START_OFFSET = 50;\nexport const AUDIO_FORMAT = 'mp3';\n","export function calculatePositionPercentage(position, timeline) {\n    const rangeFactor = (100 / timeline.range);\n    return `${rangeFactor * (position - timeline.start)}%`;\n}\n\nexport function calculatePositionPercentageWithOffset(position, timeline) {\n    const unrecordedOffset = timeline.transcriptionStart - timeline.start;\n    const offsetPosition = position + unrecordedOffset;\n    const rangeFactor = (100 / timeline.range);\n    return `${rangeFactor * (offsetPosition - timeline.start)}%`;\n}\n\nexport function calculateWidthPercentage(start, end, timeline) {\n    const rangeFactor = (100 / timeline.range);\n    return `${rangeFactor * (end - start)}%`;\n}\n\nexport function layerStyleWithScrubBounds(plotWholeTimeline, scrub, style = {}) {\n    if (plotWholeTimeline) {\n        return {\n            ...style,\n            width: '100%',\n            marginLeft: '0%',\n        };\n    }\n\n    const width = 100 / (scrub.end - scrub.start) * 100;\n    const marginLeft = width / 100 * scrub.start;\n    return {\n        ...style,\n        width: `${width}%`,\n        marginLeft: `${-marginLeft}%`,\n    };\n}\n\nexport function viewBoxForRange(timeline) {\n    return [0, 0, Math.floor(timeline.range / 1000), 100].join(' ');\n}\n\nexport function scale(num, inMin, inMax, outMin, outMax) {\n    return (num - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\n}\n\nexport function eventFlags(eventToProcess) {\n    const { event } = eventToProcess;\n    const csChange = { isCsStateChange: true };\n    switch (event) {\n        case 'CHANNEL_START':\n            return { isChannelStart: true };\n        case 'CHANNEL_RING':\n            return { isChannelRing: true };\n        case 'CHANNEL_ANSWER':\n            return { isChannelAnswer: true };\n        case 'CHANNEL_END':\n            return { isChannelEnd: true };\n        case 'CHANNEL_COMPLETE':\n            return { isChannelComplete: true };\n        case 'CS_BRIDGE':\n            return { ...csChange, isBridge: true };\n        case 'CS_PARKED_TRANSFER':\n            return { ...csChange, isParkedTransfer: true };\n        case 'CS_QUEUING':\n            return { ...csChange, isQueuing: true };\n        case 'CS_ROUTING':\n            return { ...csChange, isRouting: true };\n        case 'PARK_OTHER_FOR_TRANSFER':\n            return { ...csChange, isParkedTransfer: true, isSecondary: true };\n        case 'UNBRIDGE':\n            return { ...csChange, isUnBridge: true };\n        case 'CONFERENCE_IN':\n            return { isConferenceIn: true };\n        case 'CONFERENCE_OUT':\n            return { isConferenceOut: true };\n        case 'RECORD_START':\n            return { isRecordStart: true };\n        case 'RECORD_STOP':\n            return { isRecordStop: true };\n        case 'HOLD':\n            return { isHold: true };\n        case 'UN_HOLD':\n            return { isUnHold: true };\n        case 'REQUEST_HOLD':\n            return { isHold: true, isSecondary: true };\n        case 'REQUEST_UN_HOLD':\n            return { isUnHold: true, isSecondary: true };\n        case 'LISTEN_IN':\n            return { isListenIn: true };\n        case 'LISTEN_IN_WHISPER':\n            return { isListenInWhisper: true };\n        case 'LISTEN_IN_BARGE':\n            return { isListenInBarge: true };\n        case 'LISTEN_IN_DISCONNECT':\n            return { isListenInDisconnect: true };\n        default: {\n            console.log(`New event found: ${event.event}`);\n            return {};\n        }\n    }\n}\n\nexport function eventName(flags) {\n    return Object.keys(flags).join(' ');\n}\n","export class InsightsError extends Error {\n    constructor(message = '', status = null, displayMessage = null) {\n        super(message);\n        this.status = status;\n        this.displayMessage = displayMessage;\n    }\n}\n\nexport class LoadingError extends Error {\n    constructor(message = '', response = null) {\n        super(message);\n        this.response = response;\n    }\n}\n\nexport class BlockingInsightsError {\n    constructor(status = null, statusMessage = null, blockingMessage = null) {\n        this.status = status;\n        this.statusMessage = statusMessage;\n        this.blockingMessage = blockingMessage;\n    }\n}\n","import CallFlowApiClient from './CallFlowApiClient';\nimport SapienApiClient from './SapienApiClient';\nimport { AUDIO_FORMAT } from '../../shared/utility/constants';\nimport { eventFlags } from '../../shared/utility/timeline';\nimport { LoadingError } from '../../shared/utility/errors';\n\nexport async function getCallList(jwtToken) {\n    const client = new SapienApiClient();\n    let token = null;\n    if (jwtToken) {\n        token = jwtToken;\n    } else {\n        token = await client.getToken();\n    }\n    return client.doGet(`v1/organisation/${token.organisationId}/log/call`, (jwtToken) ? jwtToken.token : null)\n        .then((response) => {\n            if (!response.ok) {\n                // throw Error('Request failed');\n                return [];\n            }\n\n            return response.json();\n        });\n}\n\nexport async function getCallForUuid(uuid, jwtToken) {\n    const client = new SapienApiClient();\n    let token = null;\n    if (jwtToken) {\n        token = jwtToken;\n    } else {\n        token = await client.getToken();\n    }\n    return client.doGet(`v1/organisation/${token.organisationId}/log/call?uuid=${uuid}`, (jwtToken) ? jwtToken.token : null)\n        .then((response) => {\n            if (!response.ok) {\n                // throw Error('Request failed');\n                return [];\n            }\n\n            return response.json();\n        });\n}\n\nexport function filterCallsWithDuplicateStartTimes() {\n    const times = [];\n    return (call) => {\n        if (times.includes(call.timeStart)) {\n            return false;\n        }\n        times.push(call.timeStart);\n        return true;\n    };\n}\n\nexport function filterAndSortCallsByUniqueTimestamp(calls) {\n    const filter = filterCallsWithDuplicateStartTimes();\n    return calls\n        .flat()\n        .filter(filter)\n        .sort((a, b) => new Date(a.timeStart).getTime() - new Date(b.timeStart).getTime());\n}\n\nexport function getCallsRelatedToUuids(\n    uuids,\n    jwtToken,\n    getCallForUuidApiCall = getCallForUuid,\n) {\n    return new Promise((resolve) => {\n        const calls = [];\n        uuids.forEach((uuid) => {\n            getCallForUuidApiCall(uuid, jwtToken)\n                .then((call) => {\n                    calls.push(call.data);\n                    if (calls.length === uuids.length) {\n                        resolve(filterAndSortCallsByUniqueTimestamp(calls));\n                    }\n                });\n        });\n    });\n}\n\n// TODO: TEMPORARY SHIM START (remove when RECORD events match audio duration)\n// TODO: Change \"shift()\" to \"pop()\" in data.js (see TODO not in file)\nexport function eventsTruncatedToAudioDuration(events, duration = null) {\n    if (duration === null || !Array.isArray(events) || events.length === 0) {\n        return events;\n    }\n    let start = Number.MAX_SAFE_INTEGER;\n    let remainingDuration = duration;\n    let threshold = Number.MAX_SAFE_INTEGER;\n    events.forEach((event) => {\n        if ((\n            event.flags.isRecordStart === true\n            || (event.flags.isSecondary === true && event.flags.isUnHold === true)\n        ) && event.timestamp < start) {\n            start = event.timestamp;\n        }\n        if (\n            event.flags.isRecordStop === true\n            || (event.flags.isSecondary === true && event.flags.isHold === true)\n        ) {\n            remainingDuration -= event.timestamp - start;\n            start = Number.MAX_SAFE_INTEGER;\n            if (remainingDuration < 0 && threshold === Number.MAX_SAFE_INTEGER) {\n                threshold = event.timestamp + remainingDuration;\n            }\n        }\n    });\n    return events.map((event) => {\n        if (\n            event.flags.isRecordStop === true\n            || (event.flags.isSecondary === true && event.flags.isHold === true)\n        ) {\n            return {\n                ...event,\n                timestamp: Math.min(threshold, event.timestamp),\n            };\n        }\n        return event;\n    });\n}\n\nexport function callflowShimAddMissingEvents(callflow) {\n    const { events } = callflow;\n    let newEvents = events;\n\n    const isMissingChannelStart = events\n        .filter(event => event.event === 'CHANNEL_START').length === 0;\n\n    if (isMissingChannelStart) {\n        const firstEvent = events\n            .sort((a, b) => a.timestamp - b.timestamp)[0];\n        newEvents = newEvents.concat({\n            event: 'CHANNEL_START',\n            timestamp: firstEvent.timestamp,\n        });\n    }\n\n    const isMissingChannelEnd = events\n        .filter(event => event.event === 'CHANNEL_END').length === 0;\n\n    if (isMissingChannelEnd) {\n        const lastEvent = events\n            .sort((a, b) => b.timestamp - a.timestamp)[0];\n\n        newEvents = newEvents.concat({\n            event: 'CHANNEL_END',\n            timestamp: lastEvent.timestamp,\n        });\n    }\n\n    return {\n        ...callflow,\n        events: newEvents,\n    };\n}\n\nexport function callflowWithEventFlags(callflow, durationThreshold) {\n    const { events } = callflow;\n    return {\n        ...callflow,\n        events: eventsTruncatedToAudioDuration(events.map(event => ({\n            ...event,\n            flags: eventFlags(event),\n        })), durationThreshold),\n    };\n}\n\nexport async function getEvents(uuid, durationThreshold, jwtToken) {\n    if (uuid === null) {\n        alert('UUID cannot be null');\n        return [];\n    }\n    const client = new CallFlowApiClient();\n    let token = null;\n    if (jwtToken) {\n        token = jwtToken;\n    } else {\n        token = await client.getToken();\n    }\n    return client.doGet(`organisation/${token.organisationId}/callflow/${uuid}`, (jwtToken) ? jwtToken.token : null)\n        .then((response) => {\n            if (!response.ok) {\n                throw Error('Request failed');\n            }\n            return response.json()\n                .then(events => callflowShimAddMissingEvents(events))\n                .then(events => callflowWithEventFlags(events, durationThreshold));\n        });\n}\n\nexport async function getTranscription(uuid, jwtToken) {\n    if (uuid === null) {\n        alert('UUID cannot be null');\n        return [];\n    }\n    const client = new SapienApiClient();\n    let token = null;\n    if (jwtToken) {\n        token = jwtToken;\n    } else {\n        token = await client.getToken();\n    }\n    return client.doGet(\n        `v1/organisation/${token.organisationId}/archive/recording/${uuid}/analytics/transcription`,\n        (jwtToken) ? jwtToken.token : null,\n    )\n        .then((response) => {\n            if (!response.ok) {\n                // throw Error('Request failed');\n                return [];\n            }\n\n            return response.json();\n        });\n}\n\nexport async function getAudioAnalysis(uuid, jwtToken) {\n    if (uuid === null) {\n        alert('UUID cannot be null');\n        return [];\n    }\n    const client = new SapienApiClient();\n    let token = null;\n    if (jwtToken) {\n        token = jwtToken;\n    } else {\n        token = await client.getToken();\n    }\n    return client.doGet(\n        `v1/organisation/${token.organisationId}/archive/recording/${uuid}/analytics/talkTime`,\n        (jwtToken) ? jwtToken.token : null,\n    )\n        .then((response) => {\n            if (!response.ok) {\n                // throw Error('Request failed');\n                return [];\n            }\n\n            return response.json();\n        });\n}\n\nexport async function getAudioRecording(uuid, jwtToken, onChunkReceived = () => {}) {\n    if (uuid === null) {\n        alert('UUID cannot be null');\n        return [];\n    }\n    const client = new SapienApiClient();\n    let token = null;\n    if (jwtToken) {\n        token = jwtToken;\n    } else {\n        token = await client.getToken();\n    }\n    const response = await client.doGet(\n        `v1/organisation/${token.organisationId}/archive/recording/${uuid}`,\n        (jwtToken) ? jwtToken.token : null, {\n            Accept: `audio/${AUDIO_FORMAT}`,\n        },\n    );\n\n    if (!response.ok) {\n        throw new LoadingError('Request failed', response);\n    }\n\n    const reader = response.body.getReader();\n\n    let audioDuration;\n    let contentLength;\n\n    if (response.headers) {\n        audioDuration = response.headers.get('X-Audio-duration');\n        contentLength = response.headers.get('Content-Length');\n    }\n\n    if (!audioDuration) {\n        audioDuration = 1000;\n    }\n\n    // If the API didn't return a Content Length, estimate one using a figure that appears to be close enough\n    if (!contentLength) {\n        const estimatedLengthPerAudioSecond = 4388;\n        contentLength = audioDuration * estimatedLengthPerAudioSecond;\n    }\n\n    let receivedLength = 0; // received that many bytes at the moment\n    const chunks = []; // array of received binary chunks (comprises the body)\n    while (true) {\n        const { done, value } = await reader.read(); // eslint-disable-line no-await-in-loop\n\n        if (done) {\n            break;\n        }\n\n        chunks.push(value);\n        receivedLength += value.length;\n\n        const percentage = (receivedLength / contentLength) * 100;\n        onChunkReceived(percentage);\n    }\n\n    const blob = new Blob(chunks);\n\n    return {\n        duration: Math.round(Number(audioDuration) * 1000000),\n        blob,\n    };\n}\n\nexport async function getNotes(uuid) {\n    // TODO call API to get notes\n    console.log(uuid);\n    return [];\n}\n","export function eventsWithParsedDataObjects(events) {\n    return events\n        .map((event) => {\n            const { data } = event;\n            let parsedData = data ? { data } : null;\n            if (typeof data === 'string') {\n                try {\n                    parsedData = {\n                        data: JSON.parse(data),\n                    };\n                } catch (e) {\n                    console.warn('Unable to parse the data');\n                }\n            }\n            return {\n                ...event,\n                ...parsedData,\n            };\n        });\n}\n\nexport function getAssociatedUuidsFromEvents(events = [], primaryUuid) {\n    let extractedUuids = eventsWithParsedDataObjects(events)\n        .filter(event => event.data && event.data.uuid)\n        .map(event => event.data.uuid);\n    if (typeof primaryUuid === 'string' && primaryUuid.length > 0) {\n        extractedUuids = [primaryUuid, ...extractedUuids];\n    }\n    return extractedUuids\n        .filter((uuid, index, array) => array.indexOf(uuid) === index);\n}\n","// Common repository of selectors relating to direct state hierarchy\n\nexport const getItemWithUuidFromArray = (array, uuid) => array.find(item => item.uuid === uuid);\n\nexport const getPrimaryUuid = state => state.primaryUuid;\nexport const getParticipants = state => state.participants;\n\n// Events Selectors\nexport const getEventsState = state => state.events;\nexport const getUuidFromEventsState = state => getEventsState(state).uuid;\nexport const getEventsFromEventsState = state => getEventsState(state).events;\nexport const getEventsByParticipants = state => getEventsState(state).eventsByParticipants;\n\n// Calls Selectors\nexport const getCallsState = state => state.calls;\nexport const getCalls = state => getCallsState(state).calls;\n\n// Status Selectors\nexport const getStatus = state => state.status.status;\nexport const getLoadProgress = state => state.status.progress;\nexport const getLoadProgressAudio = state => state.status.progressAudio;\n\n// Audio Selectors\nexport const getAudioState = state => state.audio;\nexport const getAudioDuration = state => getAudioState(state).duration;\nexport const getAudioEvents = state => getAudioState(state).events;\n\n// Transcription Selectors\nexport const getTranscriptionState = state => state.transcription;\nexport const getRawDataFromTranscriptionState = state => getTranscriptionState(state).rawData;\nexport const getUuidFromTranscriptionState = state => getTranscriptionState(state).uuid;\nexport const getSentencesFromTranscriptionState = state => getTranscriptionState(state).sentences;\n\n// Data Selectors\nexport const getDataState = state => state.data;\nexport const getChannelsFromDataState = state => getDataState(state).channels;\nexport const getParticipantNames = state => getDataState(state).participantNames;\n\n// Scrubber\nexport const getScrubberVisibility = state => state.scrub.isVisible;\n\n// EventTimeline\nexport const getEventTimelineVisibility = state => state.eventTimeline.eventTimelineVisible;\n\n// Tab Selectors\nexport const getActiveTab = state => state.tabs.activeTab;\n\n// Experience options\nexport const getExperienceOptions = state => state.experienceOptions;\n\n// Search\nexport const getSearchState = state => state.search;\nexport const getCurrentPosition = state => getSearchState(state).currentPosition;\nexport const getSearchPhrase = state => getSearchState(state).searchPhrase;\n\n// Knowledge\nexport const getKnowledgeState = state => state.knowledge;\nexport const getKnowledgeSelectedItem = state => getKnowledgeState(state).selectedItem;\n\n// Status\nexport const getStatusState = state => state.status;\nexport const getIsDisplayingState = state => getStatusState(state).isDisplaying;\nexport const getIsDisplayingRoutingState = state => getIsDisplayingState(state).routing;\n\n// Call Summary\nexport const getCallSummaryState = state => state.callSummary;\nexport const getKeyCallers = state => getCallSummaryState(state).keyCallers;\n\n// Playback\nexport const getPlaybackState = state => state.playback;\nexport const getPlaybackSpeed = state => getPlaybackState(state).speed;\n\n// Error Modal\nexport const getErrorModal = state => state.errorModal;\nexport const showErrorModal = state => getErrorModal(state).show;\n","import { createSelector } from 'reselect';\nimport { getAudioEvents } from './common-selectors';\n\nconst getTimestampWithAudioOffsetFunc = createSelector(\n    [getAudioEvents],\n    events => (timestamp) => {\n        let offsetEvent = events.filter(event => timestamp < event.timelineStop).shift();\n        if (offsetEvent) {\n            return timestamp + offsetEvent.offset;\n        }\n        offsetEvent = events.filter(event => timestamp > event.timelineStart).pop();\n        if (offsetEvent) {\n            return timestamp + offsetEvent.offset;\n        }\n        return timestamp;\n    },\n);\n\nexport default getTimestampWithAudioOffsetFunc;\n","/* eslint-disable import/prefer-default-export */\nexport function formatTime(seconds) {\n    const h = parseInt(Math.floor(seconds / 3600), 10);\n    const m = parseInt(Math.floor((seconds % 3600) / 60), 10);\n    const s = parseInt(seconds % 60, 10);\n    return [\n        h,\n        (h === 0) ? m.toString() : m.toString().padStart(2, '0'),\n        s.toString().padStart(2, '0'),\n    ].filter(a => a).join(':');\n}\n\nexport function displayTimeAndDate(time) {\n    const date = new Date(time / 1000);\n    const mm = date.getMonth() + 1; // getMonth() is zero-based\n    const dd = date.getDate();\n    const hours = date.getHours();\n    const mins = date.getMinutes();\n    const stringTime = [\n        (hours > 9 ? '' : '0') + hours,\n        (mins > 9 ? '' : '0') + mins,\n    ].join(':');\n    const stringDate = [\n        (dd > 9 ? '' : '0') + dd,\n        (mm > 9 ? '' : '0') + mm,\n        date.getFullYear(),\n    ].join('/');\n    return [\n        stringDate,\n        stringTime,\n    ].join(' ');\n}\n\nexport function uuidv4() {\n    // eslint-disable-next-line max-len,no-bitwise,no-mixed-operators\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c => (c ^ (crypto.getRandomValues(new Uint8Array(1))[0]) & 15 >> c / 4).toString(16));\n}\n\nexport const decode = str => str.replace(/&#(\\d+);/g, (match, dec) => String.fromCharCode(dec));\n\nexport const timeAndDate = (timeAsText) => {\n    if (!timeAsText) {\n        return {\n            time: '--:--',\n            date: '--/--/--/',\n        };\n    }\n    // TODO: Update function or remove this comment depending on time format changes when connected to API\n    // The docs do not currently show ISO formatted timestamp\n    const convertedTime = (new Date(Date.parse(timeAsText.replace(' ', 'T')))) * 1000;\n    const [date, time] = displayTimeAndDate(convertedTime).split(' ');\n    return {\n        time,\n        date,\n    };\n};\n\nexport function decodeHtml(html) {\n    const txt = document.createElement('textarea');\n    txt.innerHTML = html;\n    return txt.value;\n}\n\nexport const JSONParsedIfStringified = (json) => {\n    if (typeof json !== 'string') {\n        return json;\n    }\n    let returnObject;\n    try {\n        returnObject = JSON.parse(decodeHtml(json));\n    } catch (error) {\n        console.warn(`Could not parse JSON (${error.localDescription})`);\n    }\n    return returnObject;\n};\n","import { createSelector } from 'reselect';\nimport { getEventsState, getIsDisplayingRoutingState, getAudioState } from './common-selectors';\nimport getTimestampWithAudioOffsetFunc from './timestampWithAudioOffset';\nimport { formatTime } from '../../shared/utility/formatting';\n\n/* eslint-disable-next-line import/prefer-default-export */\nexport const getTimeline = createSelector(\n    [getAudioState, getEventsState, getTimestampWithAudioOffsetFunc, getIsDisplayingRoutingState],\n    (audioState, eventsState, timestampWithAudioOffset, isDisplayRouting) => {\n        const helpers = {\n            timestampAtPlayhead(playhead) {\n                return this.start + this.range / 100 * playhead;\n            },\n            sentenceTimestampAtPlayhead(playhead) {\n                const { transcriptionStart } = this;\n                return (timestampWithAudioOffset(this.timestampAtPlayhead(playhead) - transcriptionStart)) / 1000;\n            },\n            playheadAtTimestamp(timestamp) {\n                return 100 / this.range * timestamp;\n            },\n            formattedTimeAtPlayhead(playhead) {\n                const { range, routingOffset } = this;\n                const playSeconds = range * playhead / 100000000;\n                const routingSeconds = routingOffset / 1000000;\n                const isPlayheadInUnrecordedTime = (routingSeconds - playSeconds) > 0;\n                const seconds = new Date(Math.abs(routingSeconds - playSeconds));\n                return `${isPlayheadInUnrecordedTime ? '-' : ''}${formatTime(seconds)}`;\n            },\n            pausedPropertiesAtPlayhead(playhead, eventsForPrimaryParticipant) {\n                const properties = {\n                    isPaused: false,\n                    timeAtPauseEnd: null,\n                    playheadAtPauseEnd: null,\n                };\n\n                if (eventsForPrimaryParticipant && eventsForPrimaryParticipant.events) {\n                    const timeStampAtPlayhead = this.timestampAtPlayhead(playhead);\n                    const recordStopEvent = eventsForPrimaryParticipant.events\n                        .filter(event => event.startFlags && event.startFlags.isRecordStop === true\n                            && timeStampAtPlayhead >= event.start && timeStampAtPlayhead <= event.end)\n                        .shift();\n\n                    if (recordStopEvent !== undefined) {\n                        properties.isPaused = true;\n                        properties.timeAtPauseEnd = recordStopEvent.end;\n                        properties.playheadAtPauseEnd = this.playheadAtTimestamp(recordStopEvent.end - this.start);\n                    }\n                }\n                return properties;\n            },\n            transcriptionOffsetPercentage() {\n                const unrecordedOffset = this.transcriptionStart - this.start;\n                return 100 / this.range * unrecordedOffset;\n            },\n        };\n        if (eventsState.events === null) {\n            return {\n                ...helpers,\n                start: 0,\n                end: 0,\n                range: 0,\n            };\n        }\n        const isNonAudioTimeline = eventsState.events\n            .filter(event => event.flags.isRecordStart === true).length === 0;\n\n        const transcriptionStart = eventsState.events\n            .filter(event => (isNonAudioTimeline ? event.flags.isChannelAnswer : event.flags.isRecordStart === true))\n            .shift()\n            .timestamp;\n\n        const channelStart = eventsState.events\n            .filter(event => event.flags.isChannelStart)\n            .shift()\n            .timestamp;\n\n        const timelineStart = isDisplayRouting ? channelStart : transcriptionStart;\n        const unrecordedTime = transcriptionStart - channelStart;\n        const routingOffset = transcriptionStart - timelineStart;\n\n        const timelineEnd = eventsState.events\n            .filter(event => (isNonAudioTimeline ? event.flags.isChannelComplete : event.flags.isRecordStop === true))\n            .sort((a, b) => a.timestamp - b.timestamp)\n            .pop()\n            .timestamp;\n\n        return {\n            ...helpers,\n            start: timelineStart,\n            end: timelineEnd,\n            range: timelineEnd - timelineStart,\n            transcriptionStart,\n            routingOffset,\n            unrecordedTime,\n        };\n    },\n);\n","import { getCallsRelatedToUuids } from '../../routes/api/App';\nimport { getAssociatedUuidsFromEvents } from './events-helpers';\nimport { getEventsFromEventsState, getPrimaryUuid } from '../selectors/common-selectors';\nimport { getTimeline } from '../selectors';\n\nexport const REQUEST_CALLS = 'REQUEST_CALLS';\n\nexport function requestCalls(uuids) {\n    return {\n        type: REQUEST_CALLS,\n        payload: {\n            isLoading: true,\n            uuids,\n        },\n    };\n}\n\nexport const INVALIDATE_CALLS = 'INVALIDATE_CALLS';\n\nexport function invalidateCalls() {\n    return {\n        type: INVALIDATE_CALLS,\n        payload: {\n            calls: null,\n        },\n    };\n}\n\nexport const RECEIVE_CALLS = 'RECEIVE_CALLS';\n\nexport function receiveCalls(uuids, calls, isRecorded) {\n    return {\n        type: RECEIVE_CALLS,\n        payload: {\n            isLoading: false,\n            uuids,\n            calls,\n            isRecorded,\n        },\n    };\n}\n\nexport function isRecordingFlagFoundInCalls(calls = []) {\n    let isRecordedFlagFound = false;\n    calls.forEach((call) => {\n        const aFlags = Array.isArray(call.aFlags) ? call.aFlags : [];\n        const bFlags = Array.isArray(call.bFlags) ? call.bFlags : [];\n        if (aFlags.includes('RECORDED') || bFlags.includes('RECORDED')) {\n            isRecordedFlagFound = true;\n        }\n    });\n    return isRecordedFlagFound;\n}\n\nfunction processCalls(calls, timeline) {\n    return calls\n        .sort((a, b) => {\n            if (a.timeStart < b.timeStart) {\n                return -1;\n            }\n            if (a.timeStart > b.timeStart) {\n                return 1;\n            }\n            return 0;\n        })\n        .map((call, index, array) => {\n            const time = {\n                start: (new Date(call.timeStart)).getTime() * 1000,\n                end: timeline.end * 1000,\n            };\n            const isLastCall = index === array.length - 1;\n            if (!isLastCall) {\n                time.end = ((new Date(array[index + 1].timeStart)).getTime() * 1000) - 1;\n            }\n            return { ...call, time, index };\n        });\n}\n\nexport function fetchCalls(\n    getCallsRelatedToUuidApiCall = getCallsRelatedToUuids,\n) {\n    return (dispatch, getState) => {\n        const state = getState();\n        const uuids = getAssociatedUuidsFromEvents(getEventsFromEventsState(state), getPrimaryUuid(state));\n        const timeline = getTimeline(state);\n        dispatch(requestCalls(uuids));\n        dispatch(invalidateCalls());\n        return getCallsRelatedToUuidApiCall(uuids, state.auth.jwtToken)\n            .then((calls) => {\n                dispatch(receiveCalls(uuids, processCalls(calls, timeline), isRecordingFlagFoundInCalls(calls)));\n            });\n    };\n}\n","export const STATUS_LOADING = 'STATUS_LOADING';\nexport const STATUS_OK = 'STATUS_OK';\nexport const STATUS_EMPTY = 'STATUS_EMPTY';\nexport const STATUS_ERROR = 'STATUS_ERROR';\n","import { getEvents } from '../../routes/api/App';\nimport {\n    getPrimaryUuid,\n    getUuidFromEventsState,\n    getEventsFromEventsState,\n    getAudioDuration,\n} from '../selectors/common-selectors';\nimport { eventName } from '../../shared/utility/timeline';\nimport { formatTime } from '../../shared/utility/formatting';\nimport { BlockingInsightsError } from '../../shared/utility/errors';\nimport { STATUS_EMPTY } from '../constants/data';\n\nexport const REQUEST_EVENTS = 'REQUEST_EVENTS';\n\nexport function requestEvents(uuid) {\n    return {\n        type: REQUEST_EVENTS,\n        payload: {\n            isLoading: true,\n            uuid,\n        },\n    };\n}\n\nexport const INVALIDATE_EVENTS = 'INVALIDATE_EVENTS';\n\nexport function invalidateEvents() {\n    return {\n        type: INVALIDATE_EVENTS,\n        payload: {\n            events: null,\n        },\n    };\n}\n\nexport const RECEIVE_EVENTS = 'RECEIVE_EVENTS';\n\nexport function receiveEvents(uuid, events) {\n    return {\n        type: RECEIVE_EVENTS,\n        payload: {\n            isLoading: false,\n            uuid,\n            events,\n        },\n    };\n}\n\nexport function fetchEvents(\n    getEventsApiCall = getEvents,\n) {\n    return (dispatch, getState) => {\n        const state = getState();\n        const uuid = getPrimaryUuid(state);\n        dispatch(requestEvents(uuid));\n        const currentUuid = getUuidFromEventsState(state);\n        const currentEvents = getEventsFromEventsState(state);\n        if (currentUuid !== uuid || !Array.isArray(currentEvents) || currentEvents.length === 0) {\n            dispatch(invalidateEvents());\n            const duration = getAudioDuration(getState());\n            return getEventsApiCall(uuid, duration, state.auth.jwtToken)\n                .then((response) => {\n                    const { events } = response;\n                    return dispatch(receiveEvents(uuid, events));\n                }, () => Promise.reject(\n                    new BlockingInsightsError(STATUS_EMPTY,\n                        'Unable to load call flow for this call.',\n                        'Unable to load call flow for this call.'\n                        + ' Please ensure you are accessing via the correct account, and that the call has not been deleted.'),\n                ));\n        }\n        dispatch(receiveEvents(uuid, currentEvents));\n        return Promise.resolve();\n    };\n}\n\n/* eslint-disable no-param-reassign */\nexport function startEvents(participantPhoneNumber, processedEvents, currentOpenEvents) {\n    return (keys, eventToProcess) => {\n        const { flags, timestamp } = eventToProcess;\n        keys.forEach((key) => {\n            const newEvent = {\n                event: eventName(flags),\n                group: key,\n                start: timestamp,\n                startFlags: flags,\n            };\n            currentOpenEvents[key] = newEvent;\n            if (typeof processedEvents[participantPhoneNumber] === 'undefined') {\n                processedEvents[participantPhoneNumber] = {};\n                processedEvents[participantPhoneNumber].events = [];\n            }\n            processedEvents[participantPhoneNumber].events.push(newEvent);\n        });\n    };\n}\n\nexport function closeEvents(currentOpenEvents) {\n    return (keys, eventToProcess) => {\n        const { flags, timestamp } = eventToProcess;\n        keys.forEach((key) => {\n            if (!currentOpenEvents[key]) {\n                return;\n            }\n            const current = currentOpenEvents[key];\n            current.end = timestamp;\n            current.endFlags = flags;\n            current.duration = current.end - current.start;\n            current.timeline = {\n                start: new Date(current.start / 1000),\n                end: new Date(current.end / 1000),\n                duration: formatTime(current.duration / 1000000),\n            };\n            currentOpenEvents[key] = null;\n        });\n    };\n}\n\n/* eslint-enable no-param-reassign */\n\nexport function filterAndSortEvents(events) {\n    return events\n        .sort((a, b) => {\n            if (a.start < b.start) {\n                return -1;\n            }\n            if (a.start > b.start) {\n                return 1;\n            }\n            return 0;\n        });\n}\n\nexport const PROCESS_EVENTS = 'PROCESS_EVENTS';\n\nfunction eventGroups(id) {\n    const events = {};\n    const openEvents = {};\n    const processors = [];\n    const helpers = {\n        addGroup(group, openIf, closeIf) {\n            openEvents[group] = null;\n            processors.push((event) => {\n                if (typeof openIf !== 'function' || typeof closeIf !== 'function') {\n                    return;\n                }\n                if (openIf(event.flags) === true && !openEvents[group]) {\n                    startEvents(id, events, openEvents)([group], event);\n                }\n                if (closeIf(event.flags) === true && openEvents[group]) {\n                    closeEvents(openEvents)([group], event);\n                }\n            });\n            return helpers;\n        },\n        processEvents(eventsToProcess = []) {\n            eventsToProcess.forEach(event => processors.forEach(process => process(event)));\n            return {\n                events: events[id].events.filter(completeEvent => completeEvent.endFlags !== undefined),\n            };\n        },\n    };\n    return helpers;\n}\n\nexport function eventsFor(participants, channels, calls = []) {\n    const eventsByParticipants = {};\n    Object.keys(participants).forEach((participantPhoneNumber) => {\n        eventsByParticipants[participantPhoneNumber] = { events: [] };\n        const participant = participants[participantPhoneNumber];\n        const channelEvents = channels[Object.keys(channels)[0]].events;\n        if (participant.isPrimary) {\n            let processedEvents = eventGroups(participantPhoneNumber)\n                .addGroup(\n                    'bridge',\n                    flags => flags.isBridge === true,\n                    flags => flags.isBridge !== true\n                        && flags.isCsStateChange === true,\n                )\n                .addGroup(\n                    'start',\n                    flags => flags.isChannelStart === true,\n                    flags => flags.isChannelRing === true,\n                )\n                .addGroup(\n                    'ring',\n                    flags => flags.isChannelRing === true,\n                    flags => flags.isChannelAnswer === true,\n                )\n                .addGroup(\n                    'recording',\n                    flags => flags.isRecordStart === true,\n                    flags => flags.isRecordStop === true,\n                )\n                .addGroup(\n                    'conference',\n                    flags => flags.isConferenceIn === true,\n                    flags => flags.isConferenceOut === true,\n                )\n                .addGroup(\n                    'transfer',\n                    flags => flags.isParkedTransfer === true,\n                    flags => flags.isBridge === true,\n                )\n                .addGroup(\n                    'pause',\n                    flags => flags.isRecordStop === true,\n                    flags => flags.isRecordStart === true,\n                )\n                .addGroup(\n                    'hold',\n                    flags => flags.isHold === true,\n                    flags => flags.isUnHold === true,\n                )\n                .addGroup(\n                    'routing',\n                    flags => flags.isRouting === true,\n                    flags => flags.isRouting !== true\n                        && flags.isCsStateChange === true,\n                )\n                .addGroup(\n                    'queuing',\n                    flags => flags.isQueuing === true,\n                    flags => flags.isQueuing !== true\n                        && flags.isCsStateChange === true,\n                )\n                .processEvents(channelEvents);\n            processedEvents = {\n                events: processedEvents.events.concat(calls\n                    .map((call, index) => ({\n                        event: 'CALL',\n                        style: `call${index}`,\n                        group: 'call',\n                        start: call.time.start,\n                        end: call.time.end / 1000,\n                        startFlags: {\n                            isCallStart: true,\n                        },\n                        endFlags: {\n                            isCallEnd: true,\n                        },\n                    }))),\n            };\n            eventsByParticipants[participantPhoneNumber] = processedEvents;\n        }\n    });\n    Object.keys(eventsByParticipants).forEach((key) => {\n        filterAndSortEvents(eventsByParticipants[key].events);\n    });\n    return {\n        type: PROCESS_EVENTS,\n        payload: {\n            eventsByParticipants,\n        },\n    };\n}\n","export const INITIAL_LOAD = 'INITIAL_LOAD';\nexport const PLAY = 'PLAY';\nexport const PLAY_FROM_START = 'PLAY_FROM_START';\nexport const PAUSE = 'PAUSE';\nexport const SKIP_BACK = 'SKIP_BACK';\nexport const SKIP_FORWARD = 'SKIP_FORWARD';\nexport const MOVE_SCRUBBER = 'MOVE_SCRUBBER';\nexport const MOVE_PLAY_HEAD = 'MOVE_PLAY_HEAD';\nexport const SET_PLAYBACK_SPEED = 'SET_PLAYBACK_SPEED';\nexport const TOGGLE_METRICS_LAYER = 'TOGGLE_METRICS_LAYER';\nexport const SHOW_METRICS_LAYER = 'SET_METRICS_LAYER';\nexport const HIDE_METRICS_LAYER = 'HIDE_METRICS_LAYER';\nexport const SET_AUDIO = 'SET_AUDIO';\nexport const MOVE_TRANSCRIPTION_PLAY_SCRUB = 'MOVE_TRANSCRIPTION_PLAY_SCRUB';\nexport const UPDATE_TRANSCRIPTION_VIEWPORT = 'UPDATE_TRANSCRIPTION_VIEWPORT';\nexport const UPDATE_TRANSCRIPTION_CONFIDENCE = 'UPDATE_TRANSCRIPTION_CONFIDENCE';\nexport const SET_NOTE_VISIBILITY = 'SET_NOTE_VISIBILITY';\nexport const IMPORT_NOTES = 'IMPORT_NOTES';\nexport const OPEN_RATE_CALL = 'OPEN_RATE_CALL';\nexport const CANCEL_RATE_CALL = 'CANCEL_RATE_CALL';\nexport const RATE_CALL = 'RATE_CALL';\nexport const SET_EVENT_TYPES = 'SET_EVENT_TYPES';\nexport const SET_NOTES = 'SET_NOTES';\nexport const SET_PARTICIPANTS = 'SET_PARTICIPANTS';\nexport const SET_JWT_TOKEN = 'SET_JWT_TOKEN';\nexport const SET_PARTICIPANT_NAMES = 'SET_PARTICIPANT_NAMES';\nexport const SET_CAN_SHARE = 'SET_CAN_SHARE';\n","export default __webpack_public_path__ + \"static/media/icon-account.f2b6ece7.svg\";","export default __webpack_public_path__ + \"static/media/icon-contact.e3ec6d62.svg\";","export default __webpack_public_path__ + \"static/media/icon-user.33a39f8c.svg\";","import { createSelector } from 'reselect';\n\nexport const getAuth = state => state.auth;\n\nexport const getAuthenticatedUserId = createSelector(\n    [getAuth],\n    auth => (auth && auth.jwtToken ? auth.jwtToken.userId : ''),\n);\n\nexport const getAuthenticatedUserName = createSelector(\n    [getAuth],\n    (auth) => {\n        if (auth && auth.displayName) {\n            return auth.displayName;\n        }\n        return auth && auth.jwtToken ? auth.jwtToken.userName : '';\n    },\n);\n","import { createSelector } from 'reselect';\nimport { getAuthenticatedUserId } from './authSelectors';\n\nexport const getNotesState = state => state.notes;\nexport const getUnreadNoteAndCommentIdsForCurrentUser = state => getNotesState(state).unread;\n\nexport const getNoteWithIdSelector = createSelector(\n    [getNotesState],\n    notes => id => notes.notes.find(obj => obj.noteId === id),\n);\n\nexport const getUnreadNoteAndCommentIdsForUser = createSelector(\n    [getNotesState],\n    notes => userId => (notes || { notes: [] }).notes.reduce((unread, {\n        noteId, thread, userActivity, noteModified,\n    }) => {\n        const lastUserActivity = (userActivity || []).find(activity => Number(activity.user) === Number(userId));\n        return [\n            ...unread,\n            ...(\n                !lastUserActivity || (new Date(lastUserActivity.lastRead)) < (new Date(noteModified))\n                    ? [noteId]\n                    : []\n            ),\n            ...(thread.reduce((unreadComments, comment) => [\n                ...unreadComments,\n                ...(\n                    !lastUserActivity || (new Date(lastUserActivity.lastRead)) < (new Date(comment.modified))\n                        ? [comment.uuid]\n                        : []\n                ),\n            ], [])),\n        ];\n    }, []),\n);\n\nexport const NotesFilter = {\n    all: 'Show All',\n    onlyUnread: 'Only unread notes',\n    onlyAcknowledged: 'Only acknowledged notes',\n    onlyUnAcknowledged: 'Only un-acknowledged notes',\n    onlyMyNotes: 'Only my notes',\n    onlyOpenNotes: 'Only open notes',\n    closedNotes: 'Only closed notes',\n};\n\nexport const getFilteredNotes = createSelector(\n    [getNotesState, getAuthenticatedUserId],\n    ({ notes, filter, unread }, authenticatedUserId) => {\n        switch (filter) {\n            case NotesFilter.closedNotes:\n                return notes.filter(note => note.isClosed);\n            case NotesFilter.onlyOpenNotes:\n                return notes.filter(note => !note.isClosed);\n            case NotesFilter.onlyAcknowledged:\n                return notes.filter(note => note.isAcknowledged);\n            case NotesFilter.onlyUnAcknowledged:\n                return notes.filter(note => !note.isAcknowledged);\n            case NotesFilter.onlyUnread:\n                return notes.filter(note => unread.includes(note.noteId) || note.thread.reduce(\n                    (foundUnread, comment) => unread.includes(comment.uuid),\n                    false,\n                ));\n            case NotesFilter.onlyMyNotes:\n                return notes.filter(note => Number(note.author) === Number(authenticatedUserId));\n            default:\n                return notes;\n        }\n    },\n);\n","export const updatedUserActivityForUser = (userActivity, userId, logTime = null) => [\n    ...(userActivity || []).filter(activity => Number(activity.user) !== Number(userId)),\n    {\n        user: userId,\n        lastRead: logTime || (new Date()).toISOString(),\n    },\n];\n\nexport const compareObjectProperties = (objectA, objectB) => keys => keys.reduce(\n    (equal, key) => equal && objectA[key] === objectB[key],\n    true,\n);\n\nexport default {\n    updatedUserActivityForUser,\n    compareObjectProperties,\n};\n","/* eslint-disable import/no-cycle */\n/* eslint-disable no-alert */\n/* eslint-disable quote-props */\n/* eslint-disable quotes */\nimport { setEventTypes } from './actions';\nimport { RATE_CALL, SET_CAN_SHARE, SET_PARTICIPANT_NAMES } from '../constants/actions';\nimport { SF_ACCOUNT_TYPE, TIMEOUT_MESSAGE } from '../constants/salesforce';\nimport { decode, JSONParsedIfStringified } from '../../shared/utility/formatting';\nimport accountIcon from '../../assets/svgs/icon-account.svg';\nimport contactIcon from '../../assets/svgs/icon-contact.svg';\nimport userIcon from '../../assets/svgs/icon-user.svg';\nimport { getNoteWithIdSelector, getUnreadNoteAndCommentIdsForUser } from '../selectors/noteSelectors';\nimport { getAuthenticatedUserId } from '../selectors/authSelectors';\nimport { compareObjectProperties, updatedUserActivityForUser } from '../../shared/utility/processing';\nimport { getPrimaryUuid } from \"../selectors/common-selectors\";\n\n// Salesforce remote actions\n// getAction\n// case 'getNamespace': return '{!$RemoteAction.InsightsController.getNamespace}';\n// case 'getEventTypes': return '{!$RemoteAction.InsightsController.getEventTypes}';\n// case 'getNotes': return '{!$RemoteAction.InsightsController.getNotes}';\n// case 'createNewNote': return '{!$RemoteAction.InsightsController.createNewNote}';\n// case 'EditNote': return '{!$RemoteAction.InsightsController.EditNote}';\n// case 'DeleteNote': return '{!$RemoteAction.InsightsController.DeleteNote}';\n// case 'getParticipantsInfo': return '{!$RemoteAction.InsightsController.getParticipantInfo}';\n// case 'canShareRecording': return '{!$RemoteAction.InsightsController.canShareRecording}';\n// case 'getOrgUrl': return '{!$RemoteAction.InsightsController.getOrgUrl}';\n// case 'getRatingDetails': return '{!$RemoteAction.InsightsController.getRatingDetails}';\n// case 'saveRating': return '{!$RemoteAction.InsightsController.saveRating}';\n\nexport const DELETE_NOTE = 'DELETE_NOTE';\nconst deleteNote = id => ({\n    type: DELETE_NOTE,\n    payload: {\n        noteId: id,\n    },\n});\n\nexport const REFRESH_UNREAD_NOTES = 'REFRESH_UNREAD_NOTES';\nexport function refreshUnreadNotes() {\n    return (dispatch, getState) => {\n        const state = getState();\n        const userId = getAuthenticatedUserId(state);\n        const ids = getUnreadNoteAndCommentIdsForUser(state)(userId);\n        dispatch({\n            type: REFRESH_UNREAD_NOTES,\n            payload: {\n                ids,\n            },\n        });\n    };\n}\n\nexport const SET_NOTES = 'SET_NOTES';\nexport const setNotes = allNotes => (dispatch) => {\n    // TODO call add note api\n    const notes = allNotes.map(note => ({\n        ...note,\n        timestamp: Number(note.timestamp),\n        eventType: Number(note.eventType),\n        thread: JSONParsedIfStringified(note.thread) || [],\n        userActivity: JSONParsedIfStringified(note.userActivity) || [],\n    }));\n    dispatch({\n        type: SET_NOTES,\n        payload: {\n            notes,\n        },\n    });\n    dispatch(refreshUnreadNotes());\n};\n\nexport const UPDATE_NOTE = 'UPDATE_NOTE';\nexport function updateNote(details) {\n    // TODO call add note api\n    return (dispatch) => {\n        dispatch({\n            type: UPDATE_NOTE,\n            payload: {\n                note: {\n                    ...details,\n                    thread: JSONParsedIfStringified(details.thread) || [],\n                    userActivity: JSONParsedIfStringified(details.userActivity) || [],\n                },\n            },\n        });\n        dispatch(refreshUnreadNotes());\n    };\n}\n\nconst invokeSFAction = (invoke, callBack, param) => {\n    if (window.parent.getVisualforce) {\n        const Manager = window.parent.getVisualforce();\n        const remoteAction = window.parent.getAction(invoke);\n        const escape = { escape: true };\n        if (param) Manager.invokeAction(remoteAction, param, callBack, escape);\n        else Manager.invokeAction(remoteAction, callBack, escape);\n    } else {\n        console.log('Warning: no salesforce parent');\n    }\n};\n\nconst handleTimeout = () => {\n    window.alert(TIMEOUT_MESSAGE);\n};\n\nexport const loadOrgUrl = () => new Promise((resolve, reject) => {\n    invokeSFAction('getOrgUrl', (result, event) => {\n        if (event.status) {\n            resolve(result);\n        } else if (event.xhr.responseText) {\n            handleTimeout();\n        } else {\n            reject(new Error(`${event.message}`));\n        }\n    });\n    // For standlone mode\n    if (!window.parent.getVisualforce) {\n        resolve();\n    }\n});\n\nexport const getNamespace = () => new Promise((resolve, reject) => {\n    invokeSFAction('getNamespace', (result, event) => {\n        if (event.status) {\n            resolve(result);\n        } else if (event.xhr.responseText) {\n            handleTimeout();\n        } else {\n            reject(new Error(`${event.message}`));\n        }\n    });\n});\n\nexport const getUserName = userId => new Promise((resolve, reject) => {\n    invokeSFAction('getUserName', (result, event) => {\n        if (event.status) {\n            resolve(result);\n        } else if (event.xhr.responseText) {\n            handleTimeout();\n        } else {\n            reject(new Error('Unable to fetch display name for user!'));\n        }\n    }, userId);\n});\n\nexport const loadEventType = () => (dispatch) => {\n    invokeSFAction('getEventTypes', (result, event) => {\n        if (event.status) {\n            dispatch(setEventTypes(result));\n        } else if (event.xhr.responseText) {\n            handleTimeout();\n        } else {\n            window.alert('Problem loading event types!');\n        }\n    });\n};\n\nexport const loadCanShareRecording = uuid => (dispatch) => {\n    if (uuid) {\n        invokeSFAction('canShareRecording', (result, event) => {\n            if (event.status) {\n                dispatch({ type: SET_CAN_SHARE, payload: result });\n            } else if (event.xhr.responseText) {\n                handleTimeout();\n            } else {\n                window.alert('Problem loading notes!');\n            }\n        }, uuid);\n    }\n};\n\nexport const loadParticipantsName = calls => (dispatch) => {\n    const participantsData = [];\n    calls.forEach((call) => {\n        participantsData.push({\n            userId: call.fromUserId,\n            phoneNum: call.fromNumber,\n        });\n        participantsData.push({\n            userId: call.toUserId,\n            phoneNum: call.toNumber,\n        });\n    });\n    // simulate get participant name\n    return new Promise((resolve, reject) => {\n        invokeSFAction('getParticipantsInfo', (result, event) => {\n            if (event.status) {\n                resolve(dispatch({ type: SET_PARTICIPANT_NAMES, payload: result }));\n            } else if (event.xhr.responseText) {\n                handleTimeout();\n            } else {\n                window.alert('Problem loading Participants Info!');\n                reject(new Error('Problem loading Participants Info!'));\n            }\n        }, participantsData);\n\n        // For standlone mode\n        if (!window.parent.getVisualforce) {\n            resolve();\n        }\n    });\n};\n\nexport const SET_PARTICIPANT_IMAGE = 'SET_PARTICIPANT_IMAGE';\nexport const setParticipantImage = participant => (dispatch) => {\n    const {\n        number, relatedUuids, type, userId,\n    } = participant;\n    const [uuid] = relatedUuids;\n    // TODO: Add salesforce code here to retrieve URL for user avatar\n    // For performance reasons, it will be better to link to a URL rather than embed base64 data\n    // though it should handle either if required.\n    let image;\n    if (userId) {\n        image = userIcon;\n    } else if (typeof type === 'string' && type.toUpperCase() === SF_ACCOUNT_TYPE) {\n        image = accountIcon;\n    } else {\n        image = contactIcon;\n    }\n    return new Promise((resolve) => {\n        resolve(dispatch({\n            type: SET_PARTICIPANT_IMAGE,\n            payload: { number, image, uuid },\n        }));\n    });\n};\n\nexport const loadNotes = uuid => (dispatch) => {\n    if (uuid) {\n        invokeSFAction('getNotes', (result, event) => {\n            if (event.status) {\n                dispatch(setNotes(result));\n            } else if (event.xhr.responseText) {\n                handleTimeout();\n            } else {\n                window.alert('Problem loading notes!');\n            }\n        }, uuid);\n    }\n};\n\nexport const isNoteEdited = (newNote, oldNote) => {\n    if (!oldNote) {\n        return true;\n    }\n    const notesPropertiesAreEqual = compareObjectProperties(newNote, oldNote);\n    return !notesPropertiesAreEqual([\n        'timestamp',\n        'text',\n        'channelUuid',\n        'polarity',\n        'eventType',\n    ]);\n};\n\nexport const updateNotes = (note, logTime = null) => (dispatch, getState) => {\n    const state = getState();\n    const userId = getAuthenticatedUserId(state);\n    let actionType = 'createNewNote';\n    const existingNote = getNoteWithIdSelector(state)(note.noteId);\n    const timeInUSeconds = parseInt(note.timestamp, 10);\n    const timeInSeconds = timeInUSeconds / 1000000;\n    const hours = Math.floor(timeInSeconds / 3600);\n    const minutes = Math.floor((timeInSeconds % 3600) / 60);\n    const seconds = Math.floor(timeInSeconds % 60);\n\n    const timeVar = (note.timestamp)\n        ? `${String(hours).padStart(2, 0)}:${String(minutes).padStart(2, 0)}:${String(seconds).padStart(2, 0)}` : null;\n\n    const currentTime = logTime || (new Date()).toISOString();\n\n    const newNote = {\n        author: note.author,\n        authorName: note.authorName,\n        eventType: (parseInt(note.eventType, 10)).toString(),\n        text: decode(note.text),\n        timestamp: (parseInt(note.timestamp, 10)).toString(),\n        eventTime: timeVar,\n        uuid: note.uuid,\n        channelUuid: note.channelUuid,\n        isShared: note.isShared,\n        isAcknowledged: note.isAcknowledged,\n        isClosed: note.isClosed,\n        canShare: note.canShare,\n        noteCreated: existingNote ? existingNote.noteCreated : currentTime,\n        noteModified: isNoteEdited(note, existingNote) ? currentTime : existingNote.noteModified,\n        thread: JSON.stringify(note.thread || []),\n        polarity: note.polarity,\n        userActivity: JSON.stringify(\n            userId\n                ? updatedUserActivityForUser(note.userActivity || [], userId, currentTime)\n                : note.userActivity || [],\n        ),\n        version: note.version,\n    };\n\n    if (existingNote) {\n        actionType = 'EditNote';\n        newNote.noteId = note.noteId;\n    }\n    invokeSFAction(actionType, (result, event) => {\n        if (event.status) {\n            if (event.method === 'createNewNote') {\n                newNote.noteId = result;\n            }\n            dispatch(updateNote({\n                ...newNote,\n                timestamp: parseInt(newNote.timestamp, 10),\n                eventType: parseInt(newNote.eventType, 10),\n                eventTime: timeVar,\n                uuid: note.uuid,\n            }));\n\n            // Refresh notes to update note version numbers\n            loadNotes(getPrimaryUuid(state));\n        } else if (event.xhr.responseText) {\n            handleTimeout();\n        } else {\n            window.alert('Problem saving note!');\n        }\n    }, JSON.stringify(newNote));\n\n    // For standlone testing mode\n    if (!window.parent.getVisualforce) {\n        dispatch(updateNote({\n            ...newNote,\n            noteId: note.noteId,\n            timestamp: parseInt(newNote.timestamp, 10),\n            eventType: parseInt(newNote.eventType, 10),\n            eventTime: timeVar,\n            uuid: note.uuid,\n        }));\n    }\n};\n\nexport const onDeleteNote = noteId => (dispatch) => {\n    if (window.confirm(\"Delete this note?\")) {\n        invokeSFAction('DeleteNote', (result, event) => {\n            if (event.status) {\n                if ((result.includes(noteId))) {\n                    dispatch(deleteNote(noteId));\n                }\n            } else if (event.xhr.responseText) {\n                handleTimeout();\n            } else {\n                window.alert('Problem deleting note!');\n            }\n        }, noteId);\n\n        // For standlone mode\n        if (!window.parent.getVisualforce) {\n            dispatch(deleteNote(noteId));\n        }\n    }\n};\n\nexport const loadRatings = uuid => (dispatch) => {\n    if (uuid) {\n        invokeSFAction('getRatingDetails', (result, event) => {\n            if (event.status) {\n                let ratingData = result.data;\n                if (result.data && !result.data[0].salesforceId) {\n                    ratingData = result.data.map((item, index) => ({\n                        ...item,\n                        salesforceId: item.salesforceId ? item.salesforceId : `tempID-${index}`,\n                        note: '',\n                    }));\n                }\n                dispatch({ type: RATE_CALL, payload: { rating: ratingData } });\n            } else if (event.xhr.responseText) {\n                handleTimeout();\n            } else {\n                window.alert('Problem loading ratings!');\n            }\n        }, uuid);\n    }\n};\n\nexport const saveRatings = rating => (dispatch, getState) => {\n    // For standlone mode\n    if (!window.parent.getVisualforce) {\n        dispatch({\n            type: RATE_CALL,\n            payload: {\n                rating,\n                showCallRatingDialog: false,\n            },\n        });\n    } else {\n        const { auth, primaryUuid } = getState();\n\n        if (auth.jwtToken && auth.jwtToken.userId) {\n            const newData = rating.map((item) => {\n                const newItem = { ...item };\n                if (newItem.salesforceId && newItem.salesforceId.includes('tempID')) {\n                    delete newItem.salesforceId;\n                }\n                return newItem;\n            });\n            const newRatings = {\n                userId: auth.jwtToken.userId,\n                channelUuid: primaryUuid,\n                data: newData,\n            };\n            invokeSFAction('saveRating', (result, event) => {\n                if (event.status) {\n                    const ratingData = result.data ? result.data : [];\n                    dispatch({\n                        type: RATE_CALL,\n                        payload: {\n                            rating: ratingData.map((item, index) => (\n                                {\n                                    ...item,\n                                    salesforceId: item.salesforceId ? item.salesforceId : `tempID-${index}`,\n                                }\n                            )),\n                            showCallRatingDialog: false,\n                        },\n                    });\n                } else if (event.xhr.responseText) {\n                    handleTimeout();\n                } else {\n                    window.alert('Problem saving new ratings!');\n                }\n            }, JSON.stringify(newRatings));\n        }\n    }\n};\n","export const SF_ACCOUNT_TYPE = 'ACCOUNT';\nexport const SF_CONTACT_TYPE = 'CONTACT';\nexport const TIMEOUT_MESSAGE = 'Sorry, your session has timed out. Please refresh your page to try again';\n","/* eslint-disable import/no-cycle */\nimport {\n    CANCEL_RATE_CALL,\n    HIDE_METRICS_LAYER,\n    IMPORT_NOTES,\n    INITIAL_LOAD,\n    MOVE_PLAY_HEAD,\n    MOVE_SCRUBBER,\n    MOVE_TRANSCRIPTION_PLAY_SCRUB,\n    OPEN_RATE_CALL,\n    PAUSE,\n    PLAY,\n    PLAY_FROM_START,\n    RATE_CALL,\n    SET_AUDIO,\n    SET_EVENT_TYPES,\n    SET_NOTE_VISIBILITY,\n    SET_PLAYBACK_SPEED,\n    SHOW_METRICS_LAYER,\n    SKIP_BACK,\n    SKIP_FORWARD,\n    TOGGLE_METRICS_LAYER,\n    UPDATE_TRANSCRIPTION_CONFIDENCE,\n    UPDATE_TRANSCRIPTION_VIEWPORT,\n} from '../constants/actions';\nimport { getAudioAnalysis } from '../../routes/api/App';\nimport { getTimeline } from '../selectors';\nimport { createParticipants } from './participants';\nimport { setPrimaryUuid } from './primaryUuid';\nimport { fetchEvents } from './events';\nimport { fetchCalls } from './calls';\nimport { createAudioEvents, fetchAudio } from './audio';\nimport {\n    loadCanShareRecording, loadEventType, loadNotes, loadParticipantsName, loadRatings, refreshUnreadNotes,\n} from './salesforce';\nimport {\n    getAudioState,\n    getCalls,\n    getCallsState,\n    getEventsFromEventsState,\n    getLoadProgress,\n    getParticipantNames,\n    getPlaybackSpeed,\n    getPrimaryUuid,\n} from '../selectors/common-selectors';\nimport { loadTranscription } from './transcription';\nimport { setLoadProgress } from './status';\nimport { logSilentError, showFetchError } from './errors';\nimport { BlockingInsightsError, LoadingError } from '../../shared/utility/errors';\nimport getTimestampWithAudioOffsetFunc from '../selectors/timestampWithAudioOffset';\nimport { STATUS_EMPTY } from '../constants/data';\n\nfunction processChannels(primaryUuid, channelData) {\n    // TODO: this should be removed once processdata has been refactored\n    const channels = {};\n    channelData.events.forEach((item) => {\n        const channel = channels[item.uuid] || {};\n        channel.events = item.events;\n        channels[item.uuid] = channel;\n    });\n\n    channelData.talkTime.forEach((item) => {\n        const [, uuid] = item.data.recordingId.split('/');\n        const channel = channels[uuid] || {};\n        channel.talkTime = item.data.analysis.data;\n        channels[uuid] = channel;\n    });\n\n    // TODO: Change \"shift()\" to \"pop()\" when RECORD_EVENTS are fixed\n    Object.keys(channels).forEach((key) => {\n        channels[key].isPrimary = key === primaryUuid;\n        const event = channels[key].events\n            .filter(item => item.flags.isRecordStart === true)\n            .sort((a, b) => a.timestamp - b.timestamp)\n            .shift();\n        if (event !== undefined) {\n            channels[key].start = event.timestamp;\n        } else {\n            // TODO: STATUS IS 'EMPTY' under this condition. Add a property or indicator in the root status.\n        }\n        channels[key].end = channels[key].events\n            .filter(item => item.flags.isRecordStop === true)\n            .sort((a, b) => a.timestamp - b.timestamp)\n            .pop()\n            .timestamp;\n    });\n\n    const timelineStart = Object.keys(channels)\n        .map(key => channels[key])\n        .filter(channel => channel.isPrimary === true)\n        .reduce((previous, current) => Math.min(previous, current.start), Number.MAX_SAFE_INTEGER);\n    const timelineEnd = Object.keys(channels)\n        .map(key => channels[key])\n        .filter(channel => channel.isPrimary === true)\n        .reduce((previous, current) => Math.max(previous, current.end), 0);\n    const timelineRange = timelineEnd - timelineStart;\n\n    return {\n        timelineRange,\n        timelineStart,\n        timelineEnd,\n        channels,\n    };\n}\n\n// TODO: Once API sends talktime data, replace this fabrication method with data processing method\nexport function processTalkTime(channels) {\n    const timelineStart = Object.keys(channels)\n        .map(key => channels[key])\n        .filter(channel => channel.isPrimary === true)\n        .reduce((previous, current) => Math.min(previous, current.start), Number.MAX_SAFE_INTEGER);\n    const timelineEnd = Object.keys(channels)\n        .map(key => channels[key])\n        .filter(channel => channel.isPrimary === true)\n        .reduce((previous, current) => Math.max(previous, current.end), 0);\n\n    // TODO: Replace with data from API\n    const timelineRange = timelineEnd - timelineStart;\n    return {\n        1: [\n            {\n                event: 'CLASH_WIN',\n                timestamp: timelineStart + (timelineRange * 0.2),\n            },\n            {\n                event: 'CLASH_WIN',\n                timestamp: timelineStart + (timelineRange * 0.3),\n            },\n            {\n                event: 'STEAL',\n                timestamp: timelineStart + (timelineRange * 0.4),\n            },\n            {\n                event: 'INTERRUPTION',\n                timestamp: timelineStart + (timelineRange * 0.5),\n            },\n        ],\n        2: [\n            {\n                event: 'CLASH_WIN',\n                timestamp: timelineStart + (timelineRange * 0.8),\n            },\n            {\n                event: 'AFFIRMATION',\n                timestamp: timelineStart + (timelineRange * 0.7),\n            },\n            {\n                event: 'INTERRUPTION',\n                timestamp: timelineStart + (timelineRange * 0.6),\n            },\n        ],\n    };\n}\n\nexport function initialLoad(channels, talkTime) {\n    return {\n        type: INITIAL_LOAD,\n        payload: {\n            channels,\n            talkTime,\n        },\n    };\n}\n\nexport const REQUEST_DATA = 'REQUEST_DATA';\nexport const RECEIVE_DATA = 'RECEIVE_DATA';\n\nexport function loadData(primaryUuid, calls) {\n    /* eslint-disable no-await-in-loop, no-loop-func */\n    return async (dispatch, getState) => {\n        dispatch({ type: REQUEST_DATA, payload: { isLoading: true } });\n        const data = {\n            events: [{\n                uuid: primaryUuid,\n                events: getEventsFromEventsState(getState()),\n            }],\n            channelData: [],\n            talkTime: [],\n        };\n        /*\n            TODO: Notes - Populate getNotes(uuid) method to retrieve the correct data from Salesforce\n            suggestion: uuid can either be the primaryUuid or the list of all linked uuids (orderedUuids)\n            depending on how the notes are stored.\n\n            Then call dispatch(importNotes(noteArray));\n         */\n\n        /* dispatch in the app.js to load notes is already handled by salesforce actions */\n        // const notes = await getNotes(primaryUuid);\n        // dispatch(importNotes(notes));\n\n        try {\n            const talkTime = await getAudioAnalysis(primaryUuid, getState().auth.jwtToken);\n            talkTime.data.analysis.data = JSON.parse(talkTime.data.analysis.data);\n            data.talkTime.push(talkTime);\n        } catch (error) {\n            // TODO: Handle errors\n            console.log(error);\n            // TODO We don't currently use this data so errors don't need to be blocking\n            // window.alert('Unable to load audio analysis');\n            // return;\n        }\n\n        const {\n            channels,\n        } = processChannels(primaryUuid, data);\n        const talkTime = processTalkTime(channels);\n        dispatch(createParticipants(primaryUuid, calls, channels, getParticipantNames(getState())));\n        dispatch(initialLoad(channels, talkTime));\n        dispatch(createAudioEvents());\n        dispatch(loadTranscription(primaryUuid, calls, data));\n        dispatch({ type: RECEIVE_DATA, payload: { isLoading: false } });\n    };\n    /* eslint-enable no-await-in-loop, no-loop-func */\n}\n\nexport function importNotes(notes) {\n    return {\n        type: IMPORT_NOTES,\n        payload: {\n            notes,\n        },\n    };\n}\n\nexport function play() {\n    return { type: PLAY };\n}\n\nexport function playFromStart() {\n    return { type: PLAY_FROM_START };\n}\n\nexport function pause() {\n    return { type: PAUSE };\n}\n\nexport function skipBack() {\n    return (dispatch, getState) => {\n        // Calculate 10 seconds (in microseconds) as a percentage of the timeline\n        const adjustment = 10000000 / getTimeline(getState()).range * 100;\n        dispatch({\n            type: SKIP_BACK,\n            payload: {\n                adjustment,\n            },\n        });\n    };\n}\n\nexport function skipForward() {\n    return (dispatch, getState) => {\n        // Calculate 30 seconds (in microseconds) as a percentage of the timeline\n        const adjustment = 30000000 / getTimeline(getState()).range * 100;\n        dispatch({\n            type: SKIP_FORWARD,\n            payload: {\n                adjustment,\n            },\n        });\n    };\n}\n\nexport function moveScrubber(scrub) {\n    return {\n        type: MOVE_SCRUBBER,\n        payload: {\n            scrub,\n        },\n    };\n}\n\nexport function setPlaybackSpeed(speed) {\n    return {\n        type: SET_PLAYBACK_SPEED,\n        payload: {\n            speed,\n        },\n    };\n}\n\nexport function movePlayHead(position, isUserAction) {\n    return (dispatch, getState) => {\n        const speed = getPlaybackSpeed(getState());\n        if (isUserAction && speed !== 1) {\n            dispatch(setPlaybackSpeed(1));\n        }\n        dispatch({\n            type: MOVE_PLAY_HEAD,\n            payload: {\n                position,\n            },\n        });\n    };\n}\n\nexport function toggleMetricsLayer(layer) {\n    return {\n        type: TOGGLE_METRICS_LAYER,\n        payload: {\n            layer,\n        },\n    };\n}\n\nexport const TOGGLE_FILTER_LAYER = 'TOGGLE_FILTER_LAYER';\nexport function toggleFilterLayer(layer, filter) {\n    return {\n        type: TOGGLE_FILTER_LAYER,\n        payload: {\n            layer,\n            filter,\n        },\n    };\n}\n\nexport function showMetricsLayer(layer) {\n    return {\n        type: SHOW_METRICS_LAYER,\n        payload: {\n            layer,\n        },\n    };\n}\n\nexport function hideMetricsLayer(layer) {\n    return {\n        type: HIDE_METRICS_LAYER,\n        payload: {\n            layer,\n        },\n    };\n}\n\nexport function setAudio(events) {\n    return {\n        type: SET_AUDIO,\n        payload: {\n            events,\n        },\n    };\n}\n\nexport function moveTranscriptionPlayScrub(transcriptionPlayScrub) {\n    return {\n        type: MOVE_TRANSCRIPTION_PLAY_SCRUB,\n        payload: {\n            transcriptionPlayScrub,\n        },\n    };\n}\n\nexport function updateTranscriptionViewport(viewport) {\n    return {\n        type: UPDATE_TRANSCRIPTION_VIEWPORT,\n        payload: {\n            viewport,\n        },\n    };\n}\n\nexport function updateTranscriptionConfidence(confidence) {\n    return {\n        type: UPDATE_TRANSCRIPTION_CONFIDENCE,\n        payload: {\n            confidence,\n        },\n    };\n}\n\nexport function setNoteVisibility(visible) {\n    return {\n        type: SET_NOTE_VISIBILITY,\n        payload: {\n            visible,\n        },\n    };\n}\n\nexport const SET_COMPLETED_NOTES_VISIBILITY = 'SET_COMPLETED_NOTES_VISIBILITY';\n\nexport function setCompletedNotesVisibility(visible) {\n    return {\n        type: SET_COMPLETED_NOTES_VISIBILITY,\n        payload: {\n            visible,\n        },\n    };\n}\n\nexport function openRateCall() {\n    return {\n        type: OPEN_RATE_CALL,\n        payload: {\n            showCallRatingDialog: true,\n        },\n    };\n}\n\nexport function cancelRateCall() {\n    return {\n        type: CANCEL_RATE_CALL,\n        payload: {\n            showCallRatingDialog: false,\n        },\n    };\n}\n\nexport function rateCall(details) {\n    // TODO call rate call api\n    return {\n        type: RATE_CALL,\n        payload: {\n            showCallRatingDialog: false,\n            rating: details,\n        },\n    };\n}\n\nexport function focusOnPosition(position) {\n    return (dispatch, getState) => {\n        const { scrub, transcription } = getState();\n        const { viewport } = transcription;\n        const { span } = viewport;\n        const timeline = getTimeline(getState());\n\n        const getTimestampWithAudioOffset = getTimestampWithAudioOffsetFunc(getState());\n        const sentencePosition = (position * 1000) + timeline.start;\n        const sentencePositionWithOffset = getTimestampWithAudioOffset(sentencePosition) - timeline.start;\n        const pos = sentencePositionWithOffset * 100 / timeline.range;\n\n        // Timeline\n        const scrubWidth = (scrub.end - scrub.start);\n        const scrubMiddle = scrub.start + (scrubWidth / 2);\n        const scrubDiff = pos - scrubMiddle;\n        const scrubStart = Math.min(Math.max(0, scrub.start + scrubDiff), 100 - scrubWidth);\n        const scrubEnd = scrubStart + scrubWidth;\n\n        // Transcription\n        const vpMiddle = viewport.start + (span / 2);\n        const vpDiff = pos - vpMiddle;\n        const vpStart = Math.min(Math.max(0, viewport.start + vpDiff), 100 - span);\n\n        dispatch(movePlayHead(pos, true));\n        dispatch(moveScrubber({ start: scrubStart, end: scrubEnd }));\n        dispatch(updateTranscriptionViewport({ start: vpStart, span }));\n    };\n}\n\nexport function setEventTypes(lstresult) {\n    return {\n        type: SET_EVENT_TYPES,\n        payload: {\n            eventTypes: lstresult,\n        },\n    };\n}\n\nexport const RESET_STATE = 'RESET_STATE';\n\nexport function resetState() {\n    return {\n        type: RESET_STATE,\n        payload: null,\n    };\n}\n\nexport function audioErrorMessageFromLoading(error) {\n    const status = error instanceof LoadingError ? error.response.status : 0;\n    if (status === 403) {\n        return 'Unable to load recording. You may not have permission to access this file.';\n    }\n    return 'Unable to load recording. The recording is not yet available or may have been purged.';\n}\n\nfunction blockingErrorFromLoading(error) {\n    const status = error instanceof LoadingError ? error.response.status : 0;\n    let blockingMessage = 'Unable to load recording. The recording is not yet available or may have been purged.';\n    if (status === 403) {\n        blockingMessage = 'Unable to load recording. You may not have permission to access this file.';\n    } else if (status >= 500) {\n        blockingMessage = 'We were unable to fetch the audio file at this time. Please try again later.';\n    }\n    return new BlockingInsightsError(STATUS_EMPTY,\n        'Unable to load recording.',\n        blockingMessage);\n}\n\nexport function validateAudioAndCalls() {\n    return (dispatch, getState) => {\n        const state = getState();\n        const { error } = getAudioState(state);\n        const { isRecorded } = getCallsState(state);\n        if (error) {\n            if (isRecorded) {\n                return Promise.reject(blockingErrorFromLoading(error));\n            }\n            const blockingError = new BlockingInsightsError(STATUS_EMPTY,\n                'No recording was made.',\n                'A recording was not made for this experience.');\n            return Promise.reject(blockingError);\n        }\n        return Promise.resolve();\n    };\n}\n\nconst simulateProgress = (dispatch, getState) => {\n    let callCount = 1;\n    const repeater = setInterval(() => {\n        const state = getState();\n        const loadProgress = getLoadProgress(state);\n        // once audio is loaded, progress is at 20% so we clear\n        if (loadProgress > 99) {\n            clearInterval(repeater);\n        } else {\n            dispatch(setLoadProgress(Math.min(100, callCount + 1)));\n            callCount += 1;\n        }\n    }, 25);\n};\n\nexport function initialiseWithPrimaryUuid(uuid) {\n    if (typeof uuid !== 'string' || uuid.length === 0) {\n        return (dispatch) => {\n            dispatch(logSilentError('Invalid PrimaryUUID'));\n            return Promise.reject();\n        };\n    }\n    return (dispatch, getState) => {\n        if (uuid === getPrimaryUuid(getState())) {\n            return null;\n        }\n        const errorHandler = error => dispatch(showFetchError(error));\n        dispatch(resetState());\n        dispatch(setPrimaryUuid(uuid));\n        simulateProgress(dispatch, getState);\n        dispatch(pause());\n        return dispatch(fetchEvents())\n            .then(() => dispatch(fetchCalls()))\n            .then(() => {\n                const state = getState();\n                const primaryUuid = getPrimaryUuid(state);\n                const calls = getCalls(state);\n                dispatch(loadCanShareRecording(primaryUuid));\n                dispatch(loadRatings(primaryUuid));\n                dispatch(loadParticipantsName(calls)).then(() => {\n                    dispatch(loadData(primaryUuid, calls));\n                    dispatch(loadEventType());\n                    dispatch(loadNotes(primaryUuid));\n                    return dispatch(refreshUnreadNotes());\n                });\n            })\n            .then(() => dispatch(movePlayHead(0)))\n            .then(() => dispatch(fetchAudio()))\n            .then(() => dispatch(validateAudioAndCalls()))\n            .catch(errorHandler);\n    };\n}\n","import { AGENT_TITLE, CUSTOMER_TITLE } from '../../routes/api/Environment';\n\nexport const CREATE_EXPERIENCE_OPTIONS = 'SET_EXPERIENCE_OPTIONS';\nexport function createExperienceOptions(participants) {\n    if (Object.keys(participants).length > 0) {\n        const options = {};\n        let agent = 1;\n        const data = Object.keys(participants);\n        data.forEach((number) => {\n            const participant = participants[number];\n            const [uuid] = participant.relatedUuids;\n            if (!participant.isAgent) {\n                const customerName = (participant.name) ? `${participant.name.toUpperCase()}'S` : CUSTOMER_TITLE;\n                options[uuid] = {\n                    type: CUSTOMER_TITLE,\n                    viewName: `${customerName} Experience`,\n                    icon: participant.image,\n                    color: participant.color,\n                    avatar: participant.photoUrl,\n                };\n            } else {\n                const agentName = (participant.name) ? `${participant.name.toUpperCase()}'S` : `${AGENT_TITLE} ${agent}`;\n                options[uuid] = {\n                    type: AGENT_TITLE,\n                    viewName: `${agentName} View`,\n                    icon: participant.image,\n                    color: participant.color,\n                    avatar: participant.photoUrl,\n                };\n                agent += 1;\n            }\n        });\n        return {\n            type: CREATE_EXPERIENCE_OPTIONS,\n            payload: options,\n        };\n    }\n    return {\n        type: CREATE_EXPERIENCE_OPTIONS,\n        payload: {},\n    };\n}\n","/* eslint-disable import/no-cycle */\nimport { eventsFor } from './events';\nimport { setParticipantImage } from './salesforce';\nimport { createExperienceOptions } from './experienceOptions';\nimport { AGENT_TITLE, CUSTOMER_TITLE } from '../../routes/api/Environment';\nimport userIcon from '../../assets/svgs/icon-user.svg';\n\nexport function addUuidToParticipant(participant, uuid) {\n    if (!participant.relatedUuids.includes(uuid)) {\n        participant.relatedUuids.push(uuid);\n    }\n}\n\nexport function numberOfAgents(participants) {\n    return Object.keys(participants).filter(key => participants[key].isAgent).length;\n}\n\nexport function nextAgentColor(participants) {\n    return numberOfAgents(participants) === 0 ? '#00A9CE' : '#64CCC9';\n}\n\nexport function numberOfCustomers(participants) {\n    return Object.keys(participants).filter(key => !participants[key].isAgent).length;\n}\n\nexport function nextCustomerColor(participants) {\n    return numberOfCustomers(participants) === 0 ? '#FFC72C' : '#FFA12C';\n}\n\nexport function newParticipant(isPrimary, isAgent, userId = null, participants) {\n    return {\n        isPrimary,\n        isAgent,\n        userId,\n        image: userIcon,\n        relatedUuids: [],\n        start: Number.MAX_SAFE_INTEGER,\n        end: 0,\n        initials: null,\n        title: '',\n        agentNumber: isAgent ? numberOfAgents(participants) + 1 : null,\n        agents: 0,\n        classes: isAgent ? 'local-caller' : 'remote-caller',\n        color: isAgent ? nextAgentColor(participants) : nextCustomerColor(participants),\n        call: {\n            isInternalOnly: false,\n        },\n        type: null,\n    };\n}\n\nexport function newFromParticipant(uuid, call, participants) {\n    const isPrimary = call.aUuid === uuid;\n    const isAgent = call.fromSipDeviceId !== null || call.fromUserId !== null;\n    return newParticipant(isPrimary, isAgent, call.fromUserId, participants);\n}\n\nexport function newToParticipant(uuid, call, participants) {\n    const isPrimary = call.bUuid === uuid;\n    const isAgent = call.toSipDeviceId !== null || call.toUserId !== null;\n    return newParticipant(isPrimary, isAgent, call.toUserId, participants);\n}\n\n\nexport function addParticipantClassificationData(participants) {\n    const dataParticipants = participants;\n    const noOfAgents = numberOfAgents(participants);\n    Object.keys(participants).forEach((key) => {\n        const { isAgent, agentNumber } = participants[key];\n        dataParticipants[key].agents = noOfAgents;\n        dataParticipants[key].number = key;\n        dataParticipants[key].call.isInternalOnly = noOfAgents === Object.keys(dataParticipants).length;\n        let prefix = '';\n        if (!isAgent) {\n            prefix = '+';\n            dataParticipants[key].title = CUSTOMER_TITLE;\n        } else if (noOfAgents > 1) {\n            dataParticipants[key].title = `${AGENT_TITLE} ${agentNumber}`;\n            dataParticipants[key].classes = `local-caller-${agentNumber === 1 ? 'a' : 'b'}`;\n        } else {\n            dataParticipants[key].title = AGENT_TITLE;\n        }\n        const { title, number } = dataParticipants[key];\n        dataParticipants[key].fullNumber = `${prefix}${number}`;\n        const { fullNumber } = dataParticipants[key];\n        dataParticipants[key].fullTitle = `${title} (${fullNumber})`;\n    });\n    return dataParticipants;\n}\n\nexport const SET_PARTICIPANTS = 'SET_PARTICIPANTS';\nexport function setParticipants(participants) {\n    return {\n        type: SET_PARTICIPANTS,\n        payload: participants,\n    };\n}\n\nexport function buildParticipantsArray(primaryUuid, calls, channels, participantNames) {\n    const participants = {};\n    calls.forEach((call) => {\n        const startTime = (new Date(call.timeStart)).getTime() * 1000;\n        const endTime = ((new Date(call.timeStart)).getTime() + call.timeTalking * 1000) * 1000;\n        if (!participants[call.fromNumber]) {\n            participants[call.fromNumber] = newFromParticipant(primaryUuid, call, participants);\n            const participantNameItem = participantNames && participantNames.find(item => call.fromNumber === item.phoneNum);\n            if (participantNameItem) {\n                participants[call.fromNumber].name = participantNameItem.name || null;\n                participants[call.fromNumber].initials = participantNameItem.initials || null;\n                participants[call.fromNumber].photoUrl = participantNameItem.photoUrl || null;\n                participants[call.fromNumber].type = participantNameItem.type || null;\n            }\n        }\n        if (!participants[call.toNumber]) {\n            participants[call.toNumber] = newToParticipant(primaryUuid, call, participants);\n            const participantNameItem = participantNames && participantNames.find(item => call.toNumber === item.phoneNum);\n            if (participantNameItem) {\n                participants[call.toNumber].name = participantNameItem.name || null;\n                participants[call.toNumber].initials = participantNameItem.initials || null;\n                participants[call.toNumber].photoUrl = participantNameItem.photoUrl || null;\n                participants[call.toNumber].type = participantNameItem.type || null;\n            }\n        }\n        addUuidToParticipant(participants[call.fromNumber], call.aUuid);\n        addUuidToParticipant(participants[call.toNumber], call.bUuid);\n        participants[call.toNumber].start = Math.min(participants[call.toNumber].start, startTime);\n        participants[call.fromNumber].start = Math.min(participants[call.fromNumber].start, startTime);\n        participants[call.toNumber].end = endTime || 0;\n        participants[call.fromNumber].end = endTime || 0;\n    });\n    return addParticipantClassificationData(participants);\n}\n\nexport function createParticipants(primaryUuid, calls, channels, participantNames) {\n    const participantsWithClassificationData = buildParticipantsArray(primaryUuid, calls, channels, participantNames);\n    return (dispatch) => {\n        dispatch(setParticipants(participantsWithClassificationData));\n        dispatch(eventsFor(participantsWithClassificationData, channels, calls));\n        dispatch(createExperienceOptions(participantsWithClassificationData));\n        Object.keys(participantsWithClassificationData).forEach((key) => {\n            dispatch(setParticipantImage(participantsWithClassificationData[key]));\n        });\n    };\n}\n","export const TOGGLE_ROUTING = 'TOGGLE_ROUTING';\nexport const LOAD_PROGRESS = 'LOAD_PROGRESS';\nexport const LOAD_PROGRESS_AUDIO = 'LOAD_PROGRESS_AUDIO';\n\nexport function toggleRouting() {\n    return {\n        type: TOGGLE_ROUTING,\n    };\n}\n\nexport function setLoadProgress(percentage) {\n    return {\n        type: LOAD_PROGRESS,\n        payload: percentage,\n    };\n}\n\nexport function setLoadProgressAudio(percentage) {\n    return {\n        type: LOAD_PROGRESS_AUDIO,\n        payload: percentage,\n    };\n}\n\nexport const SET_STATUS = 'SET_STATUS';\n\nexport function setStatus(status, description = null) {\n    return {\n        type: SET_STATUS,\n        payload: {\n            status,\n            description,\n        },\n    };\n}\n\nexport const SET_NOTES_WIDTH = 'SET_NOTES_WIDTH';\n\nexport const setNotesWidth = width => ({\n    type: SET_NOTES_WIDTH,\n    payload: width,\n});\n","import { getChannelsFromDataState, getPrimaryUuid } from '../selectors/common-selectors';\nimport { getAudioRecording } from '../../routes/api/App';\nimport { scale } from '../../shared/utility/timeline';\nimport { SET_AUDIO } from '../constants/actions';\nimport { getTimeline } from '../selectors';\nimport { setLoadProgressAudio } from './status';\n\nexport const REQUEST_AUDIO = 'REQUEST_AUDIO';\n\nexport function requestAudio() {\n    return {\n        type: REQUEST_AUDIO,\n        payload: {\n            isLoading: true,\n        },\n    };\n}\n\nexport const INVALIDATE_AUDIO = 'INVALIDATE_AUDIO';\n\nexport function invalidateAudio() {\n    return {\n        type: INVALIDATE_AUDIO,\n        payload: {\n            source: null,\n            duration: null,\n        },\n    };\n}\n\nexport const RECEIVE_AUDIO = 'RECEIVE_AUDIO';\n\nexport function receiveAudio(source, duration) {\n    return {\n        type: RECEIVE_AUDIO,\n        payload: {\n            isLoading: false,\n            source,\n            duration,\n        },\n    };\n}\n\nexport const NO_AUDIO = 'NO_AUDIO';\n\nexport function noAudio(error) {\n    return {\n        type: NO_AUDIO,\n        payload: {\n            error,\n        },\n    };\n}\n\nexport function fetchAudio(\n    getAudioRecordingApiCall = getAudioRecording,\n    createObjectURL = window.URL.createObjectURL,\n) {\n    return async (dispatch, getState) => {\n        dispatch(requestAudio());\n        dispatch(invalidateAudio());\n        const primaryUuid = getPrimaryUuid(getState());\n        try {\n            const updateProgress = (percentage) => {\n                const progress = Math.round(percentage);\n                // limit to 99 just in case\n                const cappedProgress = Math.min(99, progress);\n                dispatch(setLoadProgressAudio(cappedProgress));\n            };\n            const { blob, duration } = await getAudioRecordingApiCall(primaryUuid, getState().auth.jwtToken, updateProgress);\n            const source = createObjectURL(await blob);\n            dispatch(receiveAudio(source, duration));\n        } catch (error) {\n            dispatch(noAudio(error));\n        }\n        return Promise.resolve();\n    };\n}\n\nexport function createAudioEvents() {\n    return (dispatch, getState) => {\n        const state = getState();\n        const primaryUuid = getPrimaryUuid(state);\n        const channels = getChannelsFromDataState(state);\n        const { start, end } = getTimeline(state);\n        const channel = channels[primaryUuid];\n        if (!channel) {\n            return;\n        }\n        const startEvent = {\n            flags: { isRecordStop: true },\n            timestamp: start,\n        };\n        const endEvent = {\n            flags: { isRecordStop: true },\n            timestamp: end,\n        };\n        const channelLength = endEvent.timestamp - startEvent.timestamp;\n        const audioEvents = [\n            startEvent,\n            channel.events.filter(event => (\n                event.flags.isRecordStart === true\n                || event.flags.isRecordStop === true\n                || (event.flags.isSecondary && (event.flags.isHold || event.flags.isUnHold))\n            )),\n            endEvent,\n        ].flat().map(event => ({\n            ...event,\n            position: 100 / channelLength * (event.timestamp - startEvent.timestamp),\n        }));\n        let playTime = 0;\n        let lastEvent = startEvent;\n        let playEvent = null;\n        let playEvents = [];\n        let offset = 0;\n        audioEvents.forEach((event) => {\n            const { flags, position } = event;\n            if (!playEvent && (\n                flags.isRecordStart === true\n                || (flags.isSecondary && flags.isUnHold)\n            )) {\n                offset += event.timestamp - lastEvent.timestamp;\n                playEvent = {\n                    audioStart: playTime,\n                    start: event.position,\n                    timelineStart: event.timestamp,\n                    offset,\n                };\n            } else if (playEvent && (\n                flags.isRecordStop === true\n                || (flags.isSecondary && flags.isHold)\n            )) {\n                playTime += position - lastEvent.position;\n                playEvent.stop = position;\n                playEvent.audioStop = playTime;\n                playEvent.timelineStop = event.timestamp;\n                playEvents.push(playEvent);\n                playEvent = null;\n            }\n            lastEvent = event;\n        });\n        playEvents = playEvents.map(event => ({\n            ...event,\n            audioStart: 100 / playTime * event.audioStart,\n            audioStop: 100 / playTime * event.audioStop,\n        }))\n            .map(event => ({\n                ...event,\n                timeline: {\n                    start: new Date(event.timelineStart / 1000),\n                    stop: new Date(event.timelineStop / 1000),\n                },\n            }));\n        playEvents = playEvents.map(event => ({\n            ...event,\n            playheadAtMediaPosition(media) {\n                const {\n                    stop,\n                    audioStart,\n                    audioStop,\n                } = event;\n                const { duration, currentTime } = media;\n                const currentTimeAsPercentageOfAudio = 100 / duration * currentTime;\n                return scale(currentTimeAsPercentageOfAudio, audioStart, audioStop, event.start, stop);\n            },\n            mediaPositionAtPlayhead(playhead, media) {\n                const {\n                    stop,\n                    audioStart,\n                    audioStop,\n                } = event;\n                const { duration } = media;\n                const playheadAsPercentageOfAudio = scale(playhead, event.start, stop, audioStart, audioStop);\n                return duration / 100 * playheadAsPercentageOfAudio;\n            },\n        }));\n        dispatch({\n            type: SET_AUDIO,\n            payload: {\n                events: playEvents,\n            },\n        });\n    };\n}\n","/* eslint-disable import/prefer-default-export */\nexport function getQuery() {\n    const search = window.location.search.substring(1);\n    if (search.length === 0) {\n        return {};\n    }\n\n    const query = {};\n\n    search.split('&').forEach((item) => {\n        const [key, value] = item.split('=');\n        query[key] = value;\n    });\n\n    return query;\n}\n","import { createSelector } from 'reselect';\nimport { getParticipants } from './common-selectors';\n\nconst callerWithUuid = createSelector(\n    [getParticipants],\n    participants => (uuid) => {\n        if (!participants || !Object.keys(participants).length) {\n            return null;\n        }\n        return Object.keys(participants)\n            .filter(key => participants[key].relatedUuids.includes(uuid))\n            .map(key => participants[key])\n            .shift() || null;\n    },\n);\n\nexport default callerWithUuid;\n","import { createSelector } from 'reselect';\nimport { getCalls } from './common-selectors';\n\nconst callAtTimestamp = createSelector(\n    [getCalls],\n    calls => (timestamp, participant = null) => {\n        if (!Array.isArray(calls) || !calls.length) {\n            return null;\n        }\n        return calls\n            .map(call => call)\n            .sort((a, b) => a.time.start - b.time.start)\n            .filter((call, index, array) => {\n                if (participant) {\n                    return call.toNumber === participant.number;\n                }\n                if (timestamp >= call.time.start && timestamp < call.time.end) {\n                    return true;\n                }\n                if (index === 0) {\n                    return timestamp < call.time.start;\n                }\n                if (index < array.length - 1) {\n                    return timestamp >= call.time.end && timestamp < array[index + 1].time.start;\n                }\n                return false;\n            }).pop() || calls.map(call => call).pop();\n    },\n);\n\nexport default callAtTimestamp;\n","import { createSelector } from 'reselect';\nimport { getEventsByParticipants, getParticipants } from './common-selectors';\n\nexport const getNumberForPrimaryParticipant = createSelector(\n    [getParticipants],\n    participants => Object.keys(participants || {}).filter(key => participants[key].isPrimary).shift(),\n);\n\nexport const getEventsForPrimaryParticipant = createSelector(\n    [getNumberForPrimaryParticipant, getEventsByParticipants],\n    (primaryNumber, eventsByParticipants) => {\n        if (!primaryNumber || !eventsByParticipants[primaryNumber]) {\n            return [];\n        }\n        return eventsByParticipants[primaryNumber].events;\n    },\n);\n","import {\n    getCalls,\n    getChannelsFromDataState, getParticipants,\n    getRawDataFromTranscriptionState,\n    getSentencesFromTranscriptionState,\n} from '../selectors/common-selectors';\nimport {\n    getEventsForPrimaryParticipant,\n    getNumberForPrimaryParticipant,\n} from '../selectors/eventsForPrimaryParticipant';\nimport { getTimeline } from '../selectors';\n\nexport function eventsMatchingGroup(group, events = []) {\n    return events.filter(event => event.group === group);\n}\n\nexport function durationOfEventGroup(group, events = []) {\n    const groupEventDurations = eventsMatchingGroup(group, events)\n        .map(event => event.end - event.start);\n    if (groupEventDurations.length === 0) {\n        return 0;\n    }\n    return groupEventDurations.reduce((duration, total) => total + duration) / 1000000;\n}\n\nexport function ringDuration(events) {\n    let ringingStart = 0;\n    let ringingEnd = Number.MAX_SAFE_INTEGER;\n    events.forEach((event) => {\n        if (event.startFlags.isCallStart === true) {\n            ringingStart = event.start;\n        }\n        if (event.startFlags.isCsStateChange === true) {\n            ringingEnd = Math.min(ringingEnd, event.start);\n        }\n    });\n    if (ringingEnd === Number.MAX_SAFE_INTEGER) {\n        ringingEnd = ringingStart;\n    }\n    return Math.max(0, ringingEnd - ringingStart) / 1000000;\n}\n\nexport function transcriptionDurationsWithinBridgedEvents(state) {\n    const primaryNumber = getNumberForPrimaryParticipant(state);\n    const events = getEventsForPrimaryParticipant(state);\n    const sentences = getSentencesFromTranscriptionState(state);\n    const bridgedEvents = eventsMatchingGroup('bridge', events);\n    const durations = {\n        talking: 0,\n        listening: 0,\n        overtalk: 0,\n        silent: 0,\n    };\n    bridgedEvents.forEach((event) => {\n        const { start, end } = event;\n        Object.keys(sentences).forEach((key) => {\n            const isPrimary = key === primaryNumber;\n            const sentencesForParticipant = sentences[key];\n            const durationKey = isPrimary ? 'talking' : 'listening';\n            let sentencesToCheckForOverlap = [];\n            if (isPrimary) {\n                sentencesToCheckForOverlap = Object.keys(sentences)\n                    .filter(secondary => secondary !== primaryNumber)\n                    .map(secondary => sentences[secondary])\n                    .flat();\n            }\n            sentencesForParticipant.forEach((sentence) => {\n                const sentenceEnd = Math.max(start, Math.min(end, sentence.timelineEnd));\n                const sentenceStart = Math.min(end, Math.max(start, sentence.timelineStart));\n                if (isPrimary) {\n                    sentencesToCheckForOverlap.forEach((secondary) => {\n                        if (secondary.timelineStart < sentenceEnd && secondary.timelineEnd > sentenceStart) {\n                            const clippedStart = Math.max(sentenceStart, secondary.timelineStart);\n                            const clippedEnd = Math.min(sentenceEnd, secondary.timelineEnd);\n                            durations.overtalk += (clippedEnd - clippedStart) / 1000000;\n                        }\n                    });\n                }\n                const duration = (sentenceEnd - sentenceStart) / 1000000;\n                durations[durationKey] += duration;\n            });\n        });\n    });\n    const bridgeDuration = durationOfEventGroup('bridge', events);\n    durations.talking -= durations.overtalk;\n    durations.listening -= durations.overtalk;\n    durations.silent = bridgeDuration - durations.talking - durations.listening - durations.overtalk;\n    return durations;\n}\n\nfunction eventsSummary(state) {\n    const events = getEventsForPrimaryParticipant(state);\n    return {\n        ...transcriptionDurationsWithinBridgedEvents(state),\n        holding: durationOfEventGroup('hold', events),\n        queuing: durationOfEventGroup('queuing', events),\n        routing: durationOfEventGroup('routing', events),\n        ringing: ringDuration(events),\n    };\n}\n\nexport const SET_CALL_SUMMARY = 'SET_CALL_SUMMARY';\nexport function setCallSummary() {\n    return (dispatch, getState) => {\n        const state = getState();\n        const participants = getParticipants(state);\n        return dispatch({\n            type: SET_CALL_SUMMARY,\n            payload: {\n                calls: getCalls(state),\n                timeline: getTimeline(state),\n                channels: getChannelsFromDataState(state),\n                transcription: getRawDataFromTranscriptionState(state),\n                participants,\n                summary: eventsSummary(state),\n            },\n        });\n    };\n}\n","export const ERROR_MODAL_SHOW = 'ERROR_MODAL_SHOW';\nexport const ERROR_MODAL_CLEAR = 'ERROR_MODAL_CLEAR';\n\nexport function showErrorModal(title, message, onPrimaryClicked = () => {}) {\n    return {\n        type: ERROR_MODAL_SHOW,\n        payload: {\n            title,\n            message,\n            onPrimaryClicked,\n        },\n    };\n}\n\nexport function showRetryableErrorModal(\n    title,\n    message,\n    onPrimaryClicked = () => {},\n    primaryButtonText = 'Retry',\n    secondaryButtonText = 'Dismiss',\n) {\n    return {\n        type: ERROR_MODAL_SHOW,\n        payload: {\n            title,\n            message,\n            onPrimaryClicked,\n            primaryButtonText,\n            secondaryButtonText,\n        },\n    };\n}\n\nexport function closeErrorModal() {\n    return (dispatch) => {\n        dispatch({\n            type: ERROR_MODAL_CLEAR,\n        });\n    };\n}\n","// TODO: Future design / dev task to implement a UI and reducer for error handling to avoid using alerts\nimport { setStatus } from './status';\nimport { BlockingInsightsError, InsightsError } from '../../shared/utility/errors';\nimport { showErrorModal } from './errorModal';\n\nexport function showBlockingErrorMessage(blockingInsightsError) {\n    return (dispatch) => {\n        dispatch(\n            setStatus(blockingInsightsError.status,\n                blockingInsightsError.statusMessage || blockingInsightsError.blockingMessage),\n        );\n        dispatch(showErrorModal('Error', blockingInsightsError.blockingMessage || blockingInsightsError.statusMessage));\n    };\n}\n\nexport const SHOW_VALIDATION_ERROR = 'SHOW_VALIDATION_ERROR';\n\nexport function showValidationError(error) {\n    return (dispatch) => {\n        if (error instanceof InsightsError && error.status) {\n            console.warn(error.message);\n        } else {\n            window.alert(error.message);\n            dispatch({\n                type: SHOW_VALIDATION_ERROR,\n                payload: {\n                    error,\n                },\n            });\n        }\n    };\n}\n\nexport const SHOW_FETCH_ERROR = 'SHOW_FETCH_ERROR';\n\nexport function showFetchError(error) {\n    return (dispatch) => {\n        if (error instanceof BlockingInsightsError) {\n            dispatch(showBlockingErrorMessage(error));\n        } else if (error instanceof InsightsError && error.status) {\n            console.warn(error.message);\n            dispatch(setStatus(error.status, error.displayMessage));\n        } else {\n            window.alert(error.message);\n            dispatch({\n                type: SHOW_FETCH_ERROR,\n                payload: {\n                    error,\n                },\n            });\n        }\n    };\n}\n\nexport const LOG_SILENT_ERROR = 'LOG_SILENT_ERROR';\n\nexport function logSilentError(error) {\n    return (dispatch) => {\n        if (error instanceof InsightsError && error.status) {\n            dispatch(setStatus(error.status, error.displayMessage));\n        }\n        console.warn(error.message);\n        dispatch({\n            type: LOG_SILENT_ERROR,\n            payload: {\n                error,\n            },\n        });\n    };\n}\n","import { getQuery } from '../../shared/utility/url';\nimport callerWithUuid from '../selectors/callerWithUuid';\nimport callAtTimestamp from '../selectors/callAtTimestamp';\nimport { getTranscription } from '../../routes/api/App';\nimport {\n    getParticipants,\n    getSentencesFromTranscriptionState,\n    getUuidFromTranscriptionState,\n} from '../selectors/common-selectors';\nimport { setCallSummary } from './callSummary';\nimport getTimestampWithAudioOffsetFunc from '../selectors/timestampWithAudioOffset';\nimport { showFetchError } from './errors';\nimport { BlockingInsightsError } from '../../shared/utility/errors';\nimport { STATUS_EMPTY } from '../constants/data';\n\nexport const REQUEST_TRANSCRIPTION = 'REQUEST_TRANSCRIPTION';\n\nexport function requestTranscription(uuid) {\n    return {\n        type: REQUEST_TRANSCRIPTION,\n        payload: {\n            isLoading: true,\n            uuid,\n        },\n    };\n}\n\nexport const RECEIVE_TRANSCRIPTION = 'RECEIVE_TRANSCRIPTION';\n\nexport function receiveTranscription(uuid, transcription, sentences) {\n    return {\n        type: RECEIVE_TRANSCRIPTION,\n        payload: {\n            isLoading: false,\n            uuid,\n            data: transcription.data.analysis.normalised.data,\n            sentences,\n        },\n    };\n}\n\n// Exported for tests\nexport function sortedSentences(sentences) {\n    return sentences\n        .sort((a, b) => {\n            if (a.Start < b.Start) {\n                return -1;\n            }\n            if (a.Start > b.Start) {\n                return 1;\n            }\n            return 0;\n        });\n}\n\nfunction sentencesFor(state, participant, data, recordingId, isAgent) {\n    const id = recordingId.split('/').pop();\n    const selectCallerWithUuid = callerWithUuid(state);\n    const callAtTimestampFunc = callAtTimestamp(state);\n    const transcriptionFocus = selectCallerWithUuid(id);\n    const sentences = [];\n    const timestampWithAudioOffset = getTimestampWithAudioOffsetFunc(state);\n    [1, 2].forEach((channel) => {\n        if (channel === 1 && transcriptionFocus !== participant) {\n            return;\n        }\n        if (channel === 2 && transcriptionFocus === participant) {\n            return;\n        }\n        data[channel].Sentences.forEach((sentence) => {\n            const sentenceTimelineStart = timestampWithAudioOffset((sentence.Start * 1000) + participant.start);\n            const sentenceTimelineEnd = timestampWithAudioOffset((sentence.End * 1000) + participant.start);\n            const sentenceStart = (sentenceTimelineStart - participant.start) / 1000;\n            const sentenceEnd = (sentenceTimelineEnd - participant.start) / 1000;\n            let call;\n            if (participant.start <= sentenceTimelineStart && participant.end > sentenceTimelineStart && !isAgent) {\n                call = callAtTimestampFunc(sentenceTimelineStart, participant);\n            } else if (isAgent) {\n                call = callAtTimestampFunc(sentenceTimelineStart);\n            }\n            if (call !== undefined && call !== null) {\n                const isSentenceRunningToNextCall = sentenceTimelineEnd > call.time.end;\n                const { aUuid, bUuid } = call;\n                const aCaller = selectCallerWithUuid(aUuid);\n                const bCaller = selectCallerWithUuid(bUuid);\n                const processedSentence = {};\n                if (aCaller === participant) {\n                    processedSentence.callIndex = call.index;\n                    processedSentence.uuid = aUuid;\n                    processedSentence.number = aCaller.number;\n                    processedSentence.opposing = {\n                        uuid: bUuid,\n                        number: bCaller.number,\n                    };\n                } else if (bCaller === participant) {\n                    processedSentence.callIndex = call.index;\n                    processedSentence.uuid = bUuid;\n                    processedSentence.number = bCaller.number;\n                    processedSentence.opposing = {\n                        uuid: aUuid,\n                        number: aCaller.number,\n                    };\n                } else if (isSentenceRunningToNextCall) {\n                    const nextCall = callAtTimestampFunc(sentenceTimelineEnd);\n                    const { aUuid: aUuidNextCall, bUuid: bUuidNextCall } = nextCall;\n                    const aCallerNextCall = selectCallerWithUuid(aUuidNextCall);\n                    const bCallerNextCall = selectCallerWithUuid(bUuidNextCall);\n                    processedSentence.callIndex = nextCall.index;\n                    processedSentence.uuid = aUuidNextCall;\n                    processedSentence.number = aCallerNextCall.number;\n                    processedSentence.opposing = {\n                        uuid: bUuidNextCall,\n                        number: bCallerNextCall.number,\n                    };\n                } else {\n                    return;\n                }\n                sentences.push({\n                    ...processedSentence,\n                    channel,\n                    Start: sentence.Start,\n                    End: sentence.End,\n                    startWithOffset: sentenceStart,\n                    endWithOffset: sentenceEnd,\n                    timelineStart: sentenceTimelineStart,\n                    timelineEnd: sentenceTimelineEnd,\n                    Sentence: sentence.Sentence,\n                    timeline: {\n                        start: new Date(sentenceTimelineStart / 1000),\n                        end: new Date(sentenceTimelineEnd / 1000),\n                    },\n                });\n            }\n        });\n    });\n    return sortedSentences(sentences);\n}\n\nfunction mapMentionsToPositions(keyword) {\n    return keyword.Mentions.map(mention => mention.Pos.map(\n        pos => ({\n            channel: parseInt(mention.Channel, 10),\n            start: pos,\n            end: null,\n        }),\n    )).flat();\n}\n\nfunction mapPositionsFromKeywords(keywords) {\n    return keywords.map(mapMentionsToPositions).flat();\n}\n\nfunction mapPositionsFromPhrases(phrases) {\n    return phrases.map(phrase => ({\n        channel: parseInt(phrase.Channel, 10),\n        start: phrase.Start,\n        end: phrase.End,\n    }));\n}\n\nfunction combineAndSortPositions(positions) {\n    return positions.flat()\n        .sort((a, b) => a.start - b.start);\n}\n\nfunction processCategory(category) {\n    const Keywords = category.Keywords || [];\n    const Phrases = category.Phrases || [];\n    return {\n        ...category,\n        Keywords,\n        Phrases,\n        Positions: combineAndSortPositions([\n            mapPositionsFromKeywords(Keywords),\n            mapPositionsFromPhrases(Phrases),\n        ]),\n    };\n}\n\nfunction parseAndProcessTranscription(data) {\n    const parsedData = JSON.parse(data);\n    return {\n        ...parsedData,\n        Categories: (parsedData.Categories || []).map(processCategory),\n    };\n}\n\nfunction processTranscription(transcription, primaryUuid, participants, state) {\n    const { data } = transcription.data.analysis.normalised;\n    const { data: { recordingId } } = transcription;\n    const result = {};\n    const { showAll } = getQuery();\n    let earliestCallIndex = Number.MAX_SAFE_INTEGER;\n    let mainUser;\n    let agent;\n    let maxTime = 0;\n    Object.keys(participants)\n        .forEach(key => {\n            const duration = participants[key].end - participants[key].start;\n            if (maxTime < duration && !participants[key].isAgent) {\n                maxTime = duration;\n                mainUser = key;\n            } else if (participants[key].isAgent) {\n                agent = key;\n            }\n        });\n    Object.keys(participants)\n        .forEach((key) => {\n            const participant = participants[key];\n            const sentences = sentencesFor(state, participant, data, recordingId, agent === key)\n                .filter((sentence) => {\n                    if (participant.relatedUuids.includes(primaryUuid)) {\n                        return true;\n                    }\n                    if (participants[sentence.opposing.number].isPrimary) {\n                        return true;\n                    }\n                    return showAll;\n                });\n            if (Array.isArray(sentences) && sentences.length > 0) {\n                earliestCallIndex = Math.min(sentences\n                    .map(sentence => sentence.callIndex)\n                    .reduce((sentence, earliest) => Math.min(sentence, earliest)), earliestCallIndex);\n            }\n            result[key] = sentences;\n        });\n    Object.keys(result).forEach((key) => {\n        result[key] = result[key].map(sentence => ({\n            ...sentence,\n            isInEarliestCall: sentence.callIndex === earliestCallIndex,\n        }));\n    });\n    Object.keys(result).forEach(key => {\n        if (key !== agent && key !== mainUser && result[mainUser]) {\n            for (let index = 0; index < result[mainUser].length; index++) {\n                for (let i = 0; i < result[key].length; i++) {\n                    if (result[mainUser][index].timelineStart === result[key][i].timelineStart) {\n                        result[mainUser].splice(index, 1);\n                        index -= 1;\n                        break;\n                    }\n                }\n            }\n        }\n    });\n    return result;\n}\n\nexport function loadTranscription(primaryUuid, calls, data, getTranscriptionFromApi = getTranscription) {\n    return (dispatch, getState) => {\n        // TODO: Remove this if not desired for production version\n        const state = getState();\n        const currentUuid = getUuidFromTranscriptionState(state);\n        const currentSentences = getSentencesFromTranscriptionState(state);\n        const participants = getParticipants(state);\n        if (currentUuid !== primaryUuid || !Array.isArray(currentSentences) || currentSentences.length === 0) {\n            dispatch(requestTranscription(primaryUuid));\n            return getTranscriptionFromApi(primaryUuid, state.auth.jwtToken)\n                .then((response) => {\n                    if (typeof response.data !== 'undefined') {\n                        const { data: { analysis: { normalised } } } = response;\n                        normalised.data = parseAndProcessTranscription(normalised.data);\n                        const result = processTranscription(response, primaryUuid, participants, state);\n                        dispatch(receiveTranscription(primaryUuid, response, result));\n                        dispatch(setCallSummary());\n                    } else {\n                        const blockingError = new BlockingInsightsError(STATUS_EMPTY,\n                            'There is no transcription for this caller experience',\n                            'There is no transcription for this caller experience.');\n                        dispatch(showFetchError(blockingError));\n                    }\n                });\n        }\n        dispatch(setCallSummary());\n        return Promise.resolve();\n    };\n}\n","import { REQUEST_CALLS, RECEIVE_CALLS } from '../actions/calls';\nimport { REQUEST_EVENTS, RECEIVE_EVENTS } from '../actions/events';\nimport { REQUEST_DATA, RECEIVE_DATA } from '../actions/actions';\nimport { STATUS_LOADING, STATUS_OK } from '../constants/data';\nimport { REQUEST_AUDIO, RECEIVE_AUDIO, NO_AUDIO } from '../actions/audio';\nimport {\n    TOGGLE_ROUTING, LOAD_PROGRESS, SET_STATUS, SET_NOTES_WIDTH, LOAD_PROGRESS_AUDIO,\n} from '../actions/status';\n\nexport const initialState = {\n    status: STATUS_LOADING,\n    description: null,\n    isDisplaying: {\n        routing: false,\n    },\n    isLoading: {\n        calls: false,\n        events: false,\n        data: false,\n        audio: false,\n    },\n    isAudioLoaded: false,\n    progressAudio: 0,\n    progress: 0,\n    notesWidth: 25,\n    audioFailed: false,\n};\n\nexport function statusForState(state) {\n    const { isLoading } = state;\n    const numberOfLoadingItems = Object.keys(isLoading).filter(key => isLoading[key]).length;\n    return numberOfLoadingItems ? STATUS_LOADING : STATUS_OK;\n}\n\nexport function status(state = initialState, action) {\n    let newState = state;\n    switch (action.type) {\n        case REQUEST_CALLS:\n        case RECEIVE_CALLS:\n            newState = {\n                ...state,\n                isLoading: {\n                    ...state.isLoading,\n                    calls: action.payload.isLoading,\n                },\n            };\n            break;\n        case REQUEST_EVENTS:\n        case RECEIVE_EVENTS:\n            newState = {\n                ...state,\n                isLoading: {\n                    ...initialState.isLoading,\n                    events: action.payload.isLoading,\n                },\n            };\n            break;\n        case REQUEST_DATA:\n        case RECEIVE_DATA:\n            newState = {\n                ...state,\n                isLoading: {\n                    ...initialState.isLoading,\n                    data: action.payload.isLoading,\n                },\n            };\n            break;\n        case REQUEST_AUDIO:\n            newState = {\n                ...state,\n                isLoading: {\n                    ...initialState.isLoading,\n                    audio: action.payload.isLoading,\n                },\n            };\n            break;\n        case RECEIVE_AUDIO:\n            newState = {\n                ...state,\n                isLoading: {\n                    ...initialState.isLoading,\n                    audio: action.payload.isLoading,\n                },\n                isAudioLoaded: true,\n            };\n            break;\n        case NO_AUDIO:\n            newState = {\n                ...state,\n                isLoading: {\n                    ...initialState.isLoading,\n                    audio: false,\n                },\n                audioFailed: true,\n            };\n            break;\n        case TOGGLE_ROUTING:\n            newState = {\n                ...state,\n                isDisplaying: {\n                    ...state.isDisplaying,\n                    routing: !state.isDisplaying.routing,\n                },\n            };\n            break;\n        case LOAD_PROGRESS:\n            newState = {\n                ...state,\n                progress: action.payload,\n            };\n            break;\n        case LOAD_PROGRESS_AUDIO:\n            newState = {\n                ...state,\n                progressAudio: action.payload,\n            };\n            break;\n        case SET_STATUS:\n            return {\n                ...state,\n                status: action.payload.status,\n                description: action.payload.description,\n            };\n        case SET_NOTES_WIDTH:\n            return {\n                ...state,\n                notesWidth: action.payload,\n            };\n        default:\n            return state;\n    }\n    return {\n        ...newState,\n        status: statusForState(newState),\n    };\n}\n","import {\n    REQUEST_EVENTS, INVALIDATE_EVENTS, RECEIVE_EVENTS, PROCESS_EVENTS,\n} from '../actions/events';\n\nconst initialState = {\n    isLoading: false,\n    uuid: null,\n    events: null,\n    eventsByParticipants: null,\n};\n\nexport default function events(state = initialState, action) {\n    switch (action.type) {\n        case REQUEST_EVENTS:\n        case RECEIVE_EVENTS:\n        case INVALIDATE_EVENTS:\n        case PROCESS_EVENTS:\n            return {\n                ...state,\n                ...action.payload,\n            };\n        default:\n            return state;\n    }\n}\n","import { REQUEST_CALLS, INVALIDATE_CALLS, RECEIVE_CALLS } from '../actions/calls';\n\nconst initialState = {\n    isLoading: false,\n    uuids: null,\n    calls: null,\n    isRecorded: false,\n};\n\nexport default function calls(state = initialState, action) {\n    switch (action.type) {\n        case REQUEST_CALLS:\n        case INVALIDATE_CALLS:\n        case RECEIVE_CALLS:\n            return {\n                ...state,\n                ...action.payload,\n            };\n        default:\n            return state;\n    }\n}\n","export const BACKGROUND_NOISE_LEVEL = 'background-noise-level';\nexport const TRANSCRIPTION_CONFIDENCE = 'transcription-confidence';\nexport const SHOW_NOTES = 'show-notes';\nexport const CLASH_WINS = 'clash-wins';\nexport const AFFIRMATIONS = 'affirmations';\nexport const INTERRUPTIONS = 'interruptions';\nexport const STEALS = 'steals';\nexport const SHOW_SEARCH_RESULTS = 'show-search-results';\n\nexport const FILTER_HOLD_UNHOLD = 'FILTER_HOLD_UNHOLD';\nexport const FILTER_TRANSFER = 'FILTER_TRANSFER';\nexport const FILTER_LISTEN_IN = 'FILTER_LISTEN_IN';\nexport const FILTER_CALL_QUEUING = 'FILTER_CALL_QUEUING';\nexport const FILTER_NEW_PARTY = 'FILTER_NEW_PARTY';\n","import { SHOW_METRICS_LAYER, HIDE_METRICS_LAYER, TOGGLE_METRICS_LAYER } from '../constants/actions';\nimport { FILTER_HOLD_UNHOLD, FILTER_TRANSFER, SHOW_NOTES } from '../constants/metrics-layers';\n\nconst initialState = [\n    FILTER_HOLD_UNHOLD,\n    FILTER_TRANSFER,\n    SHOW_NOTES,\n];\n\nexport default function activeLayers(state = initialState, action) {\n    switch (action.type) {\n        case TOGGLE_METRICS_LAYER: {\n            const { layer } = action.payload;\n\n            if (state.includes(layer)) {\n                return state.filter(item => item !== layer);\n            }\n\n            return state.concat([layer]);\n        }\n        case SHOW_METRICS_LAYER: {\n            const { layer } = action.payload;\n            if (state.includes(layer)) {\n                return state;\n            }\n            return state.concat([layer]);\n        }\n        case HIDE_METRICS_LAYER: {\n            const { layer } = action.payload;\n            return state.filter(item => item !== layer);\n        }\n        default:\n            return state;\n    }\n}\n","import { SET_AUDIO } from '../constants/actions';\nimport { INVALIDATE_AUDIO, NO_AUDIO, RECEIVE_AUDIO } from '../actions/audio';\n\nconst initialState = {\n    source: null,\n    events: [],\n    error: null,\n};\n\nexport default function audio(state = initialState, action) {\n    switch (action.type) {\n        case RECEIVE_AUDIO: {\n            const { source, duration } = action.payload;\n            return {\n                ...state,\n                source,\n                duration,\n                error: null,\n            };\n        }\n        case INVALIDATE_AUDIO: {\n            const { source, duration } = action.payload;\n            return {\n                ...state,\n                source,\n                duration,\n                error: null,\n            };\n        }\n        case SET_AUDIO: {\n            const { events } = action.payload;\n            return {\n                ...state,\n                events,\n            };\n        }\n        case NO_AUDIO: {\n            const { error } = action.payload;\n            return {\n                ...state,\n                source: null,\n                duration: 0,\n                events: [],\n                error,\n            };\n        }\n        default:\n            return state;\n    }\n}\n","import { INITIAL_LOAD, SET_PARTICIPANT_NAMES } from '../constants/actions';\n\nconst initialState = {\n    channels: {},\n    talkTime: null,\n    participantNames: [],\n};\n\nexport default function data(state = initialState, action) {\n    switch (action.type) {\n        case SET_PARTICIPANT_NAMES: {\n            return {\n                ...state,\n                participantNames: action.payload,\n            };\n        }\n        case INITIAL_LOAD: {\n            const { channels, talkTime } = action.payload;\n            return {\n                ...state,\n                channels: {\n                    ...state.channels,\n                    ...channels,\n                },\n                talkTime,\n            };\n        }\n        default:\n            return state;\n    }\n}\n","import {\n    MOVE_PLAY_HEAD,\n    PAUSE,\n    PLAY,\n    PLAY_FROM_START, SET_PLAYBACK_SPEED,\n    SKIP_BACK,\n    SKIP_FORWARD,\n} from '../constants/actions';\n\nconst initialState = {\n    isPlaying: false,\n    speed: 1,\n    availableSpeeds: [0.5, 1, 1.5, 2, 3],\n    playhead: 0,\n};\n\nexport default function playback(state = initialState, action) {\n    switch (action.type) {\n        case PLAY:\n            return {\n                ...state,\n                isPlaying: true,\n            };\n        case PLAY_FROM_START:\n            return {\n                ...state,\n                isPlaying: true,\n                playhead: 0,\n            };\n        case PAUSE:\n            return {\n                ...state,\n                isPlaying: false,\n            };\n        case SKIP_BACK: {\n            return {\n                ...state,\n                playhead: Math.max(0.01, state.playhead - action.payload.adjustment),\n            };\n        }\n        case SKIP_FORWARD: {\n            return {\n                ...state,\n                playhead: Math.min(100, state.playhead + action.payload.adjustment),\n            };\n        }\n        case MOVE_PLAY_HEAD:\n            return {\n                ...state,\n                playhead: action.payload.position,\n            };\n        case SET_PLAYBACK_SPEED:\n            return {\n                ...state,\n                speed: action.payload.speed,\n            };\n        default:\n            return state;\n    }\n}\n","export const SET_SCRUBBER_VISIBILITY = 'SET_SCRUBBER_VISIBILITY';\nexport function setScrubberVisibility(visibility) {\n    return {\n        type: SET_SCRUBBER_VISIBILITY,\n        payload: {\n            isVisible: visibility,\n        },\n    };\n}\n","import { MOVE_SCRUBBER } from '../constants/actions';\nimport { SET_SCRUBBER_VISIBILITY } from '../actions/scrubber';\n\nexport const initialState = {\n    start: 0,\n    end: 30,\n    isUserModified: false,\n    isVisible: false,\n};\n\nexport default function scrub(state = initialState, action) {\n    switch (action.type) {\n        case MOVE_SCRUBBER: {\n            return {\n                ...state,\n                start: action.payload.scrub.start,\n                end: action.payload.scrub.end,\n            };\n        }\n        case SET_SCRUBBER_VISIBILITY: {\n            return {\n                ...state,\n                isVisible: action.payload.isVisible,\n            };\n        }\n        default:\n            return state;\n    }\n}\n","import { SET_CALL_SUMMARY } from '../actions/callSummary';\nimport { AGENT_TITLE, CUSTOMER_TITLE } from '../../routes/api/Environment';\n\nconst initialState = {\n    startTime: 0,\n    duration: 0,\n    direction: null,\n    from: '',\n    to: '',\n    images: [],\n    metrics: [],\n    summary: {},\n    keyCallers: {\n        colors: [],\n        titles: [],\n        numbers: [],\n        fullNumbers: [],\n        fullTitles: [],\n        names: [],\n        fullNameNumbers: [],\n    },\n};\n\nexport default function callSummary(state = initialState, action) {\n    function numberOfAgents(participants) {\n        return Object.keys(participants).filter(key => participants[key].isAgent).length;\n    }\n\n    function callDirection(participants, calls) {\n        const [firstCall] = calls;\n        const { direction } = firstCall;\n        const prefix = numberOfAgents(participants) < Object.keys(participants).length ? '' : 'Internal ';\n        return `${prefix}${direction === 'OUTBOUND' ? 'Outbound' : 'Inbound'}`;\n    }\n\n    function getKeyCallers(participants) {\n        const keyCallers = Object.keys(participants)\n            .sort(key => (participants[key].isPrimary ? -1 : 0))\n            .map(key => participants[key]);\n        return {\n            images: keyCallers.map(caller => caller.image),\n            avatar: keyCallers.map(caller => caller.photoUrl),\n            colors: keyCallers.map(caller => caller.color),\n            titles: keyCallers.map(caller => caller.title),\n            numbers: keyCallers.map(caller => caller.number),\n            fullNumbers: keyCallers.map(caller => caller.fullNumber),\n            fullTitles: keyCallers.map(caller => caller.fullTitle),\n            names: keyCallers.map(caller => caller.name),\n            fullNameNumbers: keyCallers.map(caller => (\n                (caller.name) ? `${caller.name} (${caller.fullNumber})` : caller.fullTitle)),\n        };\n    }\n\n    function processMetrics(transcription, keyCallers, callers, channels) {\n        return Object.keys(transcription)\n        // Remove non-numeric keys (data object includes Categories key)\n            .filter(key => parseInt(key, 10) > 0)\n            .map((key, index) => {\n                const number = keyCallers.numbers[index];\n                const { isAgent, relatedUuids } = callers[number];\n                const metricData = {\n                    holdEvents: 0,\n                    pauseEvents: 0,\n                    uuid: null,\n                };\n                [metricData.uuid] = relatedUuids;\n                const uuid = Object.keys(channels)[0];\n                const channel = channels[uuid];\n                channels[uuid].events.forEach((event) => {\n                    const {\n                        isHold,\n                        isRecordStop,\n                    } = event.flags;\n                    if (isRecordStop && event.timestamp < channel.end) {\n                        metricData.pauseEvents += 1;\n                    }\n                    if (isHold) {\n                        metricData.holdEvents += 1;\n                    }\n                });\n                transcription[key].Metrics.forEach((metric) => {\n                    const [metricKey] = Object.keys(metric);\n                    metricData[metricKey] = metric[metricKey];\n                });\n                return {\n                    title: isAgent ? AGENT_TITLE : CUSTOMER_TITLE,\n                    color: isAgent ? '#00A9CE' : '#FFC72C',\n                    isAgent,\n                    data: metricData,\n                };\n            });\n    }\n\n    switch (action.type) {\n        case SET_CALL_SUMMARY: {\n            const {\n                calls, timeline, channels, transcription, participants, summary,\n            } = action.payload;\n            const { start, range } = timeline;\n            if (!calls) {\n                return initialState;\n            }\n            const keyCallers = getKeyCallers(participants);\n            const metrics = Object.keys(participants).length < 1\n                ? null : processMetrics(transcription, keyCallers, participants, channels);\n            const direction = Object.keys(participants).length < 1\n                ? null : callDirection(participants, calls);\n            return {\n                ...state,\n                startTime: start,\n                duration: range,\n                direction,\n                metrics,\n                summary,\n                keyCallers,\n            };\n        }\n        default:\n            return state;\n    }\n}\n","import {\n    UPDATE_TRANSCRIPTION_VIEWPORT,\n    MOVE_TRANSCRIPTION_PLAY_SCRUB,\n    UPDATE_TRANSCRIPTION_CONFIDENCE,\n} from '../constants/actions';\nimport { RECEIVE_TRANSCRIPTION, REQUEST_TRANSCRIPTION } from '../actions/transcription';\n\nconst initialState = {\n    transcriptionPlayScrub: {\n        position: 0,\n        offsetPosition: 0,\n    },\n    viewport: {\n        start: 0,\n        span: 100,\n    },\n    confidence: 0,\n    isLoading: false,\n    uuid: null,\n    rawData: {\n        1: null,\n        2: null,\n    },\n    sentences: null,\n};\n\nexport default function transcription(state = initialState, action) {\n    switch (action.type) {\n        case MOVE_TRANSCRIPTION_PLAY_SCRUB:\n            return {\n                ...state,\n                transcriptionPlayScrub: action.payload.transcriptionPlayScrub,\n            };\n        case UPDATE_TRANSCRIPTION_VIEWPORT:\n            return {\n                ...state,\n                viewport: action.payload.viewport,\n            };\n        case UPDATE_TRANSCRIPTION_CONFIDENCE:\n            return {\n                ...state,\n                confidence: action.payload.confidence,\n            };\n        case REQUEST_TRANSCRIPTION:\n            return {\n                ...state,\n                isLoading: action.payload.isLoading,\n                uuid: action.payload.uuid,\n            };\n        case RECEIVE_TRANSCRIPTION:\n            return {\n                ...state,\n                isLoading: action.payload.isLoading,\n                uuid: action.payload.uuid,\n                rawData: action.payload.data,\n                sentences: action.payload.sentences,\n            };\n        default:\n            return state;\n    }\n}\n","import { updateNotes } from './salesforce';\nimport { getNoteWithIdSelector } from '../selectors/noteSelectors';\n\nexport const modifyNoteWithId = (noteId, modification = {}) => (dispatch, getState) => {\n    const state = getState();\n    const selector = getNoteWithIdSelector(state);\n    const note = selector(noteId);\n    if (!note) {\n        return;\n    }\n    dispatch(updateNotes({\n        ...note,\n        ...(typeof modification === 'function' ? modification(note) : modification),\n    }));\n};\n\nexport const acknowledgeNote = id => dispatch => dispatch(modifyNoteWithId(id, {\n    isAcknowledged: true,\n}));\n\nexport const closeNote = id => dispatch => dispatch(modifyNoteWithId(id, {\n    isClosed: true,\n}));\n\nexport const updateUserActivity = noteId => dispatch => dispatch(modifyNoteWithId(noteId));\n\nexport const deleteComment = (noteId, commentId) => (dispatch) => {\n    if (window.confirm('Delete this reply?')) {\n        dispatch(modifyNoteWithId(noteId, note => ({\n            isAcknowledged: false,\n            thread: note.thread.filter(comment => comment.uuid !== commentId),\n        })));\n    }\n};\n\nexport const OPEN_NOTE_EDITOR = 'OPEN_NOTE_EDITOR';\n\nexport const NoteEditMode = {\n    newNote: 'newNote',\n    existingNote: 'existingNote',\n    newComment: 'newComment',\n    existingComment: 'existingComment',\n    isExistingItem(editMode) {\n        return editMode === NoteEditMode.existingNote || editMode === NoteEditMode.existingComment;\n    },\n    isNote(editMode) {\n        return editMode === NoteEditMode.newNote || editMode === NoteEditMode.existingNote;\n    },\n    isComment(editMode) {\n        return editMode === NoteEditMode.newComment || editMode === NoteEditMode.existingComment;\n    },\n    isNew(editMode) {\n        return editMode === NoteEditMode.newNote || editMode === NoteEditMode.newComment;\n    },\n};\n\nexport function openNoteEditor(editMode = NoteEditMode.newNote, noteId = null, commentId = null) {\n    // TODO call add note api\n    return {\n        type: OPEN_NOTE_EDITOR,\n        payload: {\n            editMode,\n            noteToEdit: noteId,\n            commentToEdit: commentId,\n        },\n    };\n}\n\nexport const CLOSE_NOTE_EDITOR = 'CLOSE_NOTE_EDITOR';\n\nexport function closeNoteEditor() {\n    return {\n        type: CLOSE_NOTE_EDITOR,\n    };\n}\n\nexport const MARK_NOTE_AS_READ = 'MARK_NOTE_AS_READ';\n\nexport function markNoteAsRead(id) {\n    return {\n        type: MARK_NOTE_AS_READ,\n        payload: {\n            id,\n        },\n    };\n}\n\nexport const SET_NOTES_FILTER = 'SET_NOTES_FILTER';\n\nexport function setNotesFilter(filter) {\n    return {\n        type: SET_NOTES_FILTER,\n        payload: {\n            filter,\n        },\n    };\n}\n\nexport default {\n    acknowledgeNote,\n    closeNote,\n    deleteComment,\n    NoteEditMode,\n    setNotesFilter,\n};\n","import {\n    SET_NOTE_VISIBILITY,\n    IMPORT_NOTES,\n    SET_EVENT_TYPES,\n    SET_CAN_SHARE,\n} from '../constants/actions';\nimport {\n    DELETE_NOTE, UPDATE_NOTE, SET_NOTES, REFRESH_UNREAD_NOTES,\n} from '../actions/salesforce';\nimport { SET_COMPLETED_NOTES_VISIBILITY } from '../actions/actions';\nimport {\n    CLOSE_NOTE_EDITOR,\n    MARK_NOTE_AS_READ, OPEN_NOTE_EDITOR, SET_NOTES_FILTER,\n} from '../actions/notes';\nimport { NotesFilter } from '../selectors/noteSelectors';\n\nconst initialNoteState = {\n    author: 0,\n    authorName: '',\n    canShare: true,\n    channelUuid: '',\n    isClosed: false,\n    eventTime: '',\n    eventType: '',\n    isAcknowledged: false,\n    noteId: '',\n    noteCreated: null,\n    noteModified: null,\n    polarity: 'Neutral',\n    relatedToTitle: '',\n    text: '',\n    timestamp: 0,\n    uuid: '',\n    userActivity: [],\n    thread: [],\n    version: 1.0,\n};\n\nconst initialState = {\n    showOnTimeline: true,\n    showCompletedNotes: true,\n    filter: NotesFilter.all,\n    showEditModal: false,\n    editMode: null,\n    noteToEdit: null,\n    commentToEdit: null,\n    canShare: false,\n    unread: [],\n    notes: [],\n    // TODO get eventTypes from API\n    eventTypes: [\n        /* eslint-disable max-len */\n        // { id: 0, text: 'General Note', icon: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iIzAwMCI+ICAgIDxwYXRoIGZpbGw9ImZpbGwiIGlkPSJhIiBkPSJNNiAxNGEyIDIgMCAxIDEgMC00IDIgMiAwIDAgMSAwIDR6bTYgMGEyIDIgMCAxIDEgMC00IDIgMiAwIDAgMSAwIDR6bTYgMGEyIDIgMCAxIDEgMC00IDIgMiAwIDAgMSAwIDR6Ii8+PC9zdmc+' },\n        // { id: 1, text: 'Excellent Behaviour', icon: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iIzAwMCI+ICAgIDxwYXRoIGZpbGw9ImZpbGwiIGlkPSJhIiBkPSJNMTIgMTYuNWwtMy40OTcgMS44MzhhMSAxIDAgMCAxLTEuNDUtMS4wNTRsLjY2Ny0zLjg5My0yLjgyOS0yLjc1OGExIDEgMCAwIDEgLjU1NS0xLjcwNmwzLjkwOS0uNTY4IDEuNzQ4LTMuNTQyYTEgMSAwIDAgMSAxLjc5NCAwbDEuNzQ4IDMuNTQyIDMuOTEuNTY4YTEgMSAwIDAgMSAuNTU0IDEuNzA2bC0yLjgzIDIuNzU4LjY2OSAzLjg5M2ExIDEgMCAwIDEtMS40NTEgMS4wNTRMMTIgMTYuNXoiLz48L3N2Zz4=' },\n        // { id: 2, text: 'Offensive Behaviour', icon: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iIzAwMCI+ICAgIDxwYXRoIGZpbGw9ImZpbGwiIGlkPSJhIiBkPSJNMTIgMjFhMiAyIDAgMSAxIDAtNCAyIDIgMCAwIDEgMCA0em0wLTZjLTIgMC0yIDAtMi0xMGEyIDIgMCAxIDEgNCAwYzAgMTAgMCAxMC0yIDEweiIvPjwvc3ZnPg==' },\n        /* eslint-enable max-len */\n        {\n            icon: '',\n            id: 0,\n            text: 'General Note',\n        }, {\n            icon: '',\n            id: 1,\n            text: 'Offensive Behaviour',\n        }, {\n            icon: '',\n            id: 2,\n            text: 'Excellent Behaviour',\n        }, {\n            icon: '',\n            id: 3,\n            text: 'Neutral',\n        },\n    ],\n    polarityTypes: [\n        {\n            icon: '',\n            id: 'Negative',\n            text: 'Negative',\n        }, {\n            icon: '',\n            id: 'Neutral',\n            text: 'Neutral',\n        }, {\n            icon: '',\n            id: 'Positive',\n            text: 'Positive',\n        },\n    ],\n};\n\nexport default function notes(state = initialState, action) {\n    const { type, payload } = action;\n    switch (type) {\n        case SET_CAN_SHARE:\n            return {\n                ...state,\n                canShare: payload,\n            };\n        case SET_EVENT_TYPES:\n            return {\n                ...state,\n                eventTypes: payload.eventTypes,\n            };\n        case SET_NOTE_VISIBILITY:\n            return {\n                ...state,\n                showOnTimeline: payload.visible,\n            };\n        case SET_COMPLETED_NOTES_VISIBILITY:\n            return {\n                ...state,\n                showCompletedNotes: payload.visible,\n            };\n        case DELETE_NOTE:\n            return {\n                ...state,\n                notes: state.notes.filter(note => note.noteId !== payload.noteId),\n            };\n        case SET_NOTES:\n            return {\n                ...state,\n                notes: payload.notes,\n                unread: [],\n            };\n        case UPDATE_NOTE:\n            if (state.notes.some(note => note.noteId === payload.note.noteId)) {\n                // Update item\n                return {\n                    ...state,\n                    notes: state.notes.map((note) => {\n                        if (note.noteId === payload.note.noteId) {\n                            return { ...note, ...payload.note };\n                        }\n                        return note;\n                    }),\n                };\n            }\n            // Insert item\n            return {\n                ...state,\n                notes: [\n                    ...state.notes,\n                    {\n                        ...initialNoteState,\n                        ...payload.note,\n                    }],\n            };\n        case OPEN_NOTE_EDITOR:\n            return {\n                ...state,\n                showEditModal: true,\n                editMode: payload.editMode,\n                noteToEdit: payload.noteToEdit,\n                commentToEdit: payload.commentToEdit,\n            };\n        case CLOSE_NOTE_EDITOR:\n            return {\n                ...state,\n                showEditModal: false,\n                editMode: null,\n                noteToEdit: null,\n                commentToEdit: null,\n            };\n        case IMPORT_NOTES:\n            return {\n                ...state,\n                notes: payload.notes,\n            };\n        case REFRESH_UNREAD_NOTES:\n            return {\n                ...state,\n                unread: payload.ids,\n            };\n        case MARK_NOTE_AS_READ:\n            return {\n                ...state,\n                unread: state.unread.filter(id => id !== payload.id),\n            };\n        case SET_NOTES_FILTER:\n            return {\n                ...state,\n                filter: payload.filter,\n            };\n        default:\n            return state;\n    }\n}\n","import { CANCEL_RATE_CALL, OPEN_RATE_CALL, RATE_CALL } from '../constants/actions';\n\nconst initialState = {\n    showCallRatingDialog: false,\n    rating: [],\n};\n\nexport default function callRating(state = initialState, action) {\n    const { type, payload } = action;\n    switch (type) {\n        case OPEN_RATE_CALL:\n            return {\n                ...state,\n                showCallRatingDialog: payload.showCallRatingDialog,\n            };\n        case CANCEL_RATE_CALL:\n            return {\n                ...state,\n                showCallRatingDialog: payload.showCallRatingDialog,\n            };\n        case RATE_CALL:\n            return {\n                ...state,\n                showCallRatingDialog: payload.showCallRatingDialog,\n                rating: payload.rating,\n            };\n        default:\n            return state;\n    }\n}\n","import { getCurrentPosition, getRawDataFromTranscriptionState, getSearchPhrase } from '../selectors/common-selectors';\nimport { focusOnPosition } from './actions';\n\nfunction matchingWords(a, b, matchPartialWord) {\n    if (matchPartialWord && a.length > 0 && a.length < b.length) {\n        return a.toUpperCase() === b.toUpperCase().substr(0, a.length);\n    }\n    return a.toUpperCase() === b.toUpperCase();\n}\n\nfunction positionsMatchingSearchPhraseInTranscription(phrase, transcription) {\n    if (typeof phrase !== 'string' || phrase.length === 0) {\n        return [];\n    }\n    const positions = [];\n    Object.keys(transcription)\n        .filter(key => parseInt(key, 10) > 0)\n        .forEach((key) => {\n            const channel = transcription[key];\n            if (channel === null || !Array.isArray(channel.Words)) {\n                return;\n            }\n            const { Words: words } = channel;\n            let searchWords = phrase.split(' ');\n            let checkword = searchWords.shift();\n            let position = null;\n            let lastMatchingIndex = 0;\n            words.forEach((word, index) => {\n                const emptyWords = searchWords.filter(item => item.length === 0).length;\n                const wordsLeftToSearch = searchWords.length;\n                if (matchingWords(checkword, word.w, wordsLeftToSearch === emptyWords)) {\n                    if (position === null) {\n                        position = {\n                            channel: parseInt(key, 10),\n                            start: word.s,\n                        };\n                    } else if (lastMatchingIndex < index - 1) {\n                        position = null;\n                        lastMatchingIndex = null;\n                        searchWords = phrase.split(' ');\n                    }\n                    lastMatchingIndex = index;\n                    if (position !== null && wordsLeftToSearch === emptyWords) {\n                        position = {\n                            ...position,\n                            end: word.s,\n                        };\n                        positions.push(position);\n                        position = null;\n                        searchWords = phrase.split(' ');\n                    }\n                    checkword = searchWords.shift();\n                }\n            });\n        });\n    return positions.sort((a, b) => a.start - b.start);\n}\n\nexport const SET_CURRENT_MATCH_POSITION_INDEX = 'SET_CURRENT_MATCH_POSITION_INDEX';\n\nexport function setCurrentMatchPositionIndex(index) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: SET_CURRENT_MATCH_POSITION_INDEX,\n            payload: {\n                index,\n            },\n        });\n        const currentPosition = getCurrentPosition(getState());\n        if (currentPosition) {\n            dispatch(focusOnPosition(currentPosition.start));\n        }\n    };\n}\n\nexport const SET_MATCH_POSITIONS = 'SET_MATCH_POSITIONS';\n\nexport function setMatchPositions(positions) {\n    return (dispatch) => {\n        dispatch({\n            type: SET_MATCH_POSITIONS,\n            payload: {\n                positions,\n            },\n        });\n        dispatch(setCurrentMatchPositionIndex(0));\n    };\n}\n\nexport function setPositionsFromSearchPhrase() {\n    return (dispatch, getState) => {\n        const state = getState();\n        const searchPhrase = getSearchPhrase(state);\n        const transcription = getRawDataFromTranscriptionState(state);\n        const positions = positionsMatchingSearchPhraseInTranscription(searchPhrase, transcription);\n        dispatch(setMatchPositions(positions));\n    };\n}\n\nexport const SET_SEARCH_PHRASE = 'SET_SEARCH_PHRASE';\n\nexport function setSearchPhrase(searchPhrase) {\n    return {\n        type: SET_SEARCH_PHRASE,\n        payload: {\n            searchPhrase,\n        },\n    };\n}\n\nexport const SET_CURRENT_MATCH = 'SET_CURRENT_MATCH';\n\nexport function setCurrentMatch(match) {\n    return {\n        type: SET_CURRENT_MATCH,\n        payload: {\n            currentMatch: match,\n        },\n    };\n}\n\nexport const SET_MATCHES = 'SET_MATCHES';\n\nexport function setMatches(matches) {\n    return {\n        type: SET_MATCHES,\n        payload: {\n            matches,\n        },\n    };\n}\n","import {\n    SET_SEARCH_PHRASE,\n    SET_MATCH_POSITIONS,\n    SET_CURRENT_MATCH_POSITION_INDEX,\n} from '../actions/search';\n\nconst initialState = {\n    searchPhrase: null,\n    matches: [],\n    matchCount: 20,\n    currentMatch: 0,\n    positions: [],\n    positionCount: 0,\n    currentPosition: null,\n    currentPositionIndex: 0,\n};\n\nexport default function search(state = initialState, action) {\n    switch (action.type) {\n        case SET_SEARCH_PHRASE:\n            return {\n                ...state,\n                searchPhrase: action.payload.searchPhrase,\n            };\n        case SET_MATCH_POSITIONS:\n            return {\n                ...state,\n                positions: action.payload.positions,\n                positionCount: (action.payload.positions || []).length,\n                currentPosition: (action.payload.positions || [])[0],\n                currentPositionIndex: 0,\n            };\n        case SET_CURRENT_MATCH_POSITION_INDEX:\n            return {\n                ...state,\n                currentPosition: state.positions[action.payload.index],\n                currentPositionIndex: action.payload.index,\n            };\n        default:\n            return state;\n    }\n}\n","import { SET_PARTICIPANTS } from '../actions/participants';\nimport { SET_PARTICIPANT_IMAGE } from '../actions/salesforce';\n\nconst initialState = {};\n\nexport default function participants(state = initialState, action) {\n    switch (action.type) {\n        case SET_PARTICIPANTS: {\n            return action.payload;\n        }\n        case SET_PARTICIPANT_IMAGE: {\n            const { payload: { number, image } } = action;\n            return {\n                ...state,\n                [number]: {\n                    ...state[number],\n                    image,\n                },\n            };\n        }\n        default: {\n            return state;\n        }\n    }\n}\n","export const SET_EVENTTIMELINE_VISIBILITY = 'SET_EVENTTIMELINE_VISIBILITY';\nexport function setEventTimelineVisibility(visibility) {\n    return {\n        type: SET_EVENTTIMELINE_VISIBILITY,\n        payload: {\n            eventTimelineVisible: visibility,\n        },\n    };\n}\n","import { SET_EVENTTIMELINE_VISIBILITY } from '../actions/eventTimeline';\n\nexport const initialState = {\n    eventTimelineVisible: false,\n};\n\nexport default function eventTimeline(state = initialState, action) {\n    switch (action.type) {\n        case SET_EVENTTIMELINE_VISIBILITY: {\n            return {\n                eventTimelineVisible: action.payload.eventTimelineVisible,\n            };\n        }\n        default:\n            return state;\n    }\n}\n","import { CREATE_EXPERIENCE_OPTIONS } from '../actions/experienceOptions';\nimport { SET_PARTICIPANT_IMAGE } from '../actions/salesforce';\n\nconst initialState = {};\n\nexport default function experienceOptions(state = initialState, action) {\n    switch (action.type) {\n        case CREATE_EXPERIENCE_OPTIONS: {\n            return action.payload;\n        }\n        case SET_PARTICIPANT_IMAGE: {\n            const { payload: { image, uuid } } = action;\n            return {\n                ...state,\n                [uuid]: {\n                    ...state[uuid],\n                    icon: image,\n                },\n            };\n        }\n        default: {\n            return state;\n        }\n    }\n}\n","export const KNOWLEDGE_TYPE_CLASSIFICATION = 'classification';\nexport const KNOWLEDGE_TYPE_KEYWORD = 'keyword';\nexport const KNOWLEDGE_TYPE_TOPIC = 'topic';\nexport const TRANSCRIPTION_KEY_KEYWORDS = 'Keywords';\nexport const TRANSCRIPTION_KEY_KEYWORD = 'Keyword';\nexport const TRANSCRIPTION_KEY_TOPICS = 'Topics';\nexport const TRANSCRIPTION_KEY_TOPIC = 'Topic';\n","import { getKnowledgeSelectedItem, getRawDataFromTranscriptionState } from '../selectors/common-selectors';\nimport { setMatchPositions } from './search';\nimport {\n    TRANSCRIPTION_KEY_KEYWORDS,\n    TRANSCRIPTION_KEY_KEYWORD,\n    TRANSCRIPTION_KEY_TOPICS,\n    TRANSCRIPTION_KEY_TOPIC,\n} from '../constants/knowledge';\n\nexport const OPEN_CLASSIFICATIONS_DIALOG = 'OPEN_CLASSIFICATIONS_DIALOG';\nexport function openClassificationsDialog() {\n    return {\n        type: OPEN_CLASSIFICATIONS_DIALOG,\n    };\n}\n\nexport const CLOSE_CLASSIFICATIONS_DIALOG = 'CLOSE_CLASSIFICATIONS_DIALOG';\nexport function closeClassificationsDialog() {\n    return {\n        type: CLOSE_CLASSIFICATIONS_DIALOG,\n    };\n}\n\nfunction keywordPositionsForChannelMatchingIdentifier(channel, items, identifier) {\n    return items.filter(item => item[TRANSCRIPTION_KEY_KEYWORD] === identifier)\n        .map(item => item.Pos.map(pos => ({\n            channel,\n            start: pos,\n            end: null,\n        }))).flat();\n}\n\nfunction keywordPositionsMatchingIdentifier(transcription, identifier) {\n    const { 1: { [TRANSCRIPTION_KEY_KEYWORDS]: channel1 }, 2: { [TRANSCRIPTION_KEY_KEYWORDS]: channel2 } } = transcription;\n    return [\n        keywordPositionsForChannelMatchingIdentifier(1, channel1, identifier),\n        keywordPositionsForChannelMatchingIdentifier(2, channel2, identifier),\n    ].flat();\n}\n\nfunction topicPositionsForChannelMatchingIdentifier(channel, items, identifier) {\n    return items.filter(item => item[TRANSCRIPTION_KEY_TOPIC] === identifier)\n        .map(topic => topic[TRANSCRIPTION_KEY_KEYWORDS]\n            .map(item => item.Pos.map(pos => ({\n                channel,\n                start: pos,\n                end: null,\n            }))).flat()).flat();\n}\n\nfunction topicPositionsMatchingIdentifier(transcription, identifier) {\n    const { 1: { [TRANSCRIPTION_KEY_TOPICS]: channel1 }, 2: { [TRANSCRIPTION_KEY_TOPICS]: channel2 } } = transcription;\n    return [\n        topicPositionsForChannelMatchingIdentifier(1, channel1, identifier),\n        topicPositionsForChannelMatchingIdentifier(2, channel2, identifier),\n    ].flat();\n}\n\nexport function setPositionsFromKnowledgeSelectedItem() {\n    return (dispatch, getState) => {\n        const selectedItem = getKnowledgeSelectedItem(getState());\n        const { identifier, type, category } = selectedItem;\n        if (typeof identifier === 'string' && identifier.length > 0) {\n            const transcription = getRawDataFromTranscriptionState(getState());\n            let positions;\n            switch (type) {\n                case 'classification':\n                    positions = category.Positions;\n                    break;\n                case 'topic':\n                    positions = topicPositionsMatchingIdentifier(transcription, identifier);\n                    break;\n                case 'keyword':\n                    positions = keywordPositionsMatchingIdentifier(transcription, identifier);\n                    break;\n                default:\n                    return;\n            }\n            dispatch(setMatchPositions(positions));\n        }\n    };\n}\n\nexport const SELECT_KNOWLEDGE_CLASSIFICATION = 'SELECT_KNOWLEDGE_CLASSIFICATION';\nexport function selectKnowledgeClassification(identifier) {\n    return (dispatch, getState) => {\n        const { Categories: categories } = getRawDataFromTranscriptionState(getState());\n        const [category] = categories.filter(item => item.Name === identifier);\n        dispatch({\n            type: SELECT_KNOWLEDGE_CLASSIFICATION,\n            payload: {\n                identifier,\n                category,\n            },\n        });\n        dispatch(setPositionsFromKnowledgeSelectedItem());\n    };\n}\n\nexport const SELECT_KNOWLEDGE_KEYWORD = 'SELECT_KNOWLEDGE_KEYWORD';\nexport function selectKnowledgeKeyword(identifier) {\n    return (dispatch) => {\n        dispatch({\n            type: SELECT_KNOWLEDGE_KEYWORD,\n            payload: {\n                identifier,\n            },\n        });\n        dispatch(setPositionsFromKnowledgeSelectedItem());\n    };\n}\n\nexport const SELECT_KNOWLEDGE_TOPIC = 'SELECT_KNOWLEDGE_TOPIC';\nexport function selectKnowledgeTopic(identifier) {\n    return (dispatch) => {\n        dispatch({\n            type: SELECT_KNOWLEDGE_TOPIC,\n            payload: {\n                identifier,\n            },\n        });\n        dispatch(setPositionsFromKnowledgeSelectedItem());\n    };\n}\n\nexport const CLEAR_SELECTED_KNOWLEDGE_ITEM = 'CLEAR_SELECTED_KNOWLEDGE_ITEM';\nexport function clearSelectedKnowledgeItem() {\n    return {\n        type: CLEAR_SELECTED_KNOWLEDGE_ITEM,\n    };\n}\n\nexport const OPEN_KEYWORDS_TOPICS_DIALOG = 'OPEN_KEYWORDS_TOPICS_DIALOG';\nexport function openKeywordsTopicsDialog() {\n    return {\n        type: OPEN_KEYWORDS_TOPICS_DIALOG,\n    };\n}\n\nexport const CLOSE_KEYWORDS_TOPICS_DIALOG = 'CLOSE_KEYWORDS_TOPICS_DIALOG';\nexport function closeKeywordsTopicsDialog() {\n    return {\n        type: CLOSE_KEYWORDS_TOPICS_DIALOG,\n    };\n}\n","import {\n    CLEAR_SELECTED_KNOWLEDGE_ITEM,\n    CLOSE_CLASSIFICATIONS_DIALOG,\n    OPEN_CLASSIFICATIONS_DIALOG,\n    SELECT_KNOWLEDGE_CLASSIFICATION,\n    SELECT_KNOWLEDGE_KEYWORD,\n    SELECT_KNOWLEDGE_TOPIC,\n    OPEN_KEYWORDS_TOPICS_DIALOG,\n    CLOSE_KEYWORDS_TOPICS_DIALOG,\n} from '../actions/knowledge';\nimport { KNOWLEDGE_TYPE_CLASSIFICATION, KNOWLEDGE_TYPE_KEYWORD, KNOWLEDGE_TYPE_TOPIC } from '../constants/knowledge';\n\nconst initialState = {\n    currentMatch: 0,\n    selectedItem: {\n        identifier: null,\n        type: null,\n        category: null,\n    },\n    showClassificationsDialog: false,\n    showKeywordsTopicsDialog: false,\n};\n\nexport default function knowledge(state = initialState, action) {\n    switch (action.type) {\n        case OPEN_CLASSIFICATIONS_DIALOG:\n            return {\n                ...state,\n                showClassificationsDialog: true,\n            };\n        case CLOSE_CLASSIFICATIONS_DIALOG:\n            return {\n                ...state,\n                showClassificationsDialog: false,\n            };\n        case SELECT_KNOWLEDGE_CLASSIFICATION:\n            return {\n                ...state,\n                selectedItem: {\n                    identifier: action.payload.identifier,\n                    type: KNOWLEDGE_TYPE_CLASSIFICATION,\n                    category: action.payload.category,\n                },\n            };\n        case SELECT_KNOWLEDGE_KEYWORD:\n            return {\n                ...state,\n                selectedItem: {\n                    identifier: action.payload.identifier,\n                    type: KNOWLEDGE_TYPE_KEYWORD,\n                    category: null,\n                },\n            };\n        case SELECT_KNOWLEDGE_TOPIC:\n            return {\n                ...state,\n                selectedItem: {\n                    identifier: action.payload.identifier,\n                    type: KNOWLEDGE_TYPE_TOPIC,\n                    category: null,\n                },\n            };\n        case CLEAR_SELECTED_KNOWLEDGE_ITEM:\n            return {\n                ...state,\n                currentMatch: 0,\n                selectedItem: {\n                    identifier: null,\n                    type: null,\n                    category: null,\n                },\n            };\n        case OPEN_KEYWORDS_TOPICS_DIALOG:\n            return {\n                ...state,\n                showKeywordsTopicsDialog: true,\n            };\n        case CLOSE_KEYWORDS_TOPICS_DIALOG:\n            return {\n                ...state,\n                showKeywordsTopicsDialog: false,\n\n            };\n        default:\n            return state;\n    }\n}\n","import { Base64 } from 'js-base64';\nimport { SET_JWT_TOKEN } from '../constants/actions';\nimport { getQuery } from '../../shared/utility/url';\nimport { initialiseWithPrimaryUuid } from './actions';\nimport { CALLFLOW_URL, GATEKEEPER_URL, BASE_URL } from '../../routes/api/Environment';\nimport { loadOrgUrl, getNamespace, getUserName } from './salesforce';\nimport { STATUS_EMPTY } from '../constants/data';\nimport { setStatus } from './status';\n\nlet autoRenewToken;\nlet tokenTimer = null;\n\nexport const SET_AUTH_DISPLAY_NAME = 'SET_AUTH_DISPLAY_NAME';\nconst setAuthDisplayName = name => ({\n    type: SET_AUTH_DISPLAY_NAME,\n    payload: name,\n});\n\n/* eslint-disable no-unused-vars */\nconst checkAuth = () => {\n    const jwtToken = JSON.parse(localStorage.getItem('jwtToken'));\n    if (!jwtToken) return false;\n    try {\n        const { exp, iat } = jwtToken;\n        const duration = (Number(exp) - Number(iat)) / 2;\n        if ((Number(iat) + duration) < new Date().getTime() / 1000) {\n            return false;\n        }\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n/* eslint-enable no-unused-vars */\n\nconst getJWTToken = storedSfSessionId => (dispatch) => {\n    const sfEnv = JSON.parse(localStorage.getItem('ENV_URLS'));\n    const { gatekeeperUrl, namespace } = sfEnv;\n    const url = (sfEnv) ? gatekeeperUrl : GATEKEEPER_URL;\n    const namespaceParam = (namespace) ? `&namespace=${namespace}` : '';\n    const gatekeeperHeaders = new Headers({\n        Accept: 'application/json',\n        'content-type': 'application/json',\n        authorization: `Bearer ${storedSfSessionId}`,\n    });\n    fetch(\n        `${url}/token/salesforce?scope=insights:basic&hastoken=true${namespaceParam}`,\n        {\n            method: 'get',\n            headers: gatekeeperHeaders,\n        },\n    )\n        .then(response => response.json())\n        .then((data = {}) => {\n            if (!data.jwt) {\n                window.alert('Sorry, your session has timed out. Please refresh your page to try again');\n                return;\n            }\n            const s = data.jwt.split('.');\n            const details = Base64.decode(s[1]);\n            const jwtData = JSON.parse(details);\n            const organisationId = jwtData['https://natterbox.com/claim/orgId'];\n            const userId = jwtData['https://natterbox.com/claim/userId'];\n            const userName = jwtData['https://natterbox.com/claim/username'];\n            const {\n                scope, exp, iat, nbf,\n            } = jwtData;\n\n            const payload = {\n                token: data.jwt,\n                organisationId,\n                userName,\n                userId,\n                scope,\n                exp,\n                iat,\n                nbf,\n            };\n            localStorage.setItem('jwtToken', JSON.stringify(payload));\n            // schedule renew token\n            dispatch(autoRenewToken(payload));\n            dispatch({ type: SET_JWT_TOKEN, payload });\n            dispatch(initialiseWithPrimaryUuid(getQuery().uuid));\n            return userId;\n        })\n        .then((userId) => {\n            if (!userId) return;\n            getUserName(userId)\n                .then(displayName => dispatch(setAuthDisplayName(displayName)))\n                .catch(error => console.log(`Error fetching display name: ${error}`));\n        })\n        .catch((err) => {\n            dispatch(setStatus(\n                STATUS_EMPTY,\n                'Unable to load recording. You may not have permission to access this file',\n            ));\n            console.log('ERROR GETTING JWT:', err);\n            window.alert('Sorry, your session has timed out. Please refresh your page to try again');\n        });\n};\n\nconst getAuthToken = () => async (dispatch) => {\n    if (window.parent.getSessionId) {\n        try {\n            const namespace = await getNamespace();\n            const orgUrls = await loadOrgUrl();\n            if (orgUrls) {\n                const payload = {\n                    isSalesforce: true,\n                    isProd: orgUrls.isProd,\n                    sapienUrl: orgUrls.SapienHostUrl,\n                    gatekeeperUrl: orgUrls.GatekeeperHostUrl,\n                    callflowUrl: orgUrls.callFlowHostUrl,\n                    namespace,\n                };\n                localStorage.setItem('ENV_URLS', JSON.stringify(payload));\n            }\n            console.log('Auth expired getting new SF session ID');\n            dispatch(getJWTToken(window.parent.getSessionId()));\n        } catch (err) {\n            // eslint-disable-next-line no-alert\n            window.alert(err);\n        }\n    } else {\n        /*\n        See README for details how to invoke the different standalone modes using the environment variables\n        */\n        const manualSfToken = process.env.REACT_APP_SF_TOKEN;\n        const isProduction = process.env.REACT_APP_SF_IS_PRODUCTION_VERSION === 'TRUE';\n        if (typeof manualSfToken === 'string' && manualSfToken.length > 0) {\n            console.log(`Warning: no salesforce parent, running in linked standalone mode using token: '${manualSfToken}'`);\n            const sfToken = manualSfToken;\n            const namespace = '';\n            const payload = {\n                isSalesforce: true,\n                isProd: isProduction,\n                sapienUrl: BASE_URL,\n                gatekeeperUrl: GATEKEEPER_URL,\n                callflowUrl: CALLFLOW_URL,\n                namespace,\n            };\n            localStorage.setItem('ENV_URLS', JSON.stringify(payload));\n            dispatch(getJWTToken(sfToken));\n        } else {\n            console.log('Warning: no salesforce parent, running in full standalone mode');\n            dispatch(initialiseWithPrimaryUuid(getQuery().uuid));\n        }\n    }\n};\n\nautoRenewToken = jwtToken => (dispatch) => {\n    if (tokenTimer) clearTimeout(tokenTimer);\n    const duration = (Number(jwtToken.exp) - Number(jwtToken.iat)) / 2;\n    tokenTimer = setTimeout(() => {\n        dispatch(getAuthToken());\n    }, duration * 1000);\n};\n\nexport default getAuthToken;\n","import { SET_JWT_TOKEN } from '../constants/actions';\nimport { SET_AUTH_DISPLAY_NAME } from '../actions/auth';\n\nconst initialState = {\n    jwtToken: null,\n    displayName: null,\n};\n\nexport default (state = initialState, action) => {\n    switch (action.type) {\n        case SET_JWT_TOKEN:\n            return {\n                ...state,\n                jwtToken: action.payload,\n            };\n        case SET_AUTH_DISPLAY_NAME:\n            return {\n                ...state,\n                displayName: action.payload,\n            };\n        default:\n            return state;\n    }\n};\n","export const TOGGLE_TAB = 'TOGGLE_TAB';\n\nexport function toggleTab(tab) {\n    return {\n        type: TOGGLE_TAB,\n        payload: tab,\n    };\n}\n","import { TOGGLE_TAB } from '../actions/tabs';\n\nexport const initialState = {\n    activeTab: 'tab-knowledge',\n};\n\nexport default function tabs(state = initialState, action) {\n    switch (action.type) {\n        case TOGGLE_TAB: {\n            let activeTab = action.payload;\n            if (activeTab === state.activeTab) {\n                activeTab = 'none';\n            }\n            return {\n                ...state,\n                activeTab,\n            };\n        }\n        default:\n            return state;\n    }\n}\n","import { ERROR_MODAL_CLEAR, ERROR_MODAL_SHOW } from '../actions/errorModal';\n\nconst initialState = {\n    show: false,\n    title: 'Error',\n    message: 'An error occurred.',\n    primaryButtonText: 'Ok',\n    secondaryButtonText: undefined,\n    onPrimaryClicked: () => {},\n};\n\nexport default function errorModal(state = initialState, action) {\n    switch (action.type) {\n        case ERROR_MODAL_SHOW: {\n            const {\n                title,\n                message,\n                primaryButtonText,\n                secondaryButtonText,\n                onPrimaryClicked,\n            } = action.payload;\n            return {\n                show: true,\n                title: title || initialState.title,\n                message: message || initialState.message,\n                primaryButtonText: primaryButtonText || initialState.primaryButtonText,\n                secondaryButtonText,\n                onPrimaryClicked,\n            };\n        }\n        case ERROR_MODAL_CLEAR:\n            return {\n                ...initialState,\n            };\n        default:\n            return state;\n    }\n}\n","import { combineReducers } from 'redux';\nimport primaryUuid from './primaryUuid';\nimport { initialState, status } from './status';\nimport events from './events';\nimport calls from './calls';\nimport activeLayers from './activeLayers';\nimport audio from './audio';\nimport data from './data';\nimport playback from './playback';\nimport scrub, { initialState as scrubInitialState } from './scrub';\nimport callSummary from './call-summary';\nimport transcription from './transcription';\nimport notes from './notes';\nimport callRating from './callRating';\nimport search from './search';\nimport participants from './participants';\nimport eventTimeline, { initialState as eventTimelineInitialState } from './eventTimeline';\nimport experienceOptions from './experienceOptions';\nimport knowledge from './knowledge';\nimport auth from './auth';\nimport { RESET_STATE } from '../actions/actions';\nimport tabs from './tabs';\nimport errorModal from './errorModal';\n\nconst allReducers = combineReducers({\n    primaryUuid,\n    status,\n    events,\n    eventTimeline,\n    experienceOptions,\n    calls,\n    activeLayers,\n    audio,\n    data,\n    playback,\n    scrub,\n    callSummary,\n    participants,\n    transcription,\n    notes,\n    callRating,\n    search,\n    knowledge,\n    auth,\n    tabs,\n    errorModal,\n});\n\nexport default (state, action) => {\n    if (action.type === RESET_STATE) {\n        // Reset the state, but retain experience options so that the focus dropdown remains available\n        return allReducers({\n            experienceOptions: state.experienceOptions,\n            auth: state.auth,\n            activeLayers: state.activeLayers,\n            status: {\n                ...initialState,\n                isDisplaying: state.status.isDisplaying,\n            },\n            scrub: {\n                ...scrubInitialState,\n                isVisible: state.scrub.isVisible,\n            },\n            eventTimeline: {\n                ...eventTimelineInitialState,\n                eventTimelineVisible: state.eventTimeline.eventTimelineVisible,\n            },\n            tabs: state.tabs,\n        }, action);\n    }\n    return allReducers(state, action);\n};\n","import { SET_PRIMARY_UUID } from '../actions/primaryUuid';\n\nconst initialState = null;\n\nexport default function primaryUuid(state = initialState, action) {\n    if (action.type === SET_PRIMARY_UUID) {\n        return action.payload.uuid;\n    }\n    return state;\n}\n","export default __webpack_public_path__ + \"static/media/logo-linear.f69f4348.svg\";","import PropTypes from 'prop-types';\n\nexport const activeLayersType = PropTypes.arrayOf(PropTypes.string);\n\nexport const dataType = PropTypes.shape({\n    primaryUuid: PropTypes.string,\n    channels: PropTypes.object,\n    transcription: PropTypes.object,\n    talkTime: PropTypes.object,\n});\n\nexport const transcriptionType = PropTypes.shape({\n    1: PropTypes.object,\n    2: PropTypes.object,\n});\n\nexport const scrubType = PropTypes.shape({\n    start: PropTypes.number,\n    end: PropTypes.number,\n});\n\nexport const timelineType = PropTypes.shape({\n    start: PropTypes.number,\n    end: PropTypes.number,\n    range: PropTypes.number,\n    routingOffset: PropTypes.number,\n    unrecordedTime: PropTypes.number,\n});\n\nexport const participantsType = PropTypes.object;\n\nexport const userType = PropTypes.object;\n\nexport const userListType = PropTypes.array;\n\nexport const noteEventListType = PropTypes.array;\n\nexport const sentencesType = PropTypes.object;\n\nexport const eventsType = PropTypes.object;\n\nexport const dropDownOptionsType = PropTypes.object;\n\nexport const statusType = PropTypes.object;\n\nexport const clockType = PropTypes.object;\n\nexport const timeType = PropTypes.object;\n\nexport const transcriptionDataType = PropTypes.object;\n\nexport const keyCallersType = PropTypes.object;\n\nexport const participantType = PropTypes.shape({\n    isPrimary: PropTypes.bool,\n    isAgent: PropTypes.bool,\n    userId: PropTypes.bool,\n    image: PropTypes.string,\n    relatedUuids: PropTypes.array,\n    start: PropTypes.number,\n    end: PropTypes.number,\n    title: PropTypes.string,\n    agentNumber: PropTypes.number,\n    agents: PropTypes.number,\n    classes: PropTypes.string,\n    color: PropTypes.string,\n    sentences: PropTypes.array,\n    events: PropTypes.array,\n    call: PropTypes.object,\n});\n\nexport const audioType = PropTypes.shape({\n    source: PropTypes.string,\n    events: PropTypes.array,\n});\n\nexport const transcriptionWidthsType = PropTypes.shape({\n    notes: PropTypes.string,\n    transcription: PropTypes.string,\n});\n\nexport const audioTransportType = PropTypes.shape({\n    start: PropTypes.func,\n    stop: PropTypes.func,\n    duration: PropTypes.func,\n    eventAtPlayhead: PropTypes.func,\n    eventAtMediaPosition: PropTypes.func,\n    playheadAtMediaPosition: PropTypes.func,\n});\n\nexport const callSummaryType = PropTypes.shape({\n    startTime: PropTypes.number,\n    duration: PropTypes.number,\n    calls: PropTypes.array,\n    direction: PropTypes.string,\n    from: PropTypes.string,\n    to: PropTypes.string,\n    images: PropTypes.array,\n    channels: PropTypes.array,\n    participants: PropTypes.object,\n    callers: PropTypes.object,\n    metrics: PropTypes.array,\n    keyCallers: PropTypes.object,\n});\n\nexport const viewportType = PropTypes.shape({\n    start: PropTypes.number,\n    span: PropTypes.number,\n});\n\nexport const transcriptionPlayScrubType = PropTypes.shape({\n    position: PropTypes.number,\n    offsetPosition: PropTypes.number,\n});\n\nexport const userActivityType = PropTypes.shape({\n    user: PropTypes.string,\n    lastRead: PropTypes.string,\n});\n\nexport const commentType = PropTypes.shape({\n    uuid: PropTypes.string,\n    comment: PropTypes.string,\n    created: PropTypes.string,\n    modified: PropTypes.string,\n    author: PropTypes.string,\n});\n\nexport const noteType = PropTypes.shape({\n    noteId: PropTypes.string,\n    uuid: PropTypes.string,\n    timestamp: PropTypes.number,\n    eventType: PropTypes.number,\n    author: PropTypes.string,\n    text: PropTypes.string,\n    channelUuid: PropTypes.string,\n    isAcknowledged: PropTypes.bool,\n    isClosed: PropTypes.bool,\n    noteCreated: PropTypes.string,\n    noteModified: PropTypes.string,\n    polarity: PropTypes.string,\n    userActivity: PropTypes.arrayOf(userActivityType),\n    thread: PropTypes.arrayOf(commentType),\n});\n\nexport const noteList = PropTypes.arrayOf(noteType);\n\nexport const notesType = PropTypes.shape({\n    showOnTimeline: PropTypes.bool,\n    showCompletedNotes: PropTypes.bool,\n    showEditModal: PropTypes.bool,\n    editMode: PropTypes.string,\n    noteToEdit: PropTypes.string,\n    commentToEdit: PropTypes.string,\n    notes: noteList,\n});\n\nexport const callSummaryChannelType = PropTypes.arrayOf(PropTypes.shape({\n    direction: PropTypes.string,\n    start: PropTypes.number,\n    end: PropTypes.number,\n    data: PropTypes.array,\n}));\n\nexport const callRatingType = PropTypes.shape({\n    quality: PropTypes.number,\n    qualityNote: PropTypes.string,\n    politeness: PropTypes.number,\n    politenessNote: PropTypes.string,\n    customerExperience: PropTypes.number,\n    customerExperienceNote: PropTypes.string,\n    agentKnowledge: PropTypes.number,\n    agentKnowledgeNote: PropTypes.string,\n});\n\nexport const searchType = PropTypes.shape({\n    searchPhrase: PropTypes.string,\n    matches: PropTypes.array,\n    matchCount: PropTypes.number,\n    currentMatch: PropTypes.number,\n    positions: PropTypes.array,\n    positionCount: PropTypes.number,\n    currentPosition: PropTypes.object,\n    currentPositionIndex: PropTypes.number,\n});\n\nexport const playbackType = PropTypes.shape({\n    isPlaying: PropTypes.bool,\n    speed: PropTypes.number,\n    availableSpeeds: PropTypes.array,\n    playhead: PropTypes.number,\n});\n\nexport const knowledgeSelectedItemType = PropTypes.shape({\n    identifier: PropTypes.string,\n    type: PropTypes.string,\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Howl } from 'howler';\nimport {\n    audioType, audioTransportType, statusType, clockType,\n} from '../../shared/types';\nimport styles from './Player.module.scss';\nimport { AUDIO_FORMAT } from '../../shared/utility/constants';\nimport { STATUS_OK } from '../../store/constants/data';\n\nclass Player extends Component {\n    static createMediaPlayer(audio) {\n        const { source, duration } = audio;\n        const webSound = new Howl({\n            src: [source],\n            html5: false,\n            format: AUDIO_FORMAT,\n        });\n        const html5sound = new Howl({\n            src: [source],\n            html5: true,\n            format: AUDIO_FORMAT,\n        });\n        let sound = webSound;\n        let timer = null;\n        let timerStartTime = 0;\n        let lastCurrentTime = 0;\n        let lastPlaybackRate = 1;\n        let timerHandler = null;\n        return {\n            pause() {\n                if (this.paused) {\n                    return;\n                }\n                clearTimeout(timerHandler);\n                timerHandler = null;\n                timer = null;\n                this.paused = true;\n                sound.pause();\n            },\n            play() {\n                if (this.paused || lastCurrentTime !== this.currentTime || lastPlaybackRate !== this.playbackRate) {\n                    sound.pause();\n                    timer = new Date().getTime();\n                    timerStartTime = this.currentTime;\n                    lastPlaybackRate = this.playbackRate;\n                    sound = this.playbackRate === 1 ? webSound : html5sound;\n                    this.paused = false;\n                    sound.rate(this.playbackRate);\n                    sound.seek(this.currentTime);\n                    sound.play();\n                }\n                const now = new Date().getTime();\n                this.currentTime = timerStartTime + (((now - timer) / 1000) * this.playbackRate);\n                lastCurrentTime = this.currentTime;\n                timerHandler = setTimeout(() => {\n                    this.play();\n                }, 10);\n            },\n            duration: duration / 1000000,\n            currentTime: 0,\n            paused: true,\n            playbackRate: 1,\n        };\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            clock: 0.1,\n            start: null,\n        };\n        this.clockHandler = null;\n        this.mediaPlayer = null;\n    }\n\n    componentDidMount() {\n        const { speed, onMovePlayhead } = this.props;\n        this.updatePlaybackSpeed(speed);\n        this.startUpdatingPlayhead(onMovePlayhead);\n    }\n\n    componentDidUpdate(props, state) {\n        const previous = { props, state };\n        const {\n            audio,\n            isPlaying,\n            playhead,\n            speed,\n        } = this.props;\n        if (isPlaying !== previous.props.isPlaying) {\n            this.updatePlayerState(playhead);\n        }\n        if (playhead !== previous.props.playhead) {\n            this.updatePlayerState(playhead);\n        }\n        if (speed !== previous.props.speed) {\n            this.updatePlaybackSpeed(speed);\n        }\n        if (audio !== previous.props.audio) {\n            this.mediaPlayer = Player.createMediaPlayer(audio);\n        }\n    }\n\n    componentWillUnmount() {\n        this.stopUpdatingPlayhead();\n    }\n\n    updatePlaybackSpeed(speed) {\n        if (!this.mediaPlayer) {\n            return;\n        }\n        this.mediaPlayer.playbackRate = speed;\n    }\n\n    startUpdatingPlayhead(callback) {\n        const { isPlaying, clock } = this.props;\n        setTimeout(() => {\n            this.startUpdatingPlayhead(callback);\n        }, clock.interval);\n\n        if (!isPlaying) {\n            return;\n        }\n        const { playhead, speed, audioTransport } = this.props;\n        const event = audioTransport.eventAtPlayhead(playhead);\n        if (!event) {\n            callback(playhead + (clock.speed * speed));\n        } else {\n            if (!this.mediaPlayer) {\n                return;\n            }\n            callback(event.playheadAtMediaPosition(this.mediaPlayer));\n        }\n    }\n\n    stopUpdatingPlayhead() {\n        if (this.clockHandler !== null) {\n            clearTimeout(this.clockHandler);\n        }\n        this.clockHandler = null;\n    }\n\n    updatePlayerState(playhead) {\n        if (!this.mediaPlayer) {\n            return;\n        }\n        const {\n            isPlaying,\n            onMovePlayhead,\n            onPauseClick,\n            audioTransport,\n        } = this.props;\n        if (Math.min(playhead, 99.9) === 99.9) {\n            onMovePlayhead(100);\n            onPauseClick();\n        }\n        if (!isPlaying) {\n            if (!this.mediaPlayer.paused) {\n                this.mediaPlayer.pause();\n            }\n            return;\n        }\n        const event = audioTransport.eventAtPlayhead(playhead);\n        if (!event) {\n            if (!this.mediaPlayer.paused) {\n                this.mediaPlayer.pause();\n            }\n        } else {\n            const mediaPlayhead = event.playheadAtMediaPosition(this.mediaPlayer);\n            if (playhead > mediaPlayhead + 0.5 || playhead < mediaPlayhead - 0.5) {\n                this.mediaPlayer.currentTime = event.mediaPositionAtPlayhead(playhead, this.mediaPlayer);\n            }\n            if (this.mediaPlayer.paused) {\n                this.mediaPlayer.play();\n            }\n        }\n    }\n\n    render() {\n        const {\n            isPlaying,\n            onPauseClick,\n            onPlayClick,\n            onSkipBackClick,\n            onSkipForwardClick,\n            onRestartPlayHeadClick,\n            availableSpeeds,\n            speed,\n            onSetPlaybackSpeed,\n            playhead,\n            showTransport,\n            status: {\n                status,\n            },\n            progressAudio,\n            isAudioLoaded,\n            audioFailed,\n        } = this.props;\n        let playMode = isPlaying ? styles.pause : styles.play;\n        if ((showTransport && playhead === 100) || audioFailed) {\n            playMode = styles.playDisabled;\n        }\n        const playFunction = isPlaying ? onPauseClick : onPlayClick;\n        const isDisabled = status !== STATUS_OK || !isAudioLoaded || audioFailed;\n        const setSpeedFunction = event => onSetPlaybackSpeed(parseFloat(event.target.value, 10));\n        return (\n            <div className={styles.Player}>\n                <button\n                    tabIndex={0}\n                    type=\"button\"\n                    className={styles.playback}\n                    onClick={onRestartPlayHeadClick}\n                    disabled={isDisabled}\n                />\n                <button\n                    tabIndex={0}\n                    type=\"button\"\n                    className={styles.skipBack}\n                    onClick={onSkipBackClick}\n                    disabled={isDisabled}\n                />\n                {(!isAudioLoaded && !audioFailed)\n                    ? <div className={styles.spinerLoading}>\n                        <div />\n                        <div />\n                        <div />\n                        <div />\n                        <span className={styles.progress}>{`${progressAudio}%`}</span>\n                    </div> : <button\n                        tabIndex={0}\n                        type=\"button\"\n                        className={playMode}\n                        onClick={playFunction}\n                        disabled={isDisabled}\n                    />\n                }\n                <button\n                    tabIndex={0}\n                    type=\"button\"\n                    className={styles.skipForward}\n                    onClick={onSkipForwardClick}\n                    disabled={isDisabled}\n                />\n                <select\n                    tabIndex={0}\n                    type=\"button\"\n                    className={styles.changeSpeed}\n                    value={speed}\n                    onChange={setSpeedFunction}\n                    disabled={isDisabled}\n                >\n                    {availableSpeeds.map(value => (\n                        <option key={value} value={value}>\n                            {value}\n                            x\n                        </option>\n                    ))}\n                </select>\n            </div>\n        );\n    }\n}\n\n/* eslint-disable react/forbid-prop-types */\nPlayer.propTypes = {\n    isPlaying: PropTypes.bool.isRequired,\n    playhead: PropTypes.number.isRequired,\n    onSkipBackClick: PropTypes.func.isRequired,\n    onPlayClick: PropTypes.func.isRequired,\n    onPauseClick: PropTypes.func.isRequired,\n    onSkipForwardClick: PropTypes.func.isRequired,\n    onRestartPlayHeadClick: PropTypes.func.isRequired,\n    availableSpeeds: PropTypes.array.isRequired,\n    speed: PropTypes.number.isRequired,\n    onSetPlaybackSpeed: PropTypes.func.isRequired,\n    onMovePlayhead: PropTypes.func.isRequired,\n    audio: audioType.isRequired,\n    audioTransport: audioTransportType.isRequired,\n    showTransport: PropTypes.bool.isRequired,\n    status: statusType.isRequired,\n    clock: clockType.isRequired,\n};\n/* eslint-enable react/forbid-prop-types */\n\nexport default Player;\n","import { createSelector } from 'reselect';\nimport { getAudioState } from './common-selectors';\n\nconst getAudioTransport = createSelector(\n    [getAudioState],\n    (audioState) => {\n        const start = () => (audioState.events[0] || { start: 0 }).start;\n        const stop = () => (audioState.events[audioState.events.length - 1] || { stop: 100 }).stop;\n        const duration = () => {\n            const { events } = audioState;\n            if (!Array.isArray(events) || events.length === 0) {\n                return stop() - start();\n            }\n            return audioState.events\n                .map(event => (event.stop - event.start))\n                .reduce((value, total) => total + value);\n        };\n        const eventAtPlayhead = playhead => audioState.events\n            .filter(event => playhead >= event.start && playhead <= event.stop)[0] || null;\n        const eventAtMediaPosition = (media) => {\n            const { currentTime } = media;\n            const mediaDuration = media.duration;\n            const position = 100 / mediaDuration * currentTime;\n            return audioState.events\n                .filter(event => position >= event.audioStart && position <= event.audioStop)[0] || null;\n        };\n        const playheadAtMediaPosition = (media) => {\n            const event = eventAtMediaPosition(media);\n            if (!event) {\n                return 0;\n            }\n            return event.playheadAtMediaPosition(media);\n        };\n        return {\n            start,\n            stop,\n            duration,\n            eventAtPlayhead,\n            eventAtMediaPosition,\n            playheadAtMediaPosition,\n        };\n    },\n);\n\nexport default getAudioTransport;\n","import { createSelector } from 'reselect';\nimport { getTimeline } from './index';\n\nconst getClock = createSelector(\n    [getTimeline],\n    (timeline) => {\n        if (!timeline.range) {\n            return {\n                speed: 0,\n                interval: 20,\n            };\n        }\n        const duration = timeline.range / 1000000;\n        // These values have been calibrated for the best\n        // performance and accuracy within the browser\n        return {\n            speed: 100 / duration / 47.5,\n            interval: 20,\n        };\n    },\n);\n\nexport default getClock;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n    audioTransportType,\n    audioType,\n    statusType,\n    clockType,\n} from '../shared/types';\nimport {\n    movePlayHead,\n    moveTranscriptionPlayScrub,\n    pause,\n    play,\n    setPlaybackSpeed,\n    skipBack,\n    skipForward,\n} from '../store/actions/actions';\nimport Player from '../components/Player/Player';\nimport getAudioTransport from '../store/selectors/audioTransport';\nimport getClock from '../store/selectors/clock';\n\nfunction PlayerContainer(props) {\n    const {\n        isPlaying,\n        playhead,\n        onSkipBackClick,\n        onPlayClick,\n        onPauseClick,\n        onSkipForwardClick,\n        onRestartPlayHeadClick,\n        availableSpeeds,\n        speed,\n        onSetPlaybackSpeed,\n        onMovePlayhead,\n        audio,\n        audioTransport,\n        showTransport,\n        status,\n        clock,\n        isAudioLoaded,\n        progressAudio,\n        audioFailed,\n    } = props;\n    return (\n        <Player\n            isPlaying={isPlaying}\n            playhead={playhead}\n            onSkipBackClick={onSkipBackClick}\n            onPlayClick={onPlayClick}\n            onPauseClick={onPauseClick}\n            onSkipForwardClick={onSkipForwardClick}\n            onRestartPlayHeadClick={onRestartPlayHeadClick}\n            availableSpeeds={availableSpeeds}\n            speed={speed}\n            onSetPlaybackSpeed={onSetPlaybackSpeed}\n            onMovePlayhead={onMovePlayhead}\n            audio={audio}\n            audioTransport={audioTransport}\n            showTransport={showTransport}\n            status={status}\n            clock={clock}\n            isAudioLoaded={isAudioLoaded}\n            progressAudio={progressAudio}\n            audioFailed={audioFailed}\n        />\n    );\n}\n\n/* eslint-disable react/forbid-prop-types */\nPlayerContainer.propTypes = {\n    isPlaying: PropTypes.bool.isRequired,\n    playhead: PropTypes.number.isRequired,\n    onSkipBackClick: PropTypes.func.isRequired,\n    onPlayClick: PropTypes.func.isRequired,\n    onPauseClick: PropTypes.func.isRequired,\n    onSkipForwardClick: PropTypes.func.isRequired,\n    onRestartPlayHeadClick: PropTypes.func.isRequired,\n    availableSpeeds: PropTypes.array.isRequired,\n    speed: PropTypes.number.isRequired,\n    onSetPlaybackSpeed: PropTypes.func.isRequired,\n    onMovePlayhead: PropTypes.func.isRequired,\n    audio: audioType.isRequired,\n    audioTransport: audioTransportType.isRequired,\n    showTransport: PropTypes.bool.isRequired,\n    status: statusType.isRequired,\n    clock: clockType.isRequired,\n    isAudioLoaded: PropTypes.bool,\n    progressAudio: PropTypes.number,\n    audioFailed: PropTypes.bool,\n};\n/* eslint-enable react/forbid-prop-types */\n\nconst mapStateToProps = (state) => {\n    const {\n        audio,\n        status,\n    } = state;\n\n    const {\n        isPlaying,\n        availableSpeeds,\n        speed,\n        playhead,\n    } = state.playback;\n\n    const {\n        isAudioLoaded,\n        progressAudio,\n        audioFailed,\n    } = state.status;\n\n    return {\n        isPlaying,\n        availableSpeeds,\n        speed,\n        playhead,\n        audio,\n        audioTransport: getAudioTransport(state),\n        status,\n        clock: getClock(state),\n        isAudioLoaded,\n        progressAudio,\n        audioFailed,\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onSkipBackClick: () => {\n        dispatch(skipBack());\n    },\n    onPlayClick: () => {\n        dispatch(play());\n    },\n    onPauseClick: () => {\n        dispatch(pause());\n    },\n    onSkipForwardClick: () => {\n        dispatch(skipForward());\n    },\n    onRestartPlayHeadClick: () => {\n        dispatch(moveTranscriptionPlayScrub({ position: 0, offsetPosition: 0 }));\n        dispatch(movePlayHead(0.01));\n    },\n    onSetPlaybackSpeed: (speed) => {\n        dispatch(setPlaybackSpeed(speed));\n    },\n    onMovePlayhead: (position) => {\n        dispatch(movePlayHead(position));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerContainer);\n","import React from 'react';\nimport { useLayoutOptionsHooks } from './LayoutOptionsHooks';\nimport styles from './LayoutOptions.module.scss';\n\nconst LayoutOptions = (props) => {\n    const {\n        label,\n        handleToggleOpen,\n    } = useLayoutOptionsHooks(props);\n    return (\n        <div className={styles.container}>\n            <div\n                className={styles.button}\n                role=\"button\"\n                onMouseDown={handleToggleOpen}\n            >\n                { label }\n            </div>\n        </div>\n    );\n};\n\nexport default LayoutOptions;\n","import { useState } from 'react';\n\nexport const useLayoutOptionsHooks = ({\n    isScrubVisible,\n    isTimelineVisible,\n    onSetScrubVisibility,\n    onSetTimelineVisibility,\n}) => {\n    const [isOpen, setIsOpen] = useState(false);\n\n    const handleToggleOpen = () => {\n        onSetScrubVisibility(!isScrubVisible);\n        onSetTimelineVisibility(!isTimelineVisible);\n        setIsOpen(!isOpen);\n    };\n\n    return {\n        label: isOpen ? 'Hide timeline' : 'Show timeline',\n        handleToggleOpen,\n    };\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport LayoutOptions from '../components/LayoutOptions/LayoutOptions';\nimport { getEventTimelineVisibility, getScrubberVisibility } from '../store/selectors/common-selectors';\nimport { setScrubberVisibility } from '../store/actions/scrubber';\nimport { setEventTimelineVisibility } from '../store/actions/eventTimeline';\n\nconst LayoutOptionsContainer = props => (<LayoutOptions {...props} />);\n\nconst mapStateToProps = state => ({\n    isScrubVisible: getScrubberVisibility(state),\n    isTimelineVisible: getEventTimelineVisibility(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n    onSetScrubVisibility: (visibility) => {\n        dispatch(setScrubberVisibility(visibility));\n    },\n    onSetTimelineVisibility: (visibility) => {\n        dispatch(setEventTimelineVisibility(visibility));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LayoutOptionsContainer);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport logo from '../../assets/svgs/logo-linear.svg';\nimport PlayerContainer from '../../containers/PlayerContainer';\nimport { getCallList } from '../../routes/api/App';\nimport styles from './Header.module.scss';\nimport { setScrubberVisibility } from '../../store/actions/scrubber';\nimport { setEventTimelineVisibility } from '../../store/actions/eventTimeline';\nimport LayoutOptionsContainer from '../../containers/LayoutOptionsContainer';\n\n/* eslint-disable react/prefer-stateless-function */\nclass Header extends Component {\n    constructor(props) {\n        super(props);\n\n        this.callList = React.createRef();\n        this.state = {\n            calls: null,\n        };\n        this.onCallListClicked = this.onCallListClicked.bind(this);\n        this.showCallList = this.showCallList.bind(this);\n        this.hideCallList = this.hideCallList.bind(this);\n    }\n\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutsideDropdown);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutsideDropdown);\n    }\n\n    async onCallListClicked() {\n        const { calls } = this.state;\n        const { jwtToken } = this.props;\n        if (calls) {\n            this.showCallList();\n            return;\n        }\n\n        const result = await getCallList(jwtToken);\n        if (result) {\n            this.setState({\n                calls: result.data\n                    .map((call, index) => (\n                        <div className={styles.callListItem} key={`${call.aUuid}-${index}`}>\n                            <div className={styles.itemIndex}>{index + 1}</div>\n                            <div className={styles.uuid}>\n                                {call.fromNumber}\n                                <br />\n                                <a href={`?uuid=${call.aUuid}`}>{call.aUuid || 'unavailable'}</a>\n                            </div>\n                            <div className={styles.description}>\n                                {new Date(call.timeStart).toLocaleString()}\n                            </div>\n                            <div className={styles.uuid}>\n                                {call.toNumber || call.toNumberDialled}\n                                <br />\n                                {call.bUuid && (<a href={`?uuid=${call.bUuid}`}>{call.bUuid}</a>)}\n                            </div>\n                        </div>\n                    )),\n            });\n            this.showCallList();\n        }\n\n    }\n\n    showCallList() {\n        this.callList.current.style.display = 'block';\n    }\n\n    hideCallList() {\n        this.callList.current.style.display = 'none';\n    }\n\n    render() {\n        const {\n            calls,\n        } = this.state;\n        const { onFinishAndRateClicked, showRatingButton, isRated } = this.props;\n        return (\n            <header className={styles.Header}>\n                <div className={`container ${styles.HeaderContainer}`}>\n                    <div className={styles.Branding}>\n                        <img src={logo} className={styles.logo} alt=\"natterbox\" />\n                    </div>\n                    <div className=\"spacer\" />\n                    <div className={styles.Player}>\n                        <PlayerContainer showTransport />\n                    </div>\n                    <div className={styles.LayoutOptions}>\n                        <LayoutOptionsContainer />\n                    </div>\n                    <div className={styles.Exit}>\n                        {/* TODO This button is for testing purposes only */}\n                        { !window.parent.getSessionId && (\n                            <button\n                                id=\"call-list\"\n                                type=\"button\"\n                                className=\"button button--state-primary\"\n                                onClick={this.onCallListClicked}\n                            >\n                                Call List\n                            </button>\n                        )}\n                        { showRatingButton && (\n                            <button\n                                type=\"button\"\n                                className={`button button--state-primary ${styles.finish}`}\n                                onClick={onFinishAndRateClicked}\n                            >\n                                {isRated ? 'Review Rating' : 'Finish & Rate'}\n                            </button>\n                        )}\n                    </div>\n                </div>\n                {/* TODO Testing purposes only */}\n                <div\n                    ref={this.callList}\n                    data-testid=\"divCallList\"\n                    className=\"container\"\n                    style={{ display: 'none', color: '#FFFFFF' }}\n                >\n                    <button type=\"button\" onClick={this.hideCallList}>Close</button>\n                    <div className={styles.callListContainer}>\n                        <div className={styles.callListItem}>\n                            <div className={styles.itemIndex} />\n                            <div className={styles.uuid}>\n                                Primary\n                            </div>\n                            <div>Date and Time</div>\n                            <div className={styles.uuid}>\n                                Secondary\n                            </div>\n                        </div>\n                        {calls}\n                    </div>\n                </div>\n            </header>\n        );\n    }\n}\n\nconst mapDispatchToProps = dispatch => ({\n    onSetScrubberVisibility: (visibility) => {\n        dispatch(setScrubberVisibility(visibility));\n    },\n    onSetEventTimelineVisibility: (visibility) => {\n        dispatch(setEventTimelineVisibility(visibility));\n    },\n});\n\nHeader.defaultProps = {\n    jwtToken: null,\n    isRated: false,\n};\nHeader.propTypes = {\n    onFinishAndRateClicked: PropTypes.func.isRequired,\n    jwtToken: PropTypes.shape({\n        token: PropTypes.string,\n        organisationId: PropTypes.string,\n    }),\n    onSetScrubberVisibility: PropTypes.func.isRequired,\n    onSetEventTimelineVisibility: PropTypes.func.isRequired,\n    showRatingButton: PropTypes.bool.isRequired,\n    isRated: PropTypes.bool,\n};\n\n/* eslint-enable react/prefer-stateless-function */\n\nexport default connect(null, mapDispatchToProps)(Header);\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconUser(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"#49535C\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"fill\",\n    id: \"a\",\n    d: \"M21 18.36v.84c0 .99-.81 1.8-1.8 1.8H4.8c-.99 0-1.8-.81-1.8-1.8v-.84c0-2.19 2.55-3.51 4.95-4.56.09-.03.15-.06.24-.12.18-.09.39-.09.57.03.96.63 2.07.99 3.24.99 1.17 0 2.28-.36 3.24-.96.18-.12.39-.12.57-.03.09.03.15.06.24.12 2.4 1.02 4.95 2.34 4.95 4.53zm-9-5.46c-2.469 0-4.47-2.216-4.47-4.95S9.531 3 12 3s4.47 2.216 4.47 4.95S14.469 12.9 12 12.9z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconUser);\nexport default __webpack_public_path__ + \"static/media/icon-user.33a39f8c.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/timeline.ac675505.svg\";","export function sortSentences(lhs, rhs) {\n    if (lhs.Start < rhs.Start) {\n        return -1;\n    }\n    if (lhs.Start > rhs.Start) {\n        return 1;\n    }\n    return 0;\n}\n\nexport function sortWords(lhs, rhs) {\n    if (lhs.s < rhs.s) {\n        return -1;\n    }\n    if (lhs.s > rhs.s) {\n        return 1;\n    }\n    return 0;\n}\n\nexport function sortSearchMatches(lhs, rhs) {\n    if (lhs.wordList[0].s < rhs.wordList[0].s) {\n        return -1;\n    }\n    if (lhs.wordList[0].s > rhs.wordList[0].s) {\n        return 1;\n    }\n    return 0;\n}\n","/* eslint-disable import/prefer-default-export */\nexport function textColorForBackground(hex, colors = ['#000', '#fff']) {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    if (!result) {\n        return colors[1];\n    }\n    const red = parseInt(result[1], 16);\n    const green = parseInt(result[2], 16);\n    const blue = parseInt(result[3], 16);\n\n    const brightness = ((red * 299) + (green * 587) + (blue * 114)) / 255000;\n\n    if (brightness >= 0.5) {\n        return colors[0];\n    }\n    return colors[1];\n}\n","/* eslint-disable max-len */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {\n    callSummaryType,\n    participantsType,\n    playbackType,\n    searchType,\n    sentencesType,\n    timelineType,\n    transcriptionPlayScrubType,\n    transcriptionType,\n    viewportType,\n} from '../../shared/types';\nimport { ReactComponent as UserIcon } from '../../assets/svgs/icon-user.svg';\nimport styles from './TranscriptionConversation.module.scss';\nimport { STATUS_EMPTY, STATUS_LOADING } from '../../store/constants/data';\nimport timelineImage from '../../assets/svgs/timeline.svg';\nimport { sortSentences, sortWords } from '../../shared/utility/caller';\nimport { textColorForBackground } from '../../shared/utility/colors';\n\nclass TranscriptionConversation extends Component {\n    static loadingScreen(show) {\n        const loadingClasses = `${styles.onTop} loading-overlay ${show ? '' : 'fade-out'}`;\n        return (\n            <svg className={loadingClasses} width=\"100%\" height=\"100%\" viewBox=\"0 0 300 300\" preserveAspectRatio=\"none\">\n                <defs>\n                    <linearGradient\n                        id=\"bottom-top-gradient\"\n                        x1=\"0%\"\n                        y1=\"100%\"\n                        x2=\"0%\"\n                        y2=\"0%\"\n                        spreadMethod=\"pad\"\n                    >\n                        <stop stopColor=\"#fff\" stopOpacity=\"1\" offset=\"0%\" />\n                        <stop stopColor=\"#fff\" stopOpacity=\"0\" offset=\"100%\" />\n                    </linearGradient>\n                </defs>\n                <g opacity=\"0.033\">\n                    <rect x=\"20\" y=\"10\" width=\"30\" height=\"20\" radius=\"4\" />\n                    <rect x=\"35\" y=\"10\" width=\"100\" height=\"40\" radius=\"4\" />\n                    <rect x=\"170\" y=\"60\" width=\"30\" height=\"20\" radius=\"4\" />\n                    <rect x=\"185\" y=\"60\" width=\"100\" height=\"30\" radius=\"4\" />\n                    <rect x=\"20\" y=\"100\" width=\"30\" height=\"20\" radius=\"4\" />\n                    <rect x=\"35\" y=\"100\" width=\"100\" height=\"80\" radius=\"4\" />\n                    <rect x=\"170\" y=\"200\" width=\"30\" height=\"20\" radius=\"4\" />\n                    <rect x=\"185\" y=\"200\" width=\"100\" height=\"180\" radius=\"4\" />\n                </g>\n                <rect x=\"0\" y=\"150\" width=\"300\" height=\"150\" fill=\"url(#bottom-top-gradient)\" />\n                <line x1=\"0\" x2=\"0\" y1=\"0\" y2=\"300\" strokeWidth=\"1\" stroke=\"#000\" opacity=\"0.5\" />\n                <line\n                    x1=\"15\"\n                    x2=\"15\"\n                    y1=\"0\"\n                    y2=\"300\"\n                    strokeWidth=\"1\"\n                    stroke=\"#000\"\n                    opacity=\"0.125\"\n                    strokeDasharray=\"4 4\"\n                />\n            </svg>\n        );\n    }\n\n    static noAgentDataText(text) {\n        const classes = 'noAgentDataText';\n        return (\n            <div className={classes}>\n                {text}\n            </div>\n        );\n    }\n\n    static noAgentDataOverlay() {\n        const loadingClasses = 'loading-overlay';\n        return (\n            <svg className={loadingClasses} width=\"100%\" height=\"100%\" viewBox=\"0 0 300 300\" preserveAspectRatio=\"none\">\n                <defs>\n                    <linearGradient\n                        id=\"bottom-top-gradient\"\n                        x1=\"0%\"\n                        y1=\"100%\"\n                        x2=\"0%\"\n                        y2=\"0%\"\n                        spreadMethod=\"pad\"\n                    >\n                        <stop stopColor=\"#fff\" stopOpacity=\"1\" offset=\"0%\" />\n                        <stop stopColor=\"#fff\" stopOpacity=\"0\" offset=\"100%\" />\n                    </linearGradient>\n                </defs>\n                <g opacity=\"0.033\">\n                    <rect x=\"20\" y=\"10\" width=\"30\" height=\"20\" radius=\"4\" />\n                    <rect x=\"35\" y=\"10\" width=\"100\" height=\"40\" radius=\"4\" />\n                    <rect x=\"170\" y=\"60\" width=\"30\" height=\"20\" radius=\"4\" />\n                    <rect x=\"185\" y=\"60\" width=\"100\" height=\"30\" radius=\"4\" />\n                    <rect x=\"20\" y=\"100\" width=\"30\" height=\"20\" radius=\"4\" />\n                    <rect x=\"35\" y=\"100\" width=\"100\" height=\"80\" radius=\"4\" />\n                    <rect x=\"170\" y=\"200\" width=\"30\" height=\"20\" radius=\"4\" />\n                    <rect x=\"185\" y=\"200\" width=\"100\" height=\"180\" radius=\"4\" />\n                </g>\n                <rect x=\"0\" y=\"150\" width=\"300\" height=\"150\" fill=\"url(#bottom-top-gradient)\" />\n                <line x1=\"0\" x2=\"0\" y1=\"0\" y2=\"300\" strokeWidth=\"1\" stroke=\"#000\" opacity=\"0.5\" />\n                <line\n                    x1=\"15\"\n                    x2=\"15\"\n                    y1=\"0\"\n                    y2=\"300\"\n                    strokeWidth=\"1\"\n                    stroke=\"#000\"\n                    opacity=\"0.125\"\n                    strokeDasharray=\"4 4\"\n                />\n            </svg>\n        );\n    }\n\n    static isWordIntersectingPosition(word, position) {\n        return word.e >= position.start && word.s <= position.end;\n    }\n\n    constructor(props) {\n        super(props);\n        this.conversationRef = React.createRef();\n        this.scrollTimeoutHandler = null;\n        this.handleMouseDown = this.handleMouseDown.bind(this);\n        this.handleScrollWheel = this.handleScrollWheel.bind(this);\n    }\n\n    componentDidUpdate() {\n        const { playback: { isPlaying } } = this.props;\n        this.updateViewport(isPlaying);\n    }\n\n    getConversationViewportScalingFactor() {\n        const { transcription, timeline } = this.props;\n        if (typeof transcription === 'undefined' || transcription == null) {\n            return 0;\n        }\n        const sentences1 = transcription[1].Sentences;\n        const sentences2 = transcription[2].Sentences;\n\n        let shortestSentence = Number.MAX_SAFE_INTEGER;\n\n        shortestSentence = sentences1.reduce((ret, sentence) => Math.min(ret, (sentence.End - sentence.Start)), shortestSentence);\n        shortestSentence = sentences2.reduce((ret, sentence) => Math.min(ret, (sentence.End - sentence.Start)), shortestSentence);\n\n        // Min transcription size should be scaled based on length of call to prevent large empty text boxes.\n        // Scaling of about time in seconds / 4 seems to be a good compromise.\n        const timeScaling = timeline.range / 4000000;\n\n        if (shortestSentence < Number.MAX_SAFE_INTEGER) {\n            // Number of milliseconds per px\n            // Smallest box size is 26px\n            return Math.max(timeScaling, shortestSentence / 26);\n        }\n        return Math.max(timeScaling, 8);\n    }\n\n    styleSentence(sentence, words, color) {\n        const {\n            confidence,\n            search: {\n                positions,\n                currentPosition,\n            },\n        } = this.props;\n        const intersectingPositions = positions\n            .filter(position => position.channel === sentence.channel)\n            .map(position => ({ ...position, end: position.end ? position.end : position.start }))\n            .filter(position => position.start <= sentence.End && position.end >= sentence.Start);\n\n        const wordsInSentence = words.filter(word => word.s >= sentence.Start && word.e <= sentence.End);\n        wordsInSentence.sort(sortWords);\n\n        if (confidence === 0 && intersectingPositions.length === 0) {\n            return sentence.Sentence;\n        }\n        const matchingWords = wordsInSentence.filter(\n            word => intersectingPositions.filter(\n                position => TranscriptionConversation.isWordIntersectingPosition(word, position),\n            ).length > 0,\n        );\n\n        const textColor = color ? textColorForBackground(color, ['#5c6770', '#ffffff']) : '#5c6770';\n\n        return wordsInSentence.map((word, index, array) => {\n            const isMatchingWord = matchingWords.indexOf(word) > -1;\n            const nextWord = index < array.length - 1 ? array[index + 1] : null;\n            const isMatchingNextWord = nextWord ? matchingWords.indexOf(nextWord) > -1 : false;\n            const spanClass = classNames({\n                [styles.confidence]: word.c < (confidence / 100),\n            });\n            if (isMatchingWord) {\n                const isCurrentMatch = TranscriptionConversation.isWordIntersectingPosition(word, currentPosition);\n                const style = isCurrentMatch ? {\n                    color: textColor,\n                    background: `linear-gradient(to right, rgba(247,247,247,0) 50%, ${color} 50%)`,\n                    backgroundSize: '200%',\n                } : { backgroundColor: color, color: textColor, borderRadius: '2px' };\n                const matchingClassName = classNames({\n                    [styles.matchFill]: isCurrentMatch,\n                    [styles.matchFillAnimate]: isCurrentMatch,\n                });\n                return (\n                    // eslint-disable-next-line react/no-array-index-key\n                    <span key={`${index}-${word}`} className={spanClass}>\n                        <span className={matchingClassName} style={style}>\n                            {`${word.w}${isMatchingNextWord ? ' ' : ''}`}\n                        </span>\n                        {!isMatchingNextWord && ' '}\n                    </span>\n                );\n            }\n            return (\n                // eslint-disable-next-line react/no-array-index-key\n                <span key={`${index}-${word}`} className={spanClass}>\n                    {`${word.w} `}\n                </span>\n            );\n        });\n    }\n\n    updateViewport(isPlaying) {\n        if (this.isScrolling()) {\n            return;\n        }\n        const playHeads = document.getElementsByClassName(styles.playHead);\n        if (playHeads.length === 0) {\n            return;\n        }\n        const playHead = playHeads[0];\n        const element = this.conversationRef.current;\n        const rect = element.getBoundingClientRect();\n        const currentScroll = element.scrollTop;\n        const playHeadTop = playHead.getBoundingClientRect().top + Math.abs(currentScroll);\n        const midPoint = rect.top + (rect.height / 2);\n        if (isPlaying) {\n            const idealNewPosition = playHeadTop - midPoint;\n            const difference = idealNewPosition - this.conversationRef.current.scrollTop;\n            this.conversationRef.current.scrollTop += difference / 10;\n        } else if (this.props.transcriptionPlayScrub.position === 0) {\n            this.conversationRef.current.scrollTop = playHeadTop - midPoint;\n        }\n    }\n\n    mergedConversation() {\n        const { transcription } = this.props;\n        if (typeof transcription === 'undefined') {\n            return [];\n        }\n\n        const person1 = [];\n        transcription[1].Sentences.forEach((element) => {\n            const item = { person: 1 };\n            Object.assign(item, element);\n            person1.push(item);\n        });\n\n        const person2 = [];\n        transcription[2].Sentences.forEach((element) => {\n            const item = { person: 2 };\n            Object.assign(item, element);\n            person2.push(item);\n        });\n\n        const merged = person1.concat(person2);\n        merged.sort(sortSentences);\n        return merged;\n    }\n\n    static playHeadMarker(timestamp, range, timeline) {\n        const playhead = 100 / timeline.range * (timestamp * 1000);\n        const timeString = timeline.formattedTimeAtPlayhead(playhead);\n        const position = Math.max(0, timestamp - range.start);\n        const size = range.end - range.start;\n        const style = {\n            top: `${100 / size * position}%`,\n        };\n        return (\n            <div className={`${styles.container} ${styles.playHead}`} style={style}>\n                <div style={{ backgroundColor: '#F7F7F7' }}>\n                    {timeString}\n                </div>\n                <div className={styles.playHeadLine} />\n            </div>\n        );\n    }\n\n    getConversation(participants) {\n        const {\n            transcription,\n            sentences: participantSentences,\n            playback: { playhead },\n            timeline,\n        } = this.props;\n        const { routingOffset } = timeline;\n        const rows = [];\n        let sentences = [];\n        let range = null;\n        let index = 1;\n        if (participantSentences === null) {\n            return;\n        }\n        Object.keys(participants).map((key) => {\n            const participant = participants[key];\n            let words = [];\n            if (transcription[1] !== null) {\n                words = participant.isPrimary ? transcription[1].Words : transcription[2].Words;\n            }\n            return participantSentences[key]\n                .map(sentence => ({\n                    ...sentence,\n                    startWithOffset: sentence.startWithOffset + (routingOffset / 1000),\n                    endWithOffset: sentence.endWithOffset + (routingOffset / 1000),\n                }))\n                .map(sentence => ({\n                    ...sentence,\n                    isPrimary: participant.isPrimary,\n                    color: participant.color,\n                    styledSentence: this.styleSentence(sentence, words, participant.color),\n                }));\n        })\n            .flat()\n            .sort((a, b) => a.startWithOffset - b.startWithOffset)\n            .forEach((sentence) => {\n                const tabStyle = {\n                    borderBottom: `4px solid ${sentence.color}`,\n                };\n                const iconStyle = {\n                    fill: `${sentence.color}`,\n                    width: '18px',\n                    height: '18px',\n                };\n                const initialsStyle = {\n                    color: `${sentence.color}`,\n                };\n                const initialHtml = participants[sentence.number].initials === null ? (\n                    <UserIcon style={iconStyle} />\n                ) : (\n                    <span style={initialsStyle}>\n                        {' '}\n                        {participants[sentence.number].initials}\n                        {' '}\n                    </span>\n                );\n\n                const isFirstSentenceInRow = range === null || sentence.startWithOffset > range.end;\n                index = isFirstSentenceInRow ? 1 : index + 1;\n                const styling = {\n                    className: sentence.isPrimary ? styles.primary : styles.secondary,\n                    initialHtml,\n                    tabStyle,\n                };\n                if (isFirstSentenceInRow) {\n                    sentences = [{ ...sentence, ...styling }];\n                    range = { start: sentence.startWithOffset, end: sentence.endWithOffset };\n                    rows.push({\n                        range,\n                        sentences,\n                    });\n                } else {\n                    range.end = Math.max(sentence.endWithOffset, range.end);\n                    sentences.push({ ...sentence, ...styling });\n                }\n            });\n        return rows.map((row, index, array) => {\n            const { range, sentences } = row;\n            const previousRow = index > 0 ? array[index - 1] : null;\n            const timestamp = timeline.sentenceTimestampAtPlayhead(playhead);\n            const isPlayHeadInRow = timestamp >= range.start && timestamp < range.end;\n            const spacerRange = {\n                start: previousRow !== null ? previousRow.range.end : 0,\n                end: range.start - 1,\n            };\n            const isPlayHeadInSpacer = timestamp >= spacerRange.start && timestamp <= spacerRange.end;\n            const spacerLocatorClass = isPlayHeadInSpacer ? styles.playheadLocation : '';\n            const rowLocatorClass = isPlayHeadInRow ? styles.playheadLocation : '';\n            const spacer = (\n                <div\n                    key={`spacer-${range.start || 0}-${range.end || 0}`}\n                    className={`${styles.conversationRow} ${spacerLocatorClass} ${styles.spacer}`}\n                    data-timestamp-start={spacerRange.start || 0}\n                    data-timestamp-end={spacerRange.end || 0}\n                >\n                    {isPlayHeadInSpacer && TranscriptionConversation.playHeadMarker(timestamp, spacerRange, timeline)}\n                </div>\n            );\n            return [\n                spacer,\n                (\n                    <div\n                        key={`row-${range.start || 0}-${range.end || 0}`}\n                        className={`\n                            ${styles.conversationRow} \n                            ${rowLocatorClass} \n                            ${sentences && sentences.length > 1 ? styles.conversationRowLinked : ''}\n                            ${sentences && sentences.length === 1 && sentences[0].channel === 2 ? styles.conversationRowRight : ''}\n                            ${sentences && sentences.length > 1 && sentences.every(e => e.channel === 2) ? styles.conversationRowRight : ''}\n                        `}\n                        data-timestamp-start={range.start || 0}\n                        data-timestamp-end={range.end || 0}\n                    >\n                        {isPlayHeadInRow && TranscriptionConversation.playHeadMarker(timestamp, range, timeline)}\n                        {\n                            sentences.length === 1 ? sentences.map((sentence) => {\n                                const htmlIcon = (\n                                    <div\n                                        key=\"icon\"\n                                        className={styles.initials}\n                                        style={sentence.tabStyle}\n                                    >\n                                        {sentence.initialHtml}\n                                    </div>\n                                );\n                                const htmlSentence = (\n                                    <div key=\"sentence\" className={styles.sentenceBody}>{sentence.styledSentence}</div>\n                                );\n                                const htmlBlanking = (\n                                    <div key=\"blanking\" className={styles.blanking} />\n                                );\n                                const contents = sentence.isPrimary ? [htmlIcon, htmlBlanking, htmlSentence] : [htmlSentence, htmlBlanking, htmlIcon];\n                                return (\n                                    <div\n                                        key={`${sentence.Start}-${sentence.End}-${sentence.Sentence}`}\n                                        className={`${styles.sentence} ${sentence.className}`}\n                                        style={sentence.style}\n                                    >\n                                        {contents}\n                                    </div>\n                                );\n                            }) : sentences.reduce((acc, value) => {\n                                if (!acc[+(!value.isPrimary)]) {\n                                    acc[+(!value.isPrimary)] = value;\n                                    acc[+(!value.isPrimary)].styledSentence = [acc[+(!value.isPrimary)].styledSentence];\n                                } else {\n                                    acc[+(!value.isPrimary)].End = value.End;\n                                    acc[+(!value.isPrimary)].endWithOffset = value.endWithOffset;\n                                    acc[+(!value.isPrimary)].timelineEnd = value.timelineEnd;\n                                    acc[+(!value.isPrimary)].timeline.end = value.timeline.end;\n                                    acc[+(!value.isPrimary)].styledSentence.push(value.styledSentence);\n                                }\n                                return acc;\n                            }, []).map((sentence) => {\n                                const htmlIcon = (\n                                    <div\n                                        key=\"icon\"\n                                        className={styles.initials}\n                                        style={sentence.tabStyle}\n                                    >\n                                        {sentence.initialHtml}\n                                    </div>\n                                );\n                                const htmlSentence = (\n                                    <div key=\"sentence\" className={styles.sentenceBody}>\n                                        {sentence.styledSentence.map(el => (<div>{el}</div>))}\n                                    </div>\n                                );\n                                const htmlBlanking = (\n                                    <div key=\"blanking\" className={styles.blanking} />\n                                );\n                                const contents = sentence.isPrimary ? [htmlIcon, htmlBlanking, htmlSentence] : [htmlSentence, htmlBlanking, htmlIcon];\n                                return (\n                                    <div\n                                        key={`${sentence.Start}-${sentence.End}-${sentence.Sentence}`}\n                                        className={`${styles.sentence} ${sentence.className} ${sentence.channel === 2 ? styles.secondaryLinked : ''}`}\n                                    >\n                                        {contents}\n                                    </div>\n                                );\n                            })\n                        }\n                    </div>\n                )];\n        });\n    }\n\n    handleMouseDown(event) {\n        const { target } = event;\n        if (target.dataset.timestampStart === undefined) {\n            return;\n        }\n        const range = {\n            start: parseInt(target.dataset.timestampStart, 10),\n            end: parseInt(target.dataset.timestampEnd, 10),\n        };\n        const rect = event.target.getBoundingClientRect();\n        const x = event.clientX - rect.left;\n        const isOverPlayButton = x > 18 && x < 42;\n        const y = event.clientY - rect.top;\n        const size = range.end - range.start;\n        const timestamp = parseInt((size / rect.height * y) + range.start, 10);\n        const {\n            timeline,\n            onSetPlayHeadPosition,\n            setPaused,\n            onClickPlay,\n            playback: { isPlaying },\n            isAudioLoaded,\n        } = this.props;\n        const position = timeline.playheadAtTimestamp(timestamp * 1000);\n        if (isOverPlayButton && !isPlaying && isAudioLoaded) {\n            onSetPlayHeadPosition(position, true);\n            onClickPlay();\n        } else if (isOverPlayButton && isPlaying) {\n            setPaused();\n        } else {\n            onSetPlayHeadPosition(position, true);\n            setPaused();\n        }\n    }\n\n    isScrolling() {\n        return this.scrollTimeoutHandler !== null;\n    }\n\n    handleScrollWheel() {\n        if (this.isScrolling()) {\n            clearTimeout(this.scrollTimeoutHandler);\n        }\n        this.scrollTimeoutHandler = setTimeout(() => {\n            this.scrollTimeoutHandler = null;\n        }, 1000);\n    }\n\n    render() {\n        const {\n            status,\n            children,\n            participants,\n            emptyText,\n        } = this.props;\n\n        const conversation = this.getConversation(participants);\n\n        if (status === STATUS_EMPTY) {\n            const style = {\n                height: '100%',\n                marginTop: '0px',\n            };\n            return (\n                <div\n                    ref={this.conversationRef}\n                    style={{\n                        backgroundImage: `url(${timelineImage})`,\n                        backgroundRepeat: 'repeat-y',\n                        backgroundPosition: '14px top',\n                        position: 'absolute',\n                        left: 0,\n                        right: 0,\n                        top: 0,\n                        bottom: 0,\n                    }}\n                >\n                    <div style={style}>\n                        {TranscriptionConversation.noAgentDataOverlay()}\n                        {TranscriptionConversation.noAgentDataText(emptyText)}\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div\n                ref={this.conversationRef}\n                className={styles.TranscriptionConversation}\n                style={{\n                    backgroundImage: `url(${timelineImage})`,\n                    backgroundRepeat: 'repeat-y',\n                    backgroundPosition: '14px top',\n                }}\n                onWheel={this.handleScrollWheel}\n            >\n                <div className={styles.transcriptionEventContainer}>\n                    {children}\n                    <div className={`${styles.container} ${styles.start}`}>\n                        <span className={styles.playHeadLine} />\n                        <span className={styles.playHeadStartText}>\n                            Call Begins\n                        </span>\n                        <span className={styles.playHeadLine} />\n                    </div>\n                </div>\n                <div\n                    className={styles.conversationContainer}\n                    onClick={this.handleMouseDown}\n                >\n                    {conversation}\n                </div>\n                {TranscriptionConversation.loadingScreen(status === STATUS_LOADING)}\n            </div>\n        );\n    }\n}\n\nTranscriptionConversation.propTypes = {\n    viewport: viewportType,\n    onSetTranscriptionViewport: PropTypes.func,\n    timeline: timelineType.isRequired,\n    playback: playbackType.isRequired,\n    callSummary: callSummaryType.isRequired,\n    confidence: PropTypes.number.isRequired,\n    children: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.node),\n        PropTypes.node,\n    ]),\n    search: searchType.isRequired,\n    setPaused: PropTypes.func.isRequired,\n    transcriptionPlayScrub: transcriptionPlayScrubType.isRequired,\n    onSetPlayHeadPosition: PropTypes.func.isRequired,\n    onClickPlay: PropTypes.func.isRequired,\n    participants: participantsType.isRequired,\n    transcription: transcriptionType.isRequired,\n    sentences: sentencesType,\n};\n\nTranscriptionConversation.defaultProps = {\n    viewport: {\n        start: 0,\n        span: 100,\n    },\n    onSetTranscriptionViewport: () => {\n    },\n    children: null,\n    sentences: null,\n};\n\nexport default TranscriptionConversation;\n","import { createSelector } from 'reselect';\nimport { getExperienceOptions, getPrimaryUuid } from './common-selectors';\n\nconst selectedExperienceOption = createSelector(\n    [getExperienceOptions, getPrimaryUuid],\n    (experienceOptions, uuid) => experienceOptions[uuid],\n);\n\nexport default selectedExperienceOption;\n","import { createSelector } from 'reselect';\nimport getSelectedExperienceOption from './selectedExperienceOption';\nimport { getStatusState } from './common-selectors';\n\nconst getEmptyDataText = createSelector(\n    [getStatusState, getSelectedExperienceOption],\n    (status, selectedExperienceOption) => {\n        const { description } = status;\n        if (typeof description === 'string' && description.length > 0) {\n            return description;\n        }\n        const perspective = selectedExperienceOption\n            ? `this ${selectedExperienceOption.type.toLowerCase()}'s perspective of the` : 'this';\n        return `There is no data for ${perspective} call.`;\n    },\n);\n\nexport default getEmptyDataText;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n    viewportType,\n    timelineType,\n    callSummaryType,\n    searchType,\n    playbackType,\n    transcriptionPlayScrubType,\n    participantsType,\n    transcriptionType,\n    sentencesType,\n} from '../shared/types';\nimport TranscriptionConversation from '../components/TranscriptionConversation/TranscriptionConversation';\nimport {\n    updateTranscriptionViewport,\n    pause,\n    movePlayHead,\n    play,\n} from '../store/actions/actions';\nimport { getTimeline } from '../store/selectors';\nimport {\n    getParticipants,\n    getRawDataFromTranscriptionState,\n    getSentencesFromTranscriptionState,\n    getStatus,\n} from '../store/selectors/common-selectors';\nimport getEmptyDataText from '../store/selectors/emptyDataText';\n\nfunction TranscriptionConversationContainer(props) {\n    const {\n        status,\n        viewport,\n        onSetTranscriptionViewport,\n        timeline,\n        playback,\n        callSummary,\n        confidence,\n        children,\n        search,\n        setPaused,\n        transcriptionPlayScrub,\n        onSetPlayHeadPosition,\n        onClickPlay,\n        participants,\n        transcription,\n        sentences,\n        emptyText,\n        isAudioLoaded,\n    } = props;\n    return (\n        <TranscriptionConversation\n            status={status}\n            onClickPlay={onClickPlay}\n            viewport={viewport}\n            onSetTranscriptionViewport={onSetTranscriptionViewport}\n            timeline={timeline}\n            playback={playback}\n            callSummary={callSummary}\n            confidence={confidence}\n            search={search}\n            setPaused={setPaused}\n            transcriptionPlayScrub={transcriptionPlayScrub}\n            onSetPlayHeadPosition={onSetPlayHeadPosition}\n            participants={participants}\n            transcription={transcription}\n            sentences={sentences}\n            emptyText={emptyText}\n            isAudioLoaded={isAudioLoaded}\n        >\n            {children}\n        </TranscriptionConversation>\n    );\n}\n\nTranscriptionConversationContainer.propTypes = {\n    viewport: viewportType.isRequired,\n    onSetTranscriptionViewport: PropTypes.func.isRequired,\n    timeline: timelineType.isRequired,\n    playback: playbackType.isRequired,\n    callSummary: callSummaryType.isRequired,\n    confidence: PropTypes.number.isRequired,\n    children: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.node),\n        PropTypes.node,\n    ]),\n    search: searchType.isRequired,\n    status: PropTypes.string.isRequired,\n    onClickPlay: PropTypes.func.isRequired,\n    setPaused: PropTypes.func.isRequired,\n    transcriptionPlayScrub: transcriptionPlayScrubType.isRequired,\n    onSetPlayHeadPosition: PropTypes.func.isRequired,\n    participants: participantsType.isRequired,\n    transcription: transcriptionType.isRequired,\n    sentences: sentencesType,\n    emptyText: PropTypes.string,\n    isAudioLoaded: PropTypes.bool,\n};\n\nTranscriptionConversationContainer.defaultProps = {\n    children: null,\n    sentences: null,\n    emptyText: null,\n};\n\nconst mapStateToProps = (state) => {\n    const {\n        callSummary,\n        search,\n        playback,\n    } = state;\n    const {\n        transcriptionPlayScrub,\n        viewport,\n        confidence,\n    } = state.transcription;\n\n    const {\n        isAudioLoaded,\n    } = state.status;\n\n    return {\n        viewport,\n        timeline: getTimeline(state),\n        playback,\n        callSummary,\n        confidence,\n        search,\n        transcriptionPlayScrub,\n        isAudioLoaded,\n        participants: getParticipants(state),\n        status: getStatus(state),\n        transcription: getRawDataFromTranscriptionState(state),\n        sentences: getSentencesFromTranscriptionState(state),\n        emptyText: getEmptyDataText(state),\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onSetTranscriptionViewport: (viewport) => {\n        dispatch(updateTranscriptionViewport(viewport));\n    },\n    setPaused: () => {\n        dispatch(pause());\n    },\n    onSetPlayHeadPosition: (position, isUserAction) => {\n        dispatch(movePlayHead(position, isUserAction));\n    },\n    onClickPlay: () => {\n        dispatch(play());\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TranscriptionConversationContainer);\n","export default __webpack_public_path__ + \"static/media/icon-plus.c0aef066.svg\";","import { useState, useRef } from 'react';\n\nconst useOverflowMenuHooks = ({ onSelectOption }) => {\n    const [position, setPosition] = useState({\n        top: 0,\n        left: 0,\n    });\n    const ref = useRef();\n    const handleMouseDown = () => {\n        if (!ref.current) {\n            return;\n        }\n        const { top, left } = ref.current.getBoundingClientRect();\n        setPosition({ left, top });\n    };\n    const animationCallback = () => {\n        if (!ref.current || document.activeElement !== ref.current) {\n            return;\n        }\n        const { top, left } = ref.current.getBoundingClientRect();\n        if (position.left !== left || position.top !== top) {\n            document.activeElement.blur();\n            return;\n        }\n        window.requestAnimationFrame(animationCallback);\n    };\n    const handleOnFocus = () => {\n        animationCallback();\n    };\n    const handleOptionSelected = option => () => {\n        document.activeElement.blur();\n        onSelectOption(option);\n    };\n    return {\n        ref,\n        handleOptionSelected,\n        handleMouseDown,\n        handleOnFocus,\n        position: {\n            top: `${position.top}px`,\n            left: `${position.left}px`,\n        },\n    };\n};\n\nexport default useOverflowMenuHooks;\n","import React from 'react';\nimport useOverflowMenuHooks from './OverflowMenuHooks';\n\nimport styles from './OverflowMenu.module.scss';\n\nconst OverflowMenu = (props) => {\n    const { className, options, isLocked } = props;\n    const {\n        handleOptionSelected,\n        handleMouseDown,\n        position,\n        handleOnFocus,\n        ref,\n    } = useOverflowMenuHooks(props);\n    return (\n        <div\n            className={`${className} ${styles.button} ${isLocked && styles.locked}`}\n            role=\"button\"\n            tabIndex={1}\n            ref={ref}\n            onMouseDown={handleMouseDown}\n            onFocus={handleOnFocus}\n        >\n            <div\n                className={styles.popover}\n                style={position}\n                data-overflow-menu-popover\n            >\n                <div className={styles.menu}>\n                    { options.map(\n                        option => (\n                            <div\n                                role=\"button\"\n                                className={styles.item}\n                                key={option}\n                                onClick={handleOptionSelected(option)}\n                            >\n                                {option}\n                            </div>\n                        ),\n                    )\n                    }\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default OverflowMenu;\n","export const GENERAL_NOTE_UUID = 'general';\n\nexport default {\n    GENERAL_NOTE_UUID,\n};\n","/* eslint-disable max-len */\nimport { useState } from 'react';\nimport { timeAndDate } from '../../shared/utility/formatting';\nimport { getItemWithUuidFromArray } from '../../store/selectors/common-selectors';\nimport { GENERAL_NOTE_UUID } from '../../store/constants/notes';\n\nconst Action = {\n    acknowledge: 'Mark as acknowledged',\n    close: 'Close this note',\n    note: {\n        edit: 'Edit note',\n        reply: 'Reply to note',\n        delete: 'Delete note',\n    },\n    thread: {\n        edit: 'Edit reply',\n        reply: 'Add reply',\n        delete: 'Delete reply',\n    },\n};\n\nexport const DisplayMode = {\n    noteAndCommentThread: 'NOTE_AND_COMMENT_THREAD',\n    commentOnly: 'COMMENT_ONLY',\n    noteOnly: 'NOTE_ONLY',\n};\n\nconst createOverflowOptions = ({\n    displayMode,\n    isClosed,\n    isNoteAuthor,\n    isCommentAuthor,\n}) => {\n    const options = [];\n    if (!isClosed && isNoteAuthor && displayMode !== DisplayMode.commentOnly) {\n        options.push(Action.close);\n    }\n    if (isClosed) {\n        return options;\n    }\n    options.push(displayMode === DisplayMode.commentOnly ? Action.thread.reply : Action.note.reply);\n    if (isNoteAuthor && displayMode !== DisplayMode.commentOnly) {\n        options.push(Action.note.edit, Action.note.delete);\n    }\n    if (isCommentAuthor && displayMode === DisplayMode.commentOnly) {\n        options.push(Action.thread.edit, Action.thread.delete);\n    }\n    return options;\n};\n\nconst userOrEmptyUserIfNull = user => user || {\n    title: '',\n    userId: '',\n};\n\nconst youUserIfUserIdMatches = (user, idToMatch) => ({\n    ...user,\n    ...(user.userId === idToMatch ? { name: 'You' } : {}),\n});\n\nconst useUserHooks = (props) => {\n    const {\n        commentId, viewingUserId, callerWithUuid, note: { author, uuid, thread },\n    } = props;\n    const comment = commentId ? getItemWithUuidFromArray(thread, commentId) : null;\n    const isNoteAuthor = Number(author) === Number(viewingUserId);\n    const isGeneralNote = uuid === GENERAL_NOTE_UUID;\n    const relatingToUser = isGeneralNote ? {\n        title: 'General',\n        userId: GENERAL_NOTE_UUID,\n    } : userOrEmptyUserIfNull(callerWithUuid(uuid));\n    const relatingToUserOrYou = youUserIfUserIdMatches(relatingToUser, viewingUserId);\n    const { userId: relatingToUserId } = relatingToUserOrYou;\n    const relatingToTitle = relatingToUserOrYou.name ? relatingToUserOrYou.name : relatingToUserOrYou.title;\n    return {\n        isNoteAuthor,\n        isCommentAuthor: comment ? Number(viewingUserId) === Number(comment.author) : false,\n        isRelatingToUser: !isNoteAuthor && (isGeneralNote || Number(relatingToUserId) === Number(viewingUserId)),\n        relatingToTitle,\n    };\n};\n\nconst useThreadHooks = ({\n    displayMode, unread, commentId, viewingUserId, note: {\n        noteId, thread, noteCreated, noteModified, author,\n    },\n}) => {\n    const comment = commentId ? getItemWithUuidFromArray(thread, commentId) : null;\n    const isLastItem = displayMode === DisplayMode.commentOnly ? thread.indexOf(comment) === thread.length - 1 : thread.length === 0;\n    const isUnread = displayMode === DisplayMode.commentOnly ? unread.includes(comment.uuid) : unread.includes(noteId);\n    return {\n        comment,\n        isEmptyThread: !thread || (Array.isArray(thread) && !thread.length),\n        isUnread: author !== viewingUserId && isUnread,\n        isEdited: displayMode === DisplayMode.commentOnly\n            ? comment.created !== comment.modified\n            : noteCreated !== noteModified,\n        isLastItem,\n    };\n};\n\nconst useMenuHooks = ({\n    id,\n    onAcknowledge,\n    onEditNote,\n    onEditComment,\n    onDeleteNote,\n    onDeleteComment,\n    onCloseNote,\n    onNoteClick,\n    onUpdateUserActivity,\n    commentId,\n    note: {\n        isAcknowledged,\n    },\n}) => {\n    const handleOptionSelected = (option) => {\n        switch (option) {\n            case Action.acknowledge:\n                if (!isAcknowledged) {\n                    onAcknowledge(id);\n                }\n                break;\n            case Action.note.edit:\n                onEditNote(id);\n                break;\n            case Action.note.reply:\n            case Action.thread.reply:\n                onEditComment(id);\n                break;\n            case Action.note.delete:\n                onDeleteNote(id);\n                break;\n            case Action.thread.edit:\n                onEditComment(id, commentId);\n                break;\n            case Action.thread.delete:\n                onDeleteComment(id, commentId);\n                break;\n            case Action.close:\n                onCloseNote(id);\n                break;\n            default:\n                break;\n        }\n    };\n    const handleNoteClicked = () => {\n        onUpdateUserActivity(id);\n        onNoteClick();\n    };\n    return {\n        handleNoteClicked,\n        handleDefaultAction: () => handleOptionSelected(Action.acknowledge),\n        handleOptionSelected,\n    };\n};\n\nconst useTranscriptionNoteHooks = (props) => {\n    const {\n        displayMode,\n        note,\n        event,\n        interactive,\n    } = props;\n    const {\n        authorName, thread, isAcknowledged, isClosed,\n    } = note;\n    const [showThread, setShowThread] = useState(true);\n    const {\n        isNoteAuthor, isCommentAuthor, isRelatingToUser, relatingToTitle,\n    } = useUserHooks(props);\n    const {\n        isEmptyThread, comment, isUnread, isEdited, isLastItem,\n    } = useThreadHooks(props);\n    const {\n        handleNoteClicked,\n        handleDefaultAction,\n        handleOptionSelected,\n    } = useMenuHooks(props);\n    const overflowOptions = createOverflowOptions({\n        displayMode,\n        isAcknowledged,\n        isClosed,\n        isNoteAuthor,\n        isCommentAuthor,\n        isRelatingToUser,\n        isLastItem,\n    });\n    const showThreadSection = displayMode === DisplayMode.noteAndCommentThread && !isEmptyThread;\n    return {\n        handleNoteClicked,\n        handleOptionSelected,\n        handleDefaultAction: isRelatingToUser ? handleDefaultAction : null,\n        isEmptyThread,\n        isUnread,\n        isEdited,\n        showThread: showThread && displayMode === DisplayMode.noteAndCommentThread,\n        thread: displayMode === DisplayMode.noteAndCommentThread ? thread : [],\n        toggleShowThread: () => setShowThread(!showThread),\n        author: displayMode === DisplayMode.commentOnly ? comment.authorName : authorName,\n        relatingTo: `${relatingToTitle} (${event.text})`,\n        isAcknowledged,\n        isClosed,\n        showDefaultAction: !isClosed && interactive && (isLastItem || !showThread)\n            && (isAcknowledged || isRelatingToUser),\n        showRelatingTo: displayMode === DisplayMode.noteAndCommentThread,\n        showThreadSection,\n        overflowOptions,\n        showOverflowMenu: interactive && overflowOptions.length > 0,\n        ...(displayMode === DisplayMode.commentOnly ? {\n            text: comment.comment,\n            noteCreated: timeAndDate(comment.created),\n        } : {\n            text: note.text,\n            noteCreated: timeAndDate(note.noteCreated),\n        }),\n    };\n};\n\nexport default useTranscriptionNoteHooks;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TranscriptionNote.module.scss';\nimport { decode } from '../../shared/utility/formatting';\nimport { eventsType, noteType } from '../../shared/types';\nimport OverflowMenu from '../OverflowMenu/OverflowMenu';\nimport useTranscriptionNoteHooks, { DisplayMode } from './TranscriptionNoteHooks';\n\nconst TranscriptionNote = (props) => {\n    const {\n        id, displayMode, color, time, interactive,\n    } = props;\n    const {\n        overflowOptions,\n        handleNoteClicked,\n        handleOptionSelected,\n        handleDefaultAction,\n        noteCreated,\n        author,\n        relatingTo,\n        isAcknowledged,\n        isClosed,\n        text,\n        showThread,\n        thread,\n        toggleShowThread,\n        showDefaultAction,\n        showRelatingTo,\n        showThreadSection,\n        showOverflowMenu,\n        isEdited,\n        isUnread,\n    } = useTranscriptionNoteHooks(props);\n    const style = {\n        borderLeft: '4px solid',\n        borderLeftColor: color,\n    };\n    return (\n        <div>\n            <div\n                role=\"button\"\n                tabIndex={0}\n                key={id}\n                className={`${styles.note} ${displayMode === DisplayMode.commentOnly ? styles.comment : null}`}\n                style={style}\n                onMouseUp={interactive ? handleNoteClicked : undefined}\n            >\n                <div className={styles.heading}>\n                    <div className={styles.author}>\n                        { author }\n                    </div>\n                    <div className={styles.time}>\n                        { noteCreated.time }\n                    </div>\n                    <div className={styles.date}>\n                        { noteCreated.date }\n                    </div>\n                </div>\n                {showRelatingTo && (\n                    <div className={styles.subject}>\n                        {!!time && <div className={styles.time}>{time}</div>}\n                        <div>{ relatingTo }</div>\n                    </div>\n                )}\n                <div className={styles.noteText}>\n                    {decode(text || '')}\n                    {isEdited && (\n                        <div className={styles.edited}>(EDITED)</div>\n                    )}\n                </div>\n                {showOverflowMenu && (\n                    <OverflowMenu\n                        className={styles.overflowMenu}\n                        options={overflowOptions}\n                        isLocked={isClosed}\n                        onSelectOption={handleOptionSelected}\n                    />\n                )}\n                {showDefaultAction && (\n                    <div\n                        role=\"button\"\n                        tabIndex={2}\n                        className={`${styles.actionButton} ${isAcknowledged && styles.acknowledged}`}\n                        onClick={handleDefaultAction}\n                    />\n                )}\n                { isUnread && (\n                    <div className={styles.unread} />\n                )}\n                {(isClosed && displayMode !== DisplayMode.commentOnly) && (\n                    <div className={styles.closed}>\n                        NOTE CLOSED\n                    </div>\n                )}\n            </div>\n            { showThreadSection && (\n                <div>\n                    { showThread && thread.map(({ uuid }) => (\n                        <TranscriptionNote key={uuid} {...props} displayMode={DisplayMode.commentOnly} commentId={uuid} />\n                    ))}\n                    {interactive && (\n                        <div className={styles.toggleThreadButton} onClick={toggleShowThread}>\n                            {\n                                showThread ? 'HIDE REPLIES' : 'SHOW REPLIES'\n                            }\n                        </div>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nTranscriptionNote.propTypes = {\n    id: PropTypes.string.isRequired,\n    displayMode: PropTypes.string,\n    color: PropTypes.string.isRequired,\n    time: PropTypes.string,\n    note: noteType.isRequired,\n    commentId: PropTypes.string,\n    onNoteClick: PropTypes.func,\n    onEditNote: PropTypes.func,\n    onEditComment: PropTypes.func,\n    onAcknowledge: PropTypes.func.isRequired,\n    onDeleteNote: PropTypes.func.isRequired,\n    onDeleteComment: PropTypes.func.isRequired,\n    onCloseNote: PropTypes.func.isRequired,\n    event: eventsType.isRequired,\n    interactive: PropTypes.bool,\n    viewingUserId: PropTypes.string,\n    unread: PropTypes.arrayOf(PropTypes.string),\n    callerWithUuid: PropTypes.func.isRequired,\n};\n\nTranscriptionNote.defaultProps = {\n    displayMode: DisplayMode.noteAndCommentThread,\n    commentId: null,\n    interactive: true,\n    viewingUserId: '',\n    unread: [],\n    time: '',\n    onNoteClick: () => {},\n    onEditNote: () => {},\n    onEditComment: () => {},\n};\n\nexport default TranscriptionNote;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport TranscriptionNote from '../components/TranscriptionNote/TranscriptionNote';\nimport callerWithUuid from '../store/selectors/callerWithUuid';\nimport { eventsType, noteType } from '../shared/types';\nimport { getAuthenticatedUserId } from '../store/selectors/authSelectors';\nimport { getUnreadNoteAndCommentIdsForCurrentUser } from '../store/selectors/noteSelectors';\nimport { DisplayMode } from '../components/TranscriptionNote/TranscriptionNoteHooks';\nimport {\n    acknowledgeNote, closeNote, deleteComment, updateUserActivity,\n} from '../store/actions/notes';\nimport { onDeleteNote } from '../store/actions/salesforce';\n\nconst TranscriptionNoteContainer = props => (\n    <TranscriptionNote {...props} />\n);\n\nTranscriptionNoteContainer.propTypes = {\n    id: PropTypes.string.isRequired,\n    displayMode: PropTypes.string,\n    color: PropTypes.string.isRequired,\n    time: PropTypes.string,\n    note: noteType.isRequired,\n    commentId: PropTypes.string,\n    onNoteClick: PropTypes.func,\n    onEditNote: PropTypes.func,\n    onEditComment: PropTypes.func,\n    onAcknowledge: PropTypes.func.isRequired,\n    onDeleteNote: PropTypes.func.isRequired,\n    onDeleteComment: PropTypes.func.isRequired,\n    onCloseNote: PropTypes.func.isRequired,\n    onUpdateUserActivity: PropTypes.func.isRequired,\n    event: eventsType.isRequired,\n    interactive: PropTypes.bool,\n    viewingUserId: PropTypes.string,\n    unread: PropTypes.arrayOf(PropTypes.string),\n    callerWithUuid: PropTypes.func.isRequired,\n};\n\nTranscriptionNoteContainer.defaultProps = {\n    displayMode: DisplayMode.noteAndCommentThread,\n    commentId: null,\n    interactive: true,\n    viewingUserId: '',\n    unread: [],\n    time: '',\n    onNoteClick: () => {},\n    onEditNote: () => {},\n    onEditComment: () => {},\n};\n\nconst mapStateToProps = state => ({\n    unread: getUnreadNoteAndCommentIdsForCurrentUser(state),\n    viewingUserId: getAuthenticatedUserId(state),\n    callerWithUuid: callerWithUuid(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n    onAcknowledge: (id) => {\n        dispatch(acknowledgeNote(id));\n    },\n    onDeleteNote: (id) => {\n        dispatch(onDeleteNote(id));\n    },\n    onDeleteComment: (noteId, commentId) => {\n        dispatch(deleteComment(noteId, commentId));\n    },\n    onCloseNote: (id) => {\n        dispatch(closeNote(id));\n    },\n    onUpdateUserActivity: (noteId) => {\n        dispatch(updateUserActivity(noteId));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TranscriptionNoteContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './NotesFilterSelector.module.scss';\nimport { useNotesFilterSelectorHooks } from './NotesFilterSelectorHooks';\nimport { NotesFilter } from '../../store/selectors/noteSelectors';\nimport { notesType } from '../../shared/types';\n\nconst NotesFilterSelector = (props) => {\n    const {\n        label,\n        handleOptionSelected,\n        handleClickButton,\n        isFiltering,\n    } = useNotesFilterSelectorHooks(props);\n    return (\n        <div\n            className={styles.filter}\n            role=\"button\"\n            tabIndex={1}\n            onMouseDown={handleClickButton}\n        >\n            <div className={isFiltering ? styles.highlighted : ''}>\n                { label }\n            </div>\n            <div className={styles.popover}>\n                { Object.keys(NotesFilter).map(key => (\n                    <div\n                        className={styles.item}\n                        key={key}\n                        onClick={handleOptionSelected(key)}\n                    >\n                        { NotesFilter[key] }\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nNotesFilterSelector.propTypes = {\n    notes: notesType.isRequired,\n    onSelectFilter: PropTypes.func.isRequired,\n};\n\nexport default NotesFilterSelector;\n","import { NotesFilter } from '../../store/selectors/noteSelectors';\n\nexport const useNotesFilterSelectorHooks = ({\n    notes: {\n        filter,\n    },\n    onSelectFilter,\n}) => {\n    const handleOptionSelected = key => () => {\n        document.activeElement.blur();\n        onSelectFilter(NotesFilter[key]);\n    };\n    const handleClickButton = event => {\n        if (document.activeElement === event.target.parentElement) {\n            document.activeElement.blur();\n            event.preventDefault();\n        }\n    };\n    const isFiltering = filter !== NotesFilter.all;\n    return {\n        handleOptionSelected,\n        handleClickButton,\n        label: isFiltering ? `Showing ${filter.toLowerCase()}` : 'Showing all notes',\n        isFiltering,\n    };\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport NotesFilterSelector from '../components/NotesFilterSelector/NotesFilterSelector';\nimport { getNotesState } from '../store/selectors/noteSelectors';\nimport { setNotesFilter } from '../store/actions/notes';\nimport { notesType } from '../shared/types';\n\nconst NotesFilterSelectorContainer = props => (<NotesFilterSelector {...props} />);\n\nNotesFilterSelectorContainer.propTypes = {\n    notes: notesType.isRequired,\n    onSelectFilter: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = state => ({\n    notes: getNotesState(state),\n});\n\nconst mapDispatchToProps = dispatch => ({\n    onSelectFilter: filter => dispatch(setNotesFilter(filter)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NotesFilterSelectorContainer);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TranscriptionNotes.module.scss';\nimport {\n    notesType,\n    participantsType,\n    scrubType,\n    timelineType,\n    viewportType,\n} from '../../shared/types';\nimport { STATUS_EMPTY, STATUS_LOADING } from '../../store/constants/data';\nimport iconPlus from '../../assets/svgs/icon-plus.svg';\nimport { formatTime } from '../../shared/utility/formatting';\nimport { SHOW_NOTES } from '../../store/constants/metrics-layers';\nimport { NoteEditMode } from '../../store/actions/notes';\nimport TranscriptionNoteContainer from '../../containers/TranscriptionNoteContainer';\nimport NotesFilterContainer from '../../containers/NotesFilterSelectorContainer';\n\n/* eslint-disable react/prefer-stateless-function */\nclass TranscriptionNotes extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            // Cache used to continue displaying notes when the state of a filtered note changes.\n            // This ensures filtered notes don't disappear when a user interacts with them.\n            cachedNoteIds: this.props.filteredNotes.map(note => note.noteId),\n        };\n    }\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        if (nextProps.notes.filter !== this.props.notes.filter) {\n            // User has changed the filter. Override cache with new notes for display.\n            this.setState({\n                cachedNoteIds: nextProps.filteredNotes.map(note => note.noteId),\n            });\n        }\n        return true;\n    }\n\n    static loadingScreen(show) {\n        const loadingClasses = `loading-overlay ${show ? '' : 'fade-out'}`;\n        return (\n            <svg className={loadingClasses} width=\"100%\" height=\"100%\" viewBox=\"0 0 100 300\" preserveAspectRatio=\"none\">\n                <defs>\n                    <g id=\"note-shape\" opacity=\"0.4\">\n                        <rect x=\"5\" y=\"5\" width=\"90\" height=\"35\" opacity=\"0.5\" />\n                        <rect x=\"5\" y=\"5\" width=\"5\" height=\"35\" />\n                    </g>\n                </defs>\n                <use href=\"#note-shape\" x=\"0\" y=\"0\" opacity=\"0.4\" />\n                <use href=\"#note-shape\" x=\"0\" y=\"40\" opacity=\"0.2\" />\n                <use href=\"#note-shape\" x=\"0\" y=\"80\" opacity=\"0.1\" />\n            </svg>\n        );\n    }\n\n    static noAgentDataOverlay() {\n        return (\n            <svg className=\"loading-overlay\" width=\"100%\" height=\"100%\" viewBox=\"0 0 100 300\" preserveAspectRatio=\"none\">\n                <defs>\n                    <g id=\"note-shape\" opacity=\"0.4\">\n                        <rect x=\"5\" y=\"5\" width=\"90\" height=\"35\" opacity=\"0.5\" />\n                        <rect x=\"5\" y=\"5\" width=\"5\" height=\"35\" />\n                    </g>\n                </defs>\n                <use href=\"#note-shape\" x=\"0\" y=\"0\" opacity=\"0.4\" />\n                <use href=\"#note-shape\" x=\"0\" y=\"40\" opacity=\"0.2\" />\n                <use href=\"#note-shape\" x=\"0\" y=\"80\" opacity=\"0.1\" />\n            </svg>\n        );\n    }\n\n    static noAgentDataText(text) {\n        const classes = 'noAgentDataText notes';\n        return (\n            <div className={classes}>\n                {text}\n            </div>\n        );\n    }\n\n    getNotes() {\n        const { participants, notes } = this.props;\n        const userList = [];\n        Object.keys(participants).forEach((key) => {\n            const participant = participants[key];\n            userList.push({\n                uuid: participant.relatedUuids[0],\n                title: participant.title,\n                color: participant.color,\n            });\n        });\n\n        const { cachedNoteIds } = this.state;\n        let listOfNotes;\n        if (cachedNoteIds.length === 0) {\n            listOfNotes = this.props.filteredNotes;\n        } else {\n            listOfNotes = notes.notes.filter(note => cachedNoteIds.includes(note.noteId));\n        }\n        const noteList = [];\n\n        for (let i = 0; i < listOfNotes.length; i++) {\n            const note = listOfNotes[i];\n            const time = note.timestamp !== null && !Number.isNaN(note.timestamp)\n                ? formatTime(Math.floor(note.timestamp / 1000000)) : null;\n            const event = notes.eventTypes.find(obj => obj.id === note.eventType);\n            const agent = userList.find(user => user.uuid === note.uuid);\n\n            noteList.push(\n                <TranscriptionNoteContainer\n                    id={note.noteId}\n                    key={note.noteId}\n                    color={agent ? agent.color : '#adb3b7'}\n                    onNoteClick={this.handleNoteClick.bind(this, note.noteId)}\n                    onEditNote={this.handleEditNote.bind(this)}\n                    onEditComment={this.handleEditComment.bind(this)}\n                    time={time}\n                    note={note}\n                    event={event}\n                />,\n            );\n        }\n        return noteList;\n    }\n\n    setPlayHeadPosition(position) {\n        const { onNoteClicked, scrub, viewport } = this.props;\n        const { span } = viewport;\n        // Timeline\n        const scrubWidth = (scrub.end - scrub.start);\n        const scrubMiddle = scrub.start + (scrubWidth / 2);\n        const scrubDiff = position - scrubMiddle;\n        const scrubStart = Math.min(Math.max(0, scrub.start + scrubDiff), 100 - scrubWidth);\n        const scrubEnd = scrubStart + scrubWidth;\n        // Transcription\n        const vpMiddle = viewport.start + (span / 2);\n        const vpDiff = position - vpMiddle;\n        const vpStart = Math.min(Math.max(0, viewport.start + vpDiff), 100 - span);\n\n        onNoteClicked(position, { start: scrubStart, end: scrubEnd }, { start: vpStart, span });\n    }\n\n    handleEditNote(noteId = null) {\n        const { onOpenNoteEditor } = this.props;\n        const editMode = noteId !== null ? NoteEditMode.existingNote : NoteEditMode.newNote;\n        onOpenNoteEditor(editMode, noteId);\n    }\n\n    handleEditComment(noteId, comment = null) {\n        const { onOpenNoteEditor } = this.props;\n        const editMode = comment !== null ? NoteEditMode.existingComment : NoteEditMode.newComment;\n        onOpenNoteEditor(editMode, noteId, comment);\n    }\n\n    handleNoteClick(noteId) {\n        const {\n            getNoteWithId,\n            timeline,\n        } = this.props;\n        const note = getNoteWithId(noteId);\n        if (note) {\n            let position = (note.timestamp / timeline.range) * 100;\n            if (note.timestamp === null || Number.isNaN(note.timestamp)) position = 0;\n            this.setPlayHeadPosition(position);\n        }\n    }\n\n    handleNewNote() {\n        const { onOpenNoteEditor } = this.props;\n        onOpenNoteEditor(NoteEditMode.newNote);\n    }\n\n    showNotes() {\n        const notes = this.getNotes();\n        return (\n            <div>\n                {notes}\n            </div>\n        );\n    }\n\n    addNewNoteDiv() {\n        const { notes } = this.props;\n        return (\n            <div className={styles.NewNoteSection}>\n                <div>\n                    <div\n                        role=\"button\"\n                        tabIndex={0}\n                        className={styles.newNoteContainer}\n                        onMouseDown={this.handleNewNote.bind(this)}\n                    >\n                        <img className={styles.newNoteIcon} src={iconPlus} alt=\"plus icon\" />\n                        <div className={styles.newNoteText}>Add New Note</div>\n                    </div>\n                    <div className={styles.checkboxContainer}>\n                        <NotesFilterContainer />\n                    </div>\n                </div>\n                <div className={styles.checkboxContainer}>\n                    <input\n                        className={styles.checkbox}\n                        type=\"checkbox\"\n                        id=\"showNotesCheckbox\"\n                        onChange={this.handleShowNotesChecked.bind(this)}\n                        checked={notes.showOnTimeline}\n                    />\n                    <label className={styles.checkboxLabel} htmlFor=\"showNotesCheckbox\">Show notes on timeline</label>\n                </div>\n            </div>\n        );\n    }\n\n    handleShowNotesChecked(event) {\n        const { onSetNoteVisibility, onToggleLayer } = this.props;\n        onToggleLayer(SHOW_NOTES);\n        onSetNoteVisibility(event.target.checked);\n    }\n\n    handleShowCompletedNotes(event) {\n        const { onSetCompletedNotesVisibility } = this.props;\n        onSetCompletedNotesVisibility(event.target.checked);\n    }\n\n    render() {\n        const { status, emptyText } = this.props;\n        if (status === STATUS_EMPTY) {\n            return (\n                <div className={styles.TranscriptionNotes}>\n                    {TranscriptionNotes.noAgentDataOverlay()}\n                    {TranscriptionNotes.noAgentDataText(emptyText)}\n                </div>\n            );\n        }\n        return (\n            <div className={styles.TranscriptionNotes}>\n                {this.addNewNoteDiv()}\n                {this.showNotes()}\n                <div className={styles.bottomMenuSpacer} />\n                {TranscriptionNotes.loadingScreen(status === STATUS_LOADING)}\n            </div>\n        );\n    }\n}\n\nTranscriptionNotes.propTypes = {\n    notes: notesType.isRequired,\n    onSetNoteVisibility: PropTypes.func.isRequired,\n    onSetCompletedNotesVisibility: PropTypes.func.isRequired,\n    onOpenNoteEditor: PropTypes.func.isRequired,\n    timeline: timelineType.isRequired,\n    onNoteClicked: PropTypes.func.isRequired,\n    scrub: scrubType.isRequired,\n    viewport: viewportType.isRequired,\n    onToggleLayer: PropTypes.func.isRequired,\n    participants: participantsType.isRequired,\n    emptyText: PropTypes.string,\n    getNoteWithId: PropTypes.func.isRequired,\n};\n\n/* eslint-enable react/prefer-stateless-function */\nexport default TranscriptionNotes;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {\n    callSummaryType,\n    noteList,\n    notesType,\n    participantsType,\n    scrubType,\n    timelineType,\n    viewportType,\n} from '../shared/types';\nimport TranscriptionNotes from '../components/TranscriptionNotes/TranscriptionNotes';\nimport {\n    pause,\n    setNoteVisibility,\n    movePlayHead,\n    moveScrubber, updateTranscriptionViewport, toggleMetricsLayer, setCompletedNotesVisibility, moveTranscriptionPlayScrub,\n} from '../store/actions/actions';\nimport { getTimeline } from '../store/selectors';\nimport { getParticipants, getStatus } from '../store/selectors/common-selectors';\nimport getEmptyDataText from '../store/selectors/emptyDataText';\nimport { getFilteredNotes, getNoteWithIdSelector } from '../store/selectors/noteSelectors';\nimport { openNoteEditor } from '../store/actions/notes';\n\nconst TranscriptionNotesContainer = props => (<TranscriptionNotes {...props} />);\n\nTranscriptionNotesContainer.propTypes = {\n    notes: notesType.isRequired,\n    filteredNotes: noteList.isRequired,\n    onSetNoteVisibility: PropTypes.func.isRequired,\n    onSetCompletedNotesVisibility: PropTypes.func.isRequired,\n    onOpenNoteEditor: PropTypes.func.isRequired,\n    timeline: timelineType.isRequired,\n    onNoteClicked: PropTypes.func.isRequired,\n    scrub: scrubType.isRequired,\n    viewport: viewportType.isRequired,\n    onToggleLayer: PropTypes.func.isRequired,\n    callSummary: callSummaryType.isRequired,\n    participants: participantsType.isRequired,\n    status: PropTypes.string.isRequired,\n    emptyText: PropTypes.string,\n    getNoteWithId: PropTypes.func.isRequired,\n};\n\nTranscriptionNotesContainer.defaultProps = {\n    emptyText: null,\n};\n\nconst mapStateToProps = (state) => {\n    const {\n        scrub,\n        callSummary,\n        notes,\n    } = state;\n    const { viewport } = state.transcription;\n    return {\n        notes,\n        filteredNotes: getFilteredNotes(state),\n        timeline: getTimeline(state),\n        scrub,\n        viewport,\n        callSummary,\n        participants: getParticipants(state),\n        status: getStatus(state),\n        emptyText: getEmptyDataText(state),\n        getNoteWithId: getNoteWithIdSelector(state),\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onSetNoteVisibility: (visible) => {\n        dispatch(setNoteVisibility(visible));\n    },\n    onSetCompletedNotesVisibility: (visibile) => {\n        dispatch(setCompletedNotesVisibility(visibile));\n    },\n    onOpenNoteEditor: (editMode, noteId, comment) => {\n        dispatch(pause());\n        dispatch(openNoteEditor(editMode, noteId, comment));\n    },\n    onNoteClicked: (position, scrub, viewport) => {\n        dispatch(movePlayHead(position, true));\n        dispatch(moveScrubber(scrub));\n        dispatch(updateTranscriptionViewport(viewport));\n        dispatch(moveTranscriptionPlayScrub({ position: 0, offsetPosition: 0 }));\n    },\n    onToggleLayer: (id) => {\n        dispatch(toggleMetricsLayer(id));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TranscriptionNotesContainer);\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconZigzag(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"#000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"fill\",\n    id: \"a\",\n    d: \"M7.29 11.368L3.706 14.95a1 1 0 1 1-1.414-1.414l4.243-4.243A.997.997 0 0 1 7.289 9a.997.997 0 0 1 .754.292l3.591 3.591 3.592-3.591c.202-.203.47-.3.735-.293a.997.997 0 0 1 .736.293l4.243 4.243a1 1 0 0 1-1.414 1.414l-3.565-3.564-3.564 3.564a.998.998 0 0 1-.763.291.998.998 0 0 1-.763-.291L7.29 11.368z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconZigzag);\nexport default __webpack_public_path__ + \"static/media/icon-zigzag.5329b142.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/icon-playback.53bc9210.svg\";","export default __webpack_public_path__ + \"static/media/icon-pause-white.1c5f5b33.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Transcription.module.scss';\nimport TranscriptionConversationContainer from '../../containers/TranscriptionConversationContainer';\nimport TranscriptionNotesContainer from '../../containers/TranscriptionNotesContainer';\nimport iconPlayback from '../../assets/svgs/icon-playback.svg';\nimport iconPause from '../../assets/svgs/icon-pause-white.svg';\nimport { ReactComponent as ZigzagIcon } from '../../assets/svgs/icon-zigzag.svg';\nimport {\n    statusType, transcriptionPlayScrubType, transcriptionWidthsType, viewportType,\n} from '../../shared/types';\nimport { STATUS_EMPTY, STATUS_LOADING } from '../../store/constants/data';\nimport { TRANSCRIPTION_START_OFFSET } from '../../shared/utility/constants';\n\nclass Transcription extends Component {\n    constructor(props) {\n        super(props);\n        this.sliderRef = React.createRef();\n    }\n\n    componentDidMount() {\n        this.sliderRef.current.value = 0;\n    }\n\n    playHeadLayer(hide, isAudioLoaded) {\n        const { transcriptionPlayScrub, isPlaying } = this.props;\n        let playScrub;\n        const icon = isPlaying ? iconPause : iconPlayback;\n        if (transcriptionPlayScrub.position > 0) {\n            playScrub = (\n                <div\n                    className={styles.playScrub}\n                    style={{\n                        top: `${transcriptionPlayScrub.position}%`,\n                        marginTop: '-12px',\n\n                    }}\n                >\n                    <svg className={styles.playButton}>\n                        <circle fill={isAudioLoaded ? '#C4D600' : 'grey'} cx=\"12\" cy=\"12\" r=\"12\" />\n                        <image x=\"3\" y=\"3\" width=\"18\" height=\"18\" xlinkHref={icon} />\n                    </svg>\n                    <div className={styles.playScrubLine} style={{ backgroundColor: isAudioLoaded ? '#C4D600' : 'grey' }} />\n                </div>\n            );\n        }\n        const playScrubStyle = {\n            visibility: hide ? 'hidden' : 'visible',\n            marginLeft: '18px',\n            boxSizing: 'border-box',\n        };\n        return (\n            <div\n                role=\"button\"\n                tabIndex={-1}\n                className={styles.LayerContent}\n                style={playScrubStyle}\n            >\n                {playScrub}\n            </div>\n        );\n    }\n\n    confidenceGauge(hide) {\n        const { onSetConfidence } = this.props;\n        const iconStyle = {\n            fill: '#979797',\n            width: '24px',\n            height: '24px',\n            hidden: `${hide}`,\n        };\n        return (\n            <div\n                className={styles.confidenceContainer}\n                style={{ visibility: hide ? 'hidden' : 'visible' }}\n            >\n                <ZigzagIcon style={iconStyle} />\n                <span className={styles.confidenceText}>Confidence Level</span>\n                <input\n                    ref={this.sliderRef}\n                    type=\"range\"\n                    min=\"0\"\n                    max=\"100\"\n                    className={styles.slider}\n                    id=\"confidenceSlider\"\n                    onChange={(e) => { onSetConfidence(e.target.valueAsNumber); }}\n                />\n            </div>\n        );\n    }\n\n    handleTranscriptionPlayHeadLayerMouseMove() {\n        const { onSetTranscriptionPlayScrub } = this.props;\n        return (event) => {\n            const offset = event.clientY - event.currentTarget.getBoundingClientRect().y;\n            const position = 100 * offset / event.currentTarget.clientHeight;\n            const offsetPosition = Math.max(0, 100 * (offset - TRANSCRIPTION_START_OFFSET) / event.currentTarget.clientHeight);\n            onSetTranscriptionPlayScrub({ position, offsetPosition });\n        };\n    }\n\n    handleHideTranscriptionPlayHeadLayerOnMouseLeave() {\n        const { onSetTranscriptionPlayScrub } = this.props;\n        return () => {\n            onSetTranscriptionPlayScrub({ position: 0, offsetPosition: 0 });\n        };\n    }\n\n    render() {\n        const {\n            status: { status },\n            isAudioLoaded,\n        } = this.props;\n        return (\n            <div\n                className={styles.transcriptionContainer}\n                onMouseLeave={this.handleHideTranscriptionPlayHeadLayerOnMouseLeave()}\n            >\n                <section className={styles.Transcription}>\n                    <div className={styles.sections}>\n                        <TranscriptionNotesContainer />\n                    </div>\n                    <div\n                        className={`${styles.conversation} ${styles.sections}`}\n                        onMouseMove={this.handleTranscriptionPlayHeadLayerMouseMove()}\n                    >\n                        <TranscriptionConversationContainer\n                            colors={{\n                                channelColors: {\n                                    1: '#FFC72C',\n                                    2: '#00A9CE',\n                                },\n                            }}\n                        />\n                        {this.playHeadLayer(status === STATUS_LOADING || status === STATUS_EMPTY, isAudioLoaded)}\n                    </div>\n                    {this.confidenceGauge(status === STATUS_LOADING || status === STATUS_EMPTY)}\n                </section>\n            </div>\n        );\n    }\n}\n\nTranscription.propTypes = {\n    status: statusType.isRequired,\n    transcriptionPlayScrub: transcriptionPlayScrubType.isRequired,\n    onSetTranscriptionPlayScrub: PropTypes.func,\n    viewport: viewportType.isRequired,\n    onSetConfidence: PropTypes.func,\n    plotWholeTimeline: PropTypes.bool,\n    isVertical: PropTypes.bool,\n    isPlaying: PropTypes.bool.isRequired,\n    width: transcriptionWidthsType.isRequired,\n};\n\nTranscription.defaultProps = {\n    onSetTranscriptionPlayScrub: () => {},\n    onSetConfidence: () => {},\n    plotWholeTimeline: false,\n    isVertical: true,\n    width: '',\n};\n\nexport default Transcription;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n    dataType,\n    viewportType,\n    transcriptionPlayScrubType,\n    searchType, statusType,\n} from '../shared/types';\nimport Transcription from '../components/Transcription/Transcription';\nimport {\n    moveTranscriptionPlayScrub,\n    updateTranscriptionConfidence,\n} from '../store/actions/actions';\n\nexport const TranscriptionContainer = props => (<Transcription {...props} />);\n\nTranscriptionContainer.propTypes = {\n    status: statusType.isRequired,\n    data: dataType.isRequired,\n    transcriptionPlayScrub: transcriptionPlayScrubType.isRequired,\n    onSetTranscriptionPlayScrub: PropTypes.func.isRequired,\n    viewport: viewportType.isRequired,\n    onSetConfidence: PropTypes.func.isRequired,\n    plotWholeTimeline: PropTypes.bool,\n    search: searchType.isRequired,\n    isPlaying: PropTypes.bool.isRequired,\n    isAudioLoaded: PropTypes.bool,\n};\n\nTranscriptionContainer.defaultProps = {\n    plotWholeTimeline: false,\n};\n\nconst mapStateToProps = (state) => {\n    const {\n        status,\n        data,\n        search,\n    } = state;\n\n    const {\n        transcriptionPlayScrub,\n        viewport,\n    } = state.transcription;\n\n    const {\n        isPlaying,\n    } = state.playback;\n\n    const {\n        isAudioLoaded,\n    } = state.status;\n\n    return {\n        status,\n        data,\n        transcriptionPlayScrub,\n        viewport,\n        search,\n        isPlaying,\n        isAudioLoaded,\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onSetTranscriptionPlayScrub: (transcriptionPlayScrub) => {\n        dispatch(moveTranscriptionPlayScrub(transcriptionPlayScrub));\n    },\n    onSetConfidence: (confidence) => {\n        dispatch(updateTranscriptionConfidence(confidence));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TranscriptionContainer);\n","export default __webpack_public_path__ + \"static/media/icon-customer-service.539a0d46.svg\";","export default __webpack_public_path__ + \"static/media/icon-urgent.0ad51d65.svg\";","export default __webpack_public_path__ + \"static/media/icon-multiple.34923021.svg\";","export default __webpack_public_path__ + \"static/media/icon-note-unknown.c44385e0.svg\";","export default __webpack_public_path__ + \"static/media/icon-search-black.1502e3ca.svg\";","export default __webpack_public_path__ + \"static/media/icon-on-hold.3d2f5cb3.svg\";","export default __webpack_public_path__ + \"static/media/icon-down.a5571264.svg\";","export default __webpack_public_path__ + \"static/media/icon-up.c93e1217.svg\";","export default __webpack_public_path__ + \"static/media/icon-conference.c9fecb4f.svg\";","export default __webpack_public_path__ + \"static/media/icon-pause.f93c9c02.svg\";","export default __webpack_public_path__ + \"static/media/icon-transfer.4180c05e.svg\";","export default __webpack_public_path__ + \"static/media/icon-user-event.1314a75e.svg\";","export const CLASH_WIN = 'CLASH_WIN';\nexport const AFFIRMATION = 'AFFIRMATION';\nexport const INTERRUPTION = 'INTERRUPTION';\nexport const STEAL = 'STEAL';\nexport const MULTIPLE_EVENTS = 'MULTIPLE_EVENTS';\nexport const NOTE_EVENT = 'NOTE_EVENT';\nexport const SEARCH_EVENT = 'SEARCH_EVENT';\nexport const CALL_EVENT = 'CALL_EVENT';\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { isEqual } from 'lodash/core';\nimport styles from './AudioEventLayer.module.scss';\nimport '../../styles/_tooltip.scss';\nimport iconCustomerService from '../../assets/svgs/icon-customer-service.svg';\nimport iconUrgent from '../../assets/svgs/icon-urgent.svg';\nimport iconMultiple from '../../assets/svgs/icon-multiple.svg';\nimport iconUnknownNote from '../../assets/svgs/icon-note-unknown.svg';\nimport iconSearch from '../../assets/svgs/icon-search-black.svg';\nimport iconDown from '../../assets/svgs/icon-down.svg';\nimport iconUp from '../../assets/svgs/icon-up.svg';\nimport iconOnHold from '../../assets/svgs/icon-on-hold.svg';\nimport iconConference from '../../assets/svgs/icon-conference.svg';\nimport iconPause from '../../assets/svgs/icon-pause.svg';\nimport iconTransfer from '../../assets/svgs/icon-transfer.svg';\nimport iconUserEvent from '../../assets/svgs/icon-user-event.svg';\n\nimport { calculatePositionPercentageWithOffset, layerStyleWithScrubBounds } from '../../shared/utility/timeline';\nimport {\n    dataType,\n    notesType,\n    participantsType,\n    scrubType,\n    searchType,\n    sentencesType,\n    timelineType,\n    eventsType,\n    transcriptionType,\n    knowledgeSelectedItemType,\n} from '../../shared/types';\nimport {\n    AFFIRMATION,\n    CLASH_WIN,\n    INTERRUPTION,\n    STEAL,\n    MULTIPLE_EVENTS,\n    NOTE_EVENT,\n    SEARCH_EVENT,\n    CALL_EVENT,\n} from '../../store/constants/audio-events';\nimport {\n    AFFIRMATIONS,\n    CLASH_WINS,\n    INTERRUPTIONS,\n    STEALS,\n    SHOW_NOTES,\n    SHOW_SEARCH_RESULTS,\n} from '../../store/constants/metrics-layers';\nimport {\n    KNOWLEDGE_TYPE_CLASSIFICATION,\n    KNOWLEDGE_TYPE_KEYWORD,\n    KNOWLEDGE_TYPE_TOPIC,\n} from '../../store/constants/knowledge';\n\nclass AudioEventLayer extends Component {\n    static labelForEventType(eventType) {\n        switch (eventType) {\n            case CLASH_WIN:\n                return 'Clash Event';\n            case AFFIRMATION:\n                return 'Affirmation Event';\n            case INTERRUPTION:\n                return 'Interruption Event';\n            case STEAL:\n                return 'Steal Event';\n            case SHOW_NOTES:\n                return 'Note';\n            default:\n                return null;\n        }\n    }\n\n    static isLayerMatchingEventType(layer, eventType) {\n        switch (eventType) {\n            case CLASH_WIN:\n                return layer === CLASH_WINS;\n            case AFFIRMATION:\n                return layer === AFFIRMATIONS;\n            case INTERRUPTION:\n                return layer === INTERRUPTIONS;\n            case STEAL:\n                return layer === STEALS;\n            case NOTE_EVENT:\n                return layer === SHOW_NOTES;\n            case SEARCH_EVENT:\n                return layer === SHOW_SEARCH_RESULTS;\n            default:\n                return null;\n        }\n    }\n\n    static isEventTypeInActiveLayers(eventType, activeLayers) {\n        if (eventType === CALL_EVENT\n            || eventType === KNOWLEDGE_TYPE_CLASSIFICATION\n            || eventType === KNOWLEDGE_TYPE_KEYWORD\n            || eventType === KNOWLEDGE_TYPE_TOPIC) {\n            return true;\n        }\n        if (activeLayers.length === 0) {\n            return false;\n        }\n        return activeLayers.filter(layer => AudioEventLayer.isLayerMatchingEventType(layer, eventType)).length > 0;\n    }\n\n    static callEventIconImage(flags) {\n        const {\n            isHold,\n            isParkedTransfer,\n            isConferenceIn,\n            isRecordStart,\n            isRecordStop,\n            isChannelAnswer,\n            isChannelRing,\n        } = flags;\n        switch (true) {\n            case isParkedTransfer:\n            case isHold:\n                return iconOnHold;\n            case isConferenceIn:\n                return iconConference;\n            case isRecordStop:\n                return iconPause;\n            case isChannelRing:\n                return iconUserEvent;\n            case isRecordStart:\n            case isChannelAnswer:\n                return null;\n            default:\n                return iconTransfer;\n        }\n    }\n\n    static callEventIconLabel(flags) {\n        const {\n            isBridge,\n            isChannelStart,\n            isChannelRing,\n            isChannelAnswer,\n            isChannelEnd,\n            isChannelComplete,\n            isConferenceIn,\n            isConferenceOut,\n            isHold,\n            isListenIn,\n            isListenInBarge,\n            isListenInDisconnect,\n            isListenInWhisper,\n            isParkedTransfer,\n            isQueuing,\n            isRecordStart,\n            isRecordStop,\n            isRouting,\n            isUnBridge,\n            isUnHold,\n        } = flags;\n        switch (true) {\n            case isChannelStart:\n                return 'Channel start';\n            case isChannelRing:\n                return 'Channel ring';\n            case isChannelAnswer:\n                return 'Channel answer';\n            case isChannelEnd:\n                return 'Channel end';\n            case isChannelComplete:\n                return 'Channel complete';\n\n            case isConferenceIn:\n                return 'Conference';\n            case isConferenceOut:\n                return 'Conference end';\n\n            case isHold:\n                return 'On Hold';\n            case isUnHold:\n                return 'Un-hold';\n\n            case isRecordStart:\n                return 'Un-pause';\n            case isRecordStop:\n                return 'Pause';\n\n            case isParkedTransfer:\n                return 'Start transfer';\n\n            case isBridge:\n                return 'Transfer';\n            case isListenIn:\n                return 'Listen in';\n            case isListenInBarge:\n                return 'Barge';\n            case isListenInDisconnect:\n                return 'Listen in end';\n            case isListenInWhisper:\n                return 'Whisper';\n            case isQueuing:\n                return 'Queueing';\n            case isRouting:\n                return 'Routing';\n            case isUnBridge:\n                return 'Disconnect';\n\n            default:\n                return Object.keys(flags).join(' ');\n        }\n    }\n\n    static getCallEventIcon(subtype) {\n        const { event, isStart } = subtype;\n        const flags = isStart ? event.startFlags : event.endFlags;\n        return AudioEventLayer.callEventIconImage(flags);\n    }\n\n    static filterInvisibleEvents(event) {\n        if (event && event.subType && event.subType.event) {\n            const { subType: { event: { startFlags } } } = event;\n            switch (true) {\n                case startFlags.isConferenceIn === true:\n                case startFlags.isRecordStart === true:\n                case startFlags.isParkedTransfer === true:\n                case startFlags.isRouting === true:\n                case startFlags.isHold === true:\n                case startFlags.isUnHold === true:\n                case startFlags.isRecordStop === true:\n                case startFlags.isChannelRing === true:\n                case startFlags.isChannelStart === true:\n                    return false;\n                default:\n                    break;\n            }\n        }\n        return true;\n    }\n\n    constructor(props) {\n        super(props);\n        this.preRenderedEventsKey = null;\n        this.preRenderedEvents = null;\n    }\n\n    getNoteIcon(subtype) {\n        const { notes } = this.props;\n        const event = notes.eventTypes.find(obj => obj.id === subtype);\n        return event ? event.icon : iconUnknownNote;\n    }\n\n    iconForEventType(eventType, subtype) {\n        switch (eventType) {\n            case KNOWLEDGE_TYPE_CLASSIFICATION:\n            case KNOWLEDGE_TYPE_KEYWORD:\n            case KNOWLEDGE_TYPE_TOPIC:\n                return iconUrgent;\n            case MULTIPLE_EVENTS:\n                return iconMultiple;\n            case NOTE_EVENT:\n                return this.getNoteIcon(subtype);\n            case SEARCH_EVENT:\n                return iconSearch;\n            case CALL_EVENT:\n                return AudioEventLayer.getCallEventIcon(subtype);\n            default:\n                return iconCustomerService;\n        }\n    }\n\n    generateOrUsePreRenderedEvents() {\n        const {\n            data: { talkTime },\n            activeLayers,\n            timeline,\n            notes,\n            callersAtTimestamp,\n            callerWithUuid,\n            search,\n            participants,\n            sentences,\n            transcription,\n            knowledgeSelectedItem,\n            eventsByParticipants,\n            scrub,\n            plotWholeTimeline,\n        } = this.props;\n\n        let eventsKey = {\n            talkTime,\n            activeLayers,\n            timeline,\n            notes,\n            callersAtTimestamp,\n            callerWithUuid,\n            search,\n            participants,\n            sentences,\n            transcription,\n            knowledgeSelectedItem,\n            eventsByParticipants,\n            plotWholeTimeline,\n        };\n\n        // adding scrub to the cacheKey when !plotWholeTimeline as scrubwidth is used in generateEventList()\n        if (!plotWholeTimeline) {\n            eventsKey = {\n                ...eventsKey,\n                scrub,\n            };\n        }\n\n        // TODO: use Reselect.createSelector to call generateEvents when parameters have changed..\n        if (this.preRenderedEvents == null || !isEqual(eventsKey, this.preRenderedEventsKey)) {\n            this.preRenderedEvents = this.generateEvents();\n            this.preRenderedEventsKey = eventsKey;\n        }\n\n        return this.preRenderedEvents;\n    }\n\n    generateEvents() {\n        const {\n            data,\n            activeLayers,\n        } = this.props;\n        const { talkTime } = data;\n        const events = [];\n        if (activeLayers.length > 0 && talkTime) {\n            events.push(...talkTime[1].map(event => ({ ...event, channel: 1 })));\n            events.push(...talkTime[2].map(event => ({ ...event, channel: 2 })));\n            events.push(...this.generateNoteEvents());\n            events.push(...this.generateSearchEvents());\n        }\n        events.push(...this.generateClassificationEvents());\n        events.push(...this.generateKeywordEvents());\n        events.push(...this.generateTopicEvents());\n        const callEvents = this.generateCallEvents();\n        events.push(...callEvents.filter(item => item.channel === 1));\n        const secondaryCallEvents = callEvents.filter(item => item.channel === 2);\n\n        const elements = [];\n        elements.push(...this.generateEventList(events, true));\n        elements.push(...this.generateEventList(secondaryCallEvents, false));\n\n        return elements;\n    }\n\n    /**\n     * Returns a function that consolidates a group of events into one event.\n     * @returns {function(eventItem, groupedEvents): {eventItem, groupSize: int, groupedEvents: *}}\n     */\n    consolidateEvents() {\n        const {\n            callersAtTimestamp,\n        } = this.props;\n        return (eventItem, groupedEvents) => {\n            const consolidatedItem = {\n                ...eventItem,\n                timestamp: groupedEvents.map(obj => obj.timestamp)\n                    .reduce((total, timestamp) => total + timestamp) / groupedEvents.length,\n                label: groupedEvents.map((obj) => {\n                    const channelNumber = obj.channel === 1 ? 0 : 1;\n                    if (callersAtTimestamp(obj.timestamp) !== undefined) {\n                        const caller = callersAtTimestamp(obj.timestamp)[channelNumber];\n                        const label = obj.label || AudioEventLayer.labelForEventType(obj.event);\n                        if (groupedEvents.length === 1) {\n                            return label;\n                        }\n                        return `${caller.title}: ${label}`;\n                    }\n                    return 'caller';\n                }).join('<br>'),\n                groupSize: groupedEvents.length || 0,\n                groupedEvents,\n            };\n            return consolidatedItem;\n        };\n    }\n\n    /**\n     * Returns a function that clusters a group of events into one event.\n     */\n    clusterEvents() {\n        const {\n            callersAtTimestamp,\n        } = this.props;\n        return (eventItem, groupedEvents) => {\n            const clusteredItem = {\n                event: groupedEvents.length > 1 ? MULTIPLE_EVENTS : eventItem.event,\n                timestamp: groupedEvents.map(obj => obj.timestamp)\n                    .reduce((total, timestamp) => total + timestamp) / groupedEvents.length,\n                label: groupedEvents.map((obj) => {\n                    if (obj.groupSize > 1) {\n                        return obj.label; // if this event has already been grouped, just use its label\n                    }\n                    const channelNumber = obj.channel === 1 ? 0 : 1;\n                    if (callersAtTimestamp(obj.timestamp) !== undefined) {\n                        const caller = callersAtTimestamp(obj.timestamp)[channelNumber];\n                        const label = obj.label || AudioEventLayer.labelForEventType(obj.event);\n                        return `${caller.title}: ${label}`;\n                    }\n                    return 'caller';\n                }).join('<br>'),\n                channel: eventItem.channel,\n                color: eventItem.color || '#ADB3B7',\n                subType: eventItem.subType,\n                groupSize: groupedEvents.length,\n                groupedEvents,\n            };\n            return clusteredItem;\n        };\n    }\n\n    /**\n     * Returns an array of events, grouping those that are within a timestamp threshold of each other (nb. the events\n     * should be sorted into timestamp order first).  How the events are grouped is determined by the groupingFunction\n     * which defaults to consolidating the events.\n     * @param events - the events to process\n     * @param timestampThreshold - a threshold for determining whether to group events\n     * @param groupingFunction - a function that groups an array of events into a single event\n     * @returns {[]} An array of events, some grouped\n     */\n    groupEvents(events, timestampThreshold, groupingFunction = this.consolidateEvents()) {\n        let tmpGroup = [];\n        const groupedEvents = [];\n        events\n            .forEach((eventItem, index, array) => {\n                tmpGroup.push(eventItem);\n                const onLastItem = index === (array.length - 1);\n                let nextItemBeyondThreshold = true;\n                if (index < array.length - 1) {\n                    const timeDifference = array[index + 1].timestamp - eventItem.timestamp;\n                    if (timeDifference <= timestampThreshold) {\n                        nextItemBeyondThreshold = false;\n                    }\n                }\n                if (onLastItem || nextItemBeyondThreshold) {\n                    const groupedItem = groupingFunction(eventItem, tmpGroup);\n                    groupedEvents.push(groupedItem);\n                    tmpGroup = [];\n                }\n            });\n        return groupedEvents;\n    }\n\n    generateEventList(events, isPrimary) {\n        const {\n            scrub,\n            activeLayers,\n            timeline,\n            plotWholeTimeline,\n            callersAtTimestamp,\n        } = this.props;\n        const elements = [];\n\n        const filteredEvents = events\n            .filter(item => AudioEventLayer.isEventTypeInActiveLayers(item.event, activeLayers))\n            .filter(AudioEventLayer.filterInvisibleEvents)\n            .sort((a, b) => a.timestamp - b.timestamp);\n\n        if (plotWholeTimeline) {\n            filteredEvents\n                .forEach((eventItem, index, array) => {\n                    const key = `${eventItem.channel}${eventItem.event}${eventItem.timestamp}`;\n                    if (eventItem.event === CALL_EVENT) return;\n                    let backgroundColor = '#ADB3B7';\n                    const callSummaryAtTime = callersAtTimestamp(eventItem.timestamp);\n                    if (eventItem.channel && callSummaryAtTime !== undefined) {\n                        const channelNumber = eventItem.channel === 1 ? 0 : 1;\n                        const caller = callSummaryAtTime[channelNumber];\n                        const { color } = caller;\n                        backgroundColor = color;\n                    }\n                    const style = {\n                        left: calculatePositionPercentageWithOffset(eventItem.timestamp, timeline),\n                        backgroundColor,\n                    };\n                    elements.push(<span key={key} style={style} className={styles.ClashLine} />);\n                });\n        } else {\n            // Consolidate events\n            const consolidationThreshold = 1;\n            const consolidatedEvents = this.groupEvents(filteredEvents, consolidationThreshold, this.consolidateEvents());\n\n            // Cluster events\n            const scrubAsTime = {\n                start: timeline.start + (timeline.range * scrub.start / 100),\n                end: timeline.start + (timeline.range * scrub.end / 100),\n            };\n            const scrubWidthAsTime = scrubAsTime.end - scrubAsTime.start;\n            const clusterThreshold = scrubWidthAsTime * 0.02;\n\n            const clusteredEvents = this.groupEvents(consolidatedEvents, clusterThreshold, this.clusterEvents());\n            clusteredEvents\n                .forEach((item) => {\n                    const key = `${item.channel}${item.event}${item.timestamp}`;\n                    const style = {\n                        left: calculatePositionPercentageWithOffset(item.timestamp, timeline),\n                        top: isPrimary ? '0px' : '55%',\n                    };\n                    const icon = this.iconForEventType(item.event, item.subType);\n                    if (icon === null) {\n                        return;\n                    }\n                    let channelClassName = '';\n                    const { color } = item;\n                    let backgroundColor = color;\n                    const callSummaryAtTime = callersAtTimestamp(item.timestamp);\n                    if (item.channel && callSummaryAtTime !== undefined) {\n                        const channelNumber = item.channel === 1 ? 0 : 1;\n                        const caller = callSummaryAtTime[channelNumber];\n                        channelClassName = caller.classes;\n                        backgroundColor = item.groupSize > 1 ? '#888888' : caller.color;\n                    }\n                    const lineStyle = {\n                        ...style,\n                        backgroundColor,\n                    };\n                    const iconClasses = classNames({\n                        'translate-50': true,\n                        [styles.ClashIcon]: true,\n                        [channelClassName]: true,\n                    });\n                    const lineClasses = styles.ClashLine;\n                    if (item.groupedEvents.some(clusterItem => clusterItem.event !== CALL_EVENT)) {\n                        elements.push(<span key={key} style={lineStyle} className={lineClasses} />);\n                    }\n                    if (item.event === CALL_EVENT) {\n                        elements.push(\n                            <img\n                                key={`${key}icon`}\n                                src={icon}\n                                style={style}\n                                className={iconClasses}\n                                data-tooltip={item.label}\n                                alt={item.label}\n                            />,\n                        );\n                    } else {\n                        const clusterSize = item.groupSize > 1 ? item.groupSize : '';\n                        elements.push(\n                            <svg\n                                key={`${key}icon`}\n                                style={style}\n                                className={iconClasses}\n                                data-tooltip={`${item.label}`}\n                            >\n                                <circle strokeWidth=\"4\" cx=\"12\" cy=\"12\" r=\"10\" stroke={color} />\n                                <circle fill=\"#F7F7F7\" cx=\"12\" cy=\"12\" r=\"10\" />\n                                <image x=\"5\" y=\"5\" width=\"14\" height=\"14\" xlinkHref={icon} />\n                                <text x=\"12\" y=\"16\" width=\"14\" height=\"14\" textAnchor=\"middle\">{clusterSize}</text>\n                            </svg>,\n                        );\n                    }\n                });\n        }\n        return elements;\n    }\n\n    generateNoteEvents() {\n        const {\n            timeline,\n            activeLayers,\n            notes,\n            callersAtTimestamp,\n            callerWithUuid,\n        } = this.props;\n        const positions = [];\n        if (!activeLayers.includes(SHOW_NOTES)) {\n            return positions;\n        }\n        const eventList = notes.eventTypes;\n\n        notes.notes.forEach((note) => {\n            const { eventType, timestamp, uuid } = note;\n            const event = eventList.find(obj => obj.id === eventType);\n            if (timestamp !== null) {\n                const time = timeline.start + timestamp;\n                const callers = callersAtTimestamp(time);\n                const index = callers.findIndex(caller => caller.relatedUuids[0] === uuid);\n                const channel = (index >= 0) ? index + 1 : null; // Channels are 1 and 2\n                const { color } = uuid && callerWithUuid(uuid) ? callerWithUuid(uuid) : { color: '#000' };\n                positions.push({\n                    event: NOTE_EVENT,\n                    timestamp: timeline.start + timestamp,\n                    label: event ? event.text : 'Unknown note type',\n                    color,\n                    channel,\n                    subType: eventType,\n                });\n            }\n        });\n        return positions;\n    }\n\n    generateSearchEvents() {\n        const {\n            search,\n            timeline,\n        } = this.props;\n        const positions = [];\n        search.matches.forEach((match) => {\n            const { caller, wordList } = match;\n            const channel = caller.isPrimary ? 1 : 2;\n            positions.push({\n                event: SEARCH_EVENT,\n                timestamp: timeline.start + wordList[0].s * 1000,\n                label: 'Search match',\n                channel,\n            });\n        });\n        return positions;\n    }\n\n    generateClassificationEvents() {\n        const {\n            timeline,\n            transcription,\n        } = this.props;\n        const callback = (name, positions) => {\n            const classification = transcription.Categories\n                .filter(category => category.Name.toUpperCase() === name.toUpperCase())[0];\n            if (typeof classification === 'undefined') {\n                return;\n            }\n\n            if (typeof classification.Keywords !== 'undefined') {\n                classification.Keywords.forEach((keyword) => {\n                    keyword.Mentions.forEach((mention) => {\n                        mention.Pos.forEach((pos) => {\n                            const timestamp = timeline.start + (pos * 1000);\n                            positions.push({\n                                event: KNOWLEDGE_TYPE_CLASSIFICATION,\n                                timestamp,\n                                label: classification.DisplayName,\n                                channel: mention.Channel,\n                            });\n                        });\n                    });\n                });\n            } else {\n                classification.Keywords = [];\n            }\n        };\n\n        return this.generateKnowledgeEvents(KNOWLEDGE_TYPE_CLASSIFICATION, callback);\n    }\n\n    generateKeywordEvents() {\n        const {\n            timeline,\n            transcription,\n        } = this.props;\n        const callback = (name, positions) => {\n            [1, 2].forEach((channel) => {\n                const keyword = transcription[channel].Keywords.filter(item => item.Keyword === name)[0];\n                if (typeof keyword === 'undefined') {\n                    return;\n                }\n\n                keyword.Pos.forEach((pos) => {\n                    const timestamp = timeline.start + (pos * 1000);\n                    positions.push({\n                        event: KNOWLEDGE_TYPE_KEYWORD,\n                        timestamp,\n                        label: name,\n                        channel,\n                    });\n                });\n            });\n        };\n        return this.generateKnowledgeEvents(KNOWLEDGE_TYPE_KEYWORD, callback);\n    }\n\n    generateTopicEvents() {\n        const {\n            timeline,\n            transcription,\n        } = this.props;\n        const callback = (name, positions) => {\n            [1, 2].forEach((channel) => {\n                const topic = transcription[channel].Topics.filter(item => item.Topic === name)[0];\n                if (typeof topic === 'undefined') {\n                    return;\n                }\n\n                topic.Keywords.forEach((keyword) => {\n                    keyword.Pos.forEach((pos) => {\n                        const timestamp = timeline.start + (pos * 1000);\n                        positions.push({\n                            event: KNOWLEDGE_TYPE_TOPIC,\n                            timestamp,\n                            label: name,\n                            channel,\n                        });\n                    });\n                });\n            });\n        };\n        return this.generateKnowledgeEvents(KNOWLEDGE_TYPE_TOPIC, callback);\n    }\n\n    generateKnowledgeEvents(eventType, callback) {\n        const { knowledgeSelectedItem } = this.props;\n        if (knowledgeSelectedItem.type !== eventType) {\n            return [];\n        }\n\n        const positions = [];\n        callback(knowledgeSelectedItem.identifier, positions);\n        return positions;\n    }\n\n    generateCallEvents() {\n        const {\n            participants,\n            eventsByParticipants,\n        } = this.props;\n        const callEvents = [];\n        if (eventsByParticipants == null) {\n            return callEvents;\n        }\n        Object.keys(participants).forEach((key) => {\n            const participant = participants[key];\n            eventsByParticipants[key].events.forEach((event) => {\n                const {\n                    isBridge,\n                    isUnBridge,\n                } = event.startFlags;\n                if (isBridge || isUnBridge) return;\n                callEvents.push({\n                    event: CALL_EVENT,\n                    timestamp: event.start,\n                    label: AudioEventLayer.callEventIconLabel(event.startFlags),\n                    color: participant.color,\n                    channel: participant.isPrimary ? 1 : 2,\n                    subType: { event, isStart: true },\n                });\n                callEvents.push({\n                    event: CALL_EVENT,\n                    timestamp: event.end,\n                    label: AudioEventLayer.callEventIconLabel(event.endFlags),\n                    color: participant.color,\n                    channel: participant.isPrimary ? 1 : 2,\n                    subType: { event, isStart: false },\n                });\n            });\n        });\n        return callEvents;\n    }\n\n    render() {\n        const {\n            plotWholeTimeline,\n            scrub,\n        } = this.props;\n        const layerClasses = classNames({\n            [styles.LayerContent]: true,\n        });\n        const events = this.generateOrUsePreRenderedEvents();\n        return (\n            <div\n                ref={(node) => {\n                    this.node = node;\n                }}\n                className={layerClasses}\n                style={layerStyleWithScrubBounds(plotWholeTimeline, scrub)}\n            >\n                {events}\n            </div>\n        );\n    }\n}\n\nAudioEventLayer.propTypes = {\n    activeLayers: PropTypes.arrayOf(PropTypes.string).isRequired,\n    data: dataType.isRequired,\n    scrub: scrubType.isRequired,\n    plotWholeTimeline: PropTypes.bool,\n    timeline: timelineType.isRequired,\n    notes: notesType.isRequired,\n    search: searchType.isRequired,\n    callersAtTimestamp: PropTypes.func.isRequired,\n    participants: participantsType.isRequired,\n    sentences: sentencesType,\n    callerWithUuid: PropTypes.func.isRequired,\n    eventsByParticipants: eventsType,\n    transcription: transcriptionType.isRequired,\n    knowledgeSelectedItem: knowledgeSelectedItemType.isRequired,\n};\n\nAudioEventLayer.defaultProps = {\n    eventsByParticipants: null,\n    plotWholeTimeline: false,\n    sentences: null,\n};\n\n\nexport default AudioEventLayer;\n","import { createSelector } from 'reselect';\nimport { getCalls } from './common-selectors';\nimport callAtTimestamp from './callAtTimestamp';\nimport callerWithUuid from './callerWithUuid';\n\nconst callersAtTimestamp = createSelector(\n    [getCalls, callerWithUuid, callAtTimestamp],\n    (calls, selectCallerWithUuid, callAtTimeStampFunc) => (timestamp) => {\n        const call = callAtTimeStampFunc(timestamp);\n        if (call !== undefined && call !== null) {\n            const aCaller = selectCallerWithUuid(call.aUuid);\n            const bCaller = selectCallerWithUuid(call.bUuid);\n            if (bCaller.isPrimary) {\n                return [bCaller, aCaller];\n            }\n            return [aCaller, bCaller];\n        }\n        return undefined;\n    },\n);\n\nexport default callersAtTimestamp;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport AudioEventLayer from '../components/AudioEventLayer/AudioEventLayer';\nimport callersAtTimestampFunc from '../store/selectors/callersAtTimestamp';\nimport callerWithUuidFunc from '../store/selectors/callerWithUuid';\nimport {\n    dataType,\n    scrubType,\n    timelineType,\n    callSummaryType,\n    notesType,\n    searchType,\n    participantsType,\n    sentencesType,\n    eventsType,\n    transcriptionType,\n    knowledgeSelectedItemType,\n} from '../shared/types';\nimport { getTimeline } from '../store/selectors';\nimport {\n    getEventsByParticipants, getParticipants,\n    getRawDataFromTranscriptionState,\n    getSentencesFromTranscriptionState,\n} from '../store/selectors/common-selectors';\n\nfunction AudioEventLayerContainer(props) {\n    const {\n        activeLayers,\n        data,\n        scrub,\n        plotWholeTimeline,\n        timeline,\n        callSummary,\n        notes,\n        search,\n        callersAtTimestamp,\n        callerWithUuid,\n        participants,\n        sentences,\n        eventsByParticipants,\n        transcription,\n        knowledgeSelectedItem,\n    } = props;\n    return (\n        <AudioEventLayer\n            activeLayers={activeLayers}\n            data={data}\n            scrub={scrub}\n            plotWholeTimeline={plotWholeTimeline}\n            timeline={timeline}\n            callSummary={callSummary}\n            notes={notes}\n            search={search}\n            callersAtTimestamp={callersAtTimestamp}\n            callerWithUuid={callerWithUuid}\n            participants={participants}\n            sentences={sentences}\n            eventsByParticipants={eventsByParticipants}\n            transcription={transcription}\n            knowledgeSelectedItem={knowledgeSelectedItem}\n        />\n    );\n}\n\nconst mapStateToProps = (state) => {\n    const {\n        activeLayers,\n        data,\n        scrub,\n        callSummary,\n        knowledge,\n        notes,\n        search,\n    } = state;\n    return {\n        activeLayers,\n        data,\n        scrub,\n        callSummary,\n        knowledgeSelectedItem: knowledge.selectedItem,\n        participants: getParticipants(state),\n        timeline: getTimeline(state),\n        notes,\n        search,\n        callersAtTimestamp: callersAtTimestampFunc(state),\n        callerWithUuid: callerWithUuidFunc(state),\n        sentences: getSentencesFromTranscriptionState(state),\n        eventsByParticipants: getEventsByParticipants(state),\n        transcription: getRawDataFromTranscriptionState(state),\n    };\n};\n\nAudioEventLayerContainer.propTypes = {\n    activeLayers: PropTypes.arrayOf(PropTypes.string).isRequired,\n    data: dataType.isRequired,\n    scrub: scrubType.isRequired,\n    plotWholeTimeline: PropTypes.bool,\n    timeline: timelineType.isRequired,\n    callSummary: callSummaryType.isRequired,\n    notes: notesType.isRequired,\n    search: searchType.isRequired,\n    callersAtTimestamp: PropTypes.func.isRequired,\n    callerWithUuid: PropTypes.func.isRequired,\n    participants: participantsType.isRequired,\n    sentences: sentencesType,\n    eventsByParticipants: eventsType,\n    transcription: transcriptionType.isRequired,\n    knowledgeSelectedItem: knowledgeSelectedItemType.isRequired,\n};\n\nAudioEventLayerContainer.defaultProps = {\n    plotWholeTimeline: false,\n    sentences: null,\n    eventsByParticipants: null,\n};\n\nexport default connect(mapStateToProps)(AudioEventLayerContainer);\n","export default __webpack_public_path__ + \"static/media/icon-pause-skip.208b7558.svg\";","export const AVATAR_SMALL = 'small';\nexport const AVATAR_MEDIUM = 'medium';\nexport const AVATAR_LARGE = 'large';\n","import React from 'react';\nimport PropType from 'prop-types';\nimport styles from './Avatar.module.scss';\nimport { AVATAR_SMALL, AVATAR_MEDIUM, AVATAR_LARGE } from '../../store/constants/avatar';\n\nconst Avatar = ({\n    isAvatar, url, color, size, svgStyle, imgStyle, className,\n}) => {\n    let sizes;\n    switch (size) {\n        case AVATAR_MEDIUM:\n            sizes = {\n                svg: 32, r: '15', icon: '24px', iconx: '4px', icony: '3px', img: '30px',\n            };\n            break;\n        case AVATAR_LARGE:\n            sizes = {\n                svg: 36, r: '15', icon: '24px', iconx: '6px', icony: '4px', img: '30px',\n            };\n            break;\n        default:\n            sizes = {\n                svg: 24, r: '10', icon: '16px', iconx: '4px', icony: '3px', img: '20px',\n            };\n    }\n    return (<>\n        { !isAvatar ? (\n            <svg\n                role=\"img\"\n                aria-label=\"no avatar\"\n                style={svgStyle}\n                className={[styles.svgIcon, className].join(' ')}\n                width={`${sizes.svg}px`}\n                height={`${sizes.svg}px`}\n                viewBox={`0 0 ${sizes.svg} ${sizes.svg}`}\n            >\n                <circle\n                    fill={color}\n                    cx={`${sizes.svg / 2}`}\n                    cy={`${sizes.svg / 2}`}\n                    r={`${sizes.r}`}\n                />\n                <image\n                    width={`${sizes.icon}`}\n                    height={`${sizes.icon}`}\n                    x={`${sizes.iconx}`}\n                    y={`${sizes.icony}`}\n                    href={url}\n                />\n            </svg>\n        ) : (\n            <img\n                style={imgStyle}\n                width={`${sizes.img}`}\n                height={`${sizes.img}`}\n                alt=\"Avatar\"\n                src={url}\n                className={[styles.avatar, className].join(' ')}\n            />\n        ) }\n    </>);\n};\n\nAvatar.propTypes = {\n    isAvatar: PropType.bool,\n    url: PropType.string,\n    color: PropType.string,\n    size: PropType.string,\n    svgStyle: PropType.shape(),\n    imgStyle: PropType.shape(),\n    className: PropType.string,\n};\nAvatar.defaultProps = {\n    isAvatar: false,\n    color: 'white',\n    url: '',\n    size: AVATAR_SMALL,\n    svgStyle: {},\n    imgStyle: {},\n    className: '',\n};\nexport default Avatar;\n","/* eslint-disable max-len */\n/* eslint-disable react/jsx-one-expression-per-line */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { isEqual } from 'lodash/core';\nimport classNames from 'classnames';\nimport AudioEventLayerContainer from '../../containers/AudioEventLayerContainer';\nimport styles from './EventTimeline.module.scss';\nimport { layerStyleWithScrubBounds } from '../../shared/utility/timeline';\nimport {\n    audioTransportType,\n    callSummaryType, dropDownOptionsType,\n    eventsType,\n    participantsType,\n    scrubType,\n    sentencesType,\n    timelineType,\n} from '../../shared/types';\nimport { STATUS_EMPTY, STATUS_LOADING, STATUS_OK } from '../../store/constants/data';\nimport pauseSkipIcon from '../../assets/svgs/icon-pause-skip.svg';\nimport Avatar from '../Avatar/Avatar';\nimport { AVATAR_MEDIUM, AVATAR_LARGE } from '../../store/constants/avatar';\n\nclass EventTimeline extends Component {\n    static loadingOverlay(show, leftMargin = 0) {\n        const classes = `loading-overlay ${show ? '' : 'fade-out'}`;\n        return (\n            <svg\n                className={classes}\n                width=\"100%\"\n                height=\"100%\"\n                viewBox=\"0 0 400 100\"\n                preserveAspectRatio=\"none\"\n                style={{ marginLeft: -leftMargin }}\n            >\n                <defs>\n                    <linearGradient id=\"left-right-gradient\">\n                        <stop stopColor=\"#fff\" offset=\"0%\" />\n                        <stop stopColor=\"#fff\" stopOpacity=\"0\" offset=\"100%\" />\n                    </linearGradient>\n                    <linearGradient id=\"right-left-gradient\">\n                        <stop stopColor=\"#fff\" stopOpacity=\"0\" offset=\"0%\" />\n                        <stop stopColor=\"#fff\" offset=\"100%\" />\n                    </linearGradient>\n                </defs>\n                <rect x=\"0\" width=\"40\" y=\"24\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"40\" width=\"48\" y=\"60\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"88\" width=\"36\" y=\"24\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"120\" width=\"48\" y=\"60\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"168\" width=\"40\" y=\"24\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"208\" width=\"40\" y=\"60\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"240\" width=\"36\" y=\"24\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"280\" width=\"40\" y=\"60\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"320\" width=\"40\" y=\"24\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"360\" width=\"40\" y=\"60\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"0\" y=\"0\" height=\"100\" width=\"40\" fill=\"url(#left-right-gradient)\" />\n                <rect x=\"360\" y=\"0\" height=\"100\" width=\"40\" fill=\"url(#right-left-gradient)\" />\n            </svg>\n        );\n    }\n\n    static gradientLayer(scrub, leftMargin = 0) {\n        const gradientClasses = classNames({\n            [styles.gradientLayer]: true,\n            [styles.gradientStart]: scrub.start !== 0,\n            [styles.gradientEnd]: scrub.end !== 100,\n        });\n        const offsets = {\n            marginLeft: -leftMargin,\n            left: `${Math.min(scrub.start, 7) - 7}%`,\n            right: `${Math.min(100 - scrub.end, 7) - 7}%`,\n        };\n        return (\n            <div className={gradientClasses} style={offsets} />\n        );\n    }\n\n    static noAgentDataOverlay() {\n        const className = classNames({\n            [styles.overlayMargin]: true,\n            'loading-overlay': true,\n        });\n        return (\n            <svg\n                className={className}\n                width=\"100%\"\n                height=\"100%\"\n                viewBox=\"0 0 400 100\"\n                preserveAspectRatio=\"none\"\n            >\n                <defs>\n                    <linearGradient id=\"left-right-gradient\">\n                        <stop stopColor=\"#fff\" offset=\"0%\" />\n                        <stop stopColor=\"#fff\" stopOpacity=\"0\" offset=\"100%\" />\n                    </linearGradient>\n                    <linearGradient id=\"right-left-gradient\">\n                        <stop stopColor=\"#fff\" stopOpacity=\"0\" offset=\"0%\" />\n                        <stop stopColor=\"#fff\" offset=\"100%\" />\n                    </linearGradient>\n                </defs>\n                <rect x=\"0\" width=\"40\" y=\"24\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"40\" width=\"48\" y=\"60\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"88\" width=\"36\" y=\"24\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"120\" width=\"48\" y=\"60\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"168\" width=\"40\" y=\"24\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"208\" width=\"40\" y=\"60\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"240\" width=\"36\" y=\"24\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"280\" width=\"40\" y=\"60\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"320\" width=\"40\" y=\"24\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"360\" width=\"40\" y=\"60\" height=\"16\" opacity=\"0.075\" rx=\"2\" />\n                <rect x=\"0\" y=\"0\" height=\"100\" width=\"40\" fill=\"url(#left-right-gradient)\" />\n                <rect x=\"360\" y=\"0\" height=\"100\" width=\"40\" fill=\"url(#right-left-gradient)\" />\n            </svg>\n        );\n    }\n\n    static noAgentDataText(text) {\n        const classes = 'noAgentDataText';\n        return (\n            <div className={classes}>\n                {text}\n            </div>\n        );\n    }\n\n    static scrubLegend(channels) {\n        return [\n            (\n                <div className={styles['info-box']} key={0}>\n                    <div>\n                        {channels[0] || '--'}\n                    </div>\n                    <div>\n                        {channels[1] || '--'}\n                    </div>\n                </div>\n            ),\n        ];\n    }\n\n    static channelLabel(title, color, image, avatar) {\n        return (\n            <div className={styles.channelLabel}>\n                <Avatar\n                    isAvatar={!!avatar}\n                    url={avatar || image}\n                    color={color}\n                    size={AVATAR_MEDIUM}\n                />\n                <div>\n                    {title}\n                </div>\n            </div>\n        );\n    }\n\n    static conferencePattern(hexColor) {\n        const color = hexColor.replace('#', '%23');\n        return [\n            'url(\"data:image/svg+xml;utf8,'\n            + '<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'10\\' height=\\'32\\' viewBox=\\'0 0 10 32\\'>',\n            `<rect fill='${color}' x='0' y='0' width='10' height='8' />`,\n            `<circle fill='${color}' cx='5' cy='16' r='3.5' />`,\n            `<rect fill='${color}' x='0' y='24' width='10' height='8' />`,\n            '</svg>\")',\n        ].join('');\n    }\n\n    static eventsForSentence(sentence, events) {\n        if (!Array.isArray(events) || events.length === 0) {\n            return [];\n        }\n        return events.filter(event => sentence.timelineStart >= event.start && sentence.timelineStart < event.end);\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isEntryExitLayerDismissed: false,\n        };\n        this.preRenderedSentencesKey = null;\n        this.preRenderedSentences = null;\n        this.hideEntryExitLayerHandler = this.hideEntryExitLayerHandler.bind(this);\n        this.handleClickReviewNotes = this.handleClickReviewNotes.bind(this);\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const { isPlaying } = this.props;\n        const { isEntryExitLayerDismissed } = this.state;\n        if (isPlaying && isEntryExitLayerDismissed) {\n            this.setState({\n                isEntryExitLayerDismissed: false,\n            });\n        }\n    }\n\n    callerStyle(caller, callers, plotWholeTimeline, singleColor, timeline) {\n        const height = plotWholeTimeline ? 8 : 16;\n        const padding = plotWholeTimeline ? 33 : 24;\n        const position = caller.isPrimary ? 'top' : 'bottom';\n        return (sentence) => {\n            const opposingCaller = callers[sentence.opposing.number];\n            const isSub = opposingCaller.isAgent && caller.agentNumber > 1;\n            const { timelineStart, timelineEnd } = sentence;\n            const sentenceWidth = timelineEnd - timelineStart;\n            const start = 100 / timeline.range * Math.max(0, timelineStart - timeline.start);\n            const end = 100 / timeline.range * Math.min(timeline.range, timelineStart + sentenceWidth - timeline.start);\n            const width = Math.max(0.5, end - start);\n            const markerPosition = position === 'top' ? styles.top : styles.bottom;\n            return {\n                style: {\n                    borderRadius: '4px',\n                    backgroundColor: singleColor || caller.color,\n                    left: `${start}%`,\n                    width: `${width}%`,\n                    height: `${height * (isSub && !plotWholeTimeline ? 0.5 : 1)}%`,\n                    [position]: `${padding * (isSub && !plotWholeTimeline ? 1.95 : 1)}%`,\n                },\n                markerPosition,\n            };\n        };\n    }\n\n    createSentences(plotWholeTimeline, participants, sentences, eventsByParticipants, singleColor, timeline) {\n        const markersShown = [];\n        return Object.keys(participants).map((key) => {\n            const caller = participants[key];\n            const style = this.callerStyle(caller, participants, plotWholeTimeline, singleColor, timeline);\n            return sentences[key].map(sentence => ({\n                key,\n                style,\n                caller,\n                sentence,\n            }));\n        }).flat()\n            .sort((a, b) => a.sentence.Start - b.sentence.Start)\n            .map((item) => {\n                const {\n                    key, style, caller, sentence,\n                } = item;\n                const events = EventTimeline.eventsForSentence(sentence, eventsByParticipants[key].events);\n                const callerStyleForSentence = style(sentence);\n                let marker = null;\n                const isConference = events.filter(event => event.startFlags.isConferenceIn).length;\n                const isShowConference = !plotWholeTimeline && isConference;\n                const conferenceClass = isShowConference ? styles.conference : null;\n                const sentenceStyle = isShowConference ? {\n                    ...callerStyleForSentence.style,\n                    backgroundColor: null,\n                    backgroundImage: EventTimeline.conferencePattern(caller.color),\n                } : callerStyleForSentence.style;\n                const callerName = caller.name ? `${caller.name} (${caller.fullNumber})` : caller.fullTitle;\n                const markerText = isConference ? 'Multiple people. Hover for details' : callerName;\n                const markerKey = `${isConference ? 'conference:' : ''}${caller.number}`;\n                if (!plotWholeTimeline && !markersShown.includes(markerKey)) {\n                    const [firstUuidForCaller] = caller.relatedUuids;\n                    markersShown.push(markerKey);\n                    const avatarStyle = caller.isPrimary ? styles.sentenceMarkerAvatarTop : styles.sentenceMarkerAvatarBottom;\n                    const setFocusStyle = caller.isPrimary ? styles.focusSwitcherTop : styles.focusSwitcherBottom;\n                    marker = (\n                        <>\n                            <span className={styles.sentenceMarker} data-marker-title={markerText}>\n                                <span className={setFocusStyle} data-set-focus={firstUuidForCaller} />\n                            </span>\n                            {!!caller.photoUrl && (\n                                <Avatar\n                                    isAvatar={!!caller.photoUrl}\n                                    url={caller.photoUrl || caller.image}\n                                    color={caller.color}\n                                    className={avatarStyle}\n                                    size={AVATAR_LARGE}\n                                />\n                            )}\n                        </>\n                    );\n                }\n                return (\n                    <div\n                        key={`${key}${sentence.timelineStart}`}\n                        className={`${[styles.sentence, style(sentence).markerPosition, conferenceClass].join(' ')}`}\n                        style={sentenceStyle}\n                        data-tooltip={`${sentence.number}: \"${sentence.Sentence}\"`}\n                        data-tooltip-fixed-width\n                    >\n                        {marker}\n                    </div>\n                );\n            });\n    }\n\n    sentenceLayer() {\n        const {\n            plotWholeTimeline, participants, sentences, eventsByParticipants, scrub, singleColor, timeline,\n        } = this.props;\n\n        const sentenceKey = {\n            plotWholeTimeline,\n            participants,\n            sentences,\n            eventsByParticipants,\n            singleColor,\n            timeline,\n        };\n\n        // TODO: use Reselect.createSelector to call createSentences when parameters have changed..\n        if (this.preRenderedSentences == null || !isEqual(sentenceKey, this.preRenderedSentencesKey)) {\n            this.preRenderedSentences = this.createSentences(plotWholeTimeline, participants, sentences, eventsByParticipants, singleColor, timeline);\n            this.preRenderedSentencesKey = sentenceKey;\n        }\n\n        return (\n            <div className={styles.LayerContent} style={layerStyleWithScrubBounds(plotWholeTimeline, scrub)}>\n                {this.preRenderedSentences}\n            </div>\n        );\n    }\n\n    avatarLayer(leftMargin = 0) {\n        const {\n            participants, sentences, audioTransport, timeline, scrub, plotWholeTimeline, playhead,\n        } = this.props;\n        // avatar start of the start of sentences then pinned to screen until end of end sentences\n        if (sentences !== null) {\n            return (\n                <div className={styles.LayerContent} style={layerStyleWithScrubBounds(plotWholeTimeline, scrub)}>\n                    {Object.keys(participants).map((key) => {\n                        if (sentences[key].length > 0) {\n                            const firstSentence = sentences[key][0];\n                            const lastSentence = sentences[key][sentences[key].length - 1];\n                            const offset = audioTransport.start() / 100 * timeline.range;\n                            const startTime = firstSentence.isInEarliestCall ? 0 : firstSentence.timelineStart - timeline.start;\n                            const startOfFirst = 100 / (timeline.range - offset) * startTime;\n                            const endTime = lastSentence.timelineStart\n                                + (lastSentence.timelineEnd - lastSentence.timelineStart) - timeline.start;\n                            const endOfLast = 100 / timeline.range * endTime;\n                            const leftPercentage = Math.min(Math.max(scrub.start, startOfFirst - 0.5), endOfLast);\n                            const position = participants[key].isPrimary ? 'top' : 'bottom';\n                            const opposingCaller = participants[firstSentence.opposing.number];\n                            const isSub = opposingCaller.isAgent && participants[key].agentNumber > 1;\n                            const padding = plotWholeTimeline ? 33 : 24;\n                            const mainParticipantsPaddingMultiplier = 0.96;\n                            let avatarOpacity = 1;\n                            if (leftPercentage > scrub.start) {\n                                const scrubLength = scrub.end - scrub.start;\n                                const fadeIn = scrubLength * 0.2;\n                                if (leftPercentage > (scrub.start + fadeIn)) {\n                                    avatarOpacity = 0;\n                                } else {\n                                    const leftPercentageDifference = leftPercentage - scrub.start;\n                                    avatarOpacity = (1 - Math.max(0, leftPercentageDifference));\n                                }\n                            }\n                            const iconStyle = {\n                                style: {\n                                    opacity: avatarOpacity,\n                                    left: `${leftPercentage}%`,\n                                    marginLeft: -leftMargin,\n                                    zIndex: (playhead > 0 && playhead < 100) ? 9 : 0,\n                                    [position]: `${padding * (isSub && !plotWholeTimeline\n                                        ? 1.75 : mainParticipantsPaddingMultiplier)}%`,\n                                    paddingLeft: '4px',\n                                },\n                            };\n                            return (\n                                <Avatar\n                                    isAvatar={!!participants[key].photoUrl}\n                                    key={`avatar-${key}`}\n                                    url={participants[key].photoUrl || participants[key].image}\n                                    color={participants[key].color}\n                                    size={AVATAR_LARGE}\n                                    svgStyle={iconStyle.style}\n                                    imgStyle={{ ...iconStyle.style, paddingLeft: '6px' }}\n                                />\n                            );\n                        }\n                        return null;\n                    }).flat()}\n                </div>\n            );\n        }\n        return null;\n    }\n\n\n    playheadLayer() {\n        const {\n            canSetPlayhead,\n            playhead,\n            plotWholeTimeline,\n            scrub,\n            timeline,\n            participants,\n            eventsByParticipants,\n        } = this.props;\n        const timeString = timeline.formattedTimeAtPlayhead(playhead);\n\n        let pausedProperties = {\n            isPaused: false,\n            timeAtPauseEnd: null,\n            playheadAtPauseEnd: null,\n        };\n\n        if (!plotWholeTimeline) {\n            let eventsForPrimaryParticipant = null;\n            if (eventsByParticipants) {\n                Object.keys(participants).forEach((key) => {\n                    const caller = participants[key];\n                    if (caller.isPrimary === true) {\n                        eventsForPrimaryParticipant = eventsByParticipants[key];\n                    }\n                });\n            }\n\n            if (eventsForPrimaryParticipant && eventsForPrimaryParticipant.events) {\n                pausedProperties = timeline.pausedPropertiesAtPlayhead(playhead, eventsForPrimaryParticipant);\n            }\n        }\n        return (\n            <div\n                role=\"button\"\n                tabIndex={0}\n                className={styles.LayerContent}\n                style={layerStyleWithScrubBounds(plotWholeTimeline, scrub)}\n                onMouseDown={this.handlePlayheadLayerMouseMove(canSetPlayhead)}\n            >\n                <div\n                    className={styles.playhead}\n                    style={{\n                        left: `${playhead}%`,\n                    }}\n                >\n                    <div className={styles.playheadTop} />\n                    {!plotWholeTimeline && (\n                        <div className={styles.playheadTime}>\n                            <div>{timeString}</div>\n                        </div>\n                    )\n                    }\n                    <div className={styles.playheadBottom}>\n                        {!plotWholeTimeline && pausedProperties.isPaused && (\n                            <div\n                                role=\"button\"\n                                onMouseDown={this.createSkipPauseHandler(pausedProperties)}\n                            >\n                                <img\n                                    className={styles.pauseSkipIcon}\n                                    src={pauseSkipIcon}\n                                    alt=\"Skip Pause\"\n                                />\n                            </div>\n                        )\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    timestampsLayer() {\n        const {\n            plotWholeTimeline, scrub, timeline,\n        } = this.props;\n        const scrubRange = scrub.end - scrub.start;\n        const numberOfStampsDisplayed = scrubRange > 10 ? 6 : 3;\n\n        const timeGapDuration = (scrubRange / 100 * timeline.range) / numberOfStampsDisplayed;\n        const numberOfStamps = timeline.range / timeGapDuration;\n        const timeStamps = [];\n        for (let i = 0; i < numberOfStamps; i++) {\n            const timeString = timeline.formattedTimeAtPlayhead(i / numberOfStamps * 100);\n            const xPos = 100 / timeline.range * (timeGapDuration * i);\n            const style = {\n                left: `${xPos}%`,\n            };\n            const timeStamp = (\n                <div className={styles.timeStamp} style={style} key={i}>\n                    <div className={styles.timeStampLine} />\n                    <div className={styles.timeStampText}>\n                        <div>{timeString}</div>\n                    </div>\n                </div>\n            );\n            timeStamps.push(timeStamp);\n        }\n        return (\n            <div className={styles.LayerContent} style={layerStyleWithScrubBounds(plotWholeTimeline, scrub)}>\n                {timeStamps.flat()}\n            </div>\n        );\n    }\n\n\n    showEntryExitLayer() {\n        const {\n            showTransport,\n            playhead,\n            isPlaying,\n        } = this.props;\n        const {\n            isEntryExitLayerDismissed,\n        } = this.state;\n        return (!isPlaying && !isEntryExitLayerDismissed && showTransport && (playhead === 0 || playhead === 100));\n    }\n\n    hideEntryExitLayerHandler() {\n        this.setState({\n            isEntryExitLayerDismissed: true,\n        });\n    }\n\n    handleClickReviewNotes() {\n        const { onHideScrubAndTimeline } = this.props;\n        onHideScrubAndTimeline();\n    }\n\n    entryExitLayer(leftMargin = 0) {\n        const {\n            callSummary,\n            playhead,\n            onStartPlaying,\n            onRestartPlaying,\n            displayedExperienceOption,\n            unread,\n        } = this.props;\n        if (!this.showEntryExitLayer()) {\n            return null;\n        }\n        const isPlayheadAtStart = playhead === 0;\n        const buttonText = isPlayheadAtStart ? 'Begin ' : 'Restart ';\n        const buttonType = isPlayheadAtStart ? styles.start : styles.restart;\n        const action = isPlayheadAtStart ? onStartPlaying : onRestartPlaying;\n        const leftIndent = isPlayheadAtStart ? leftMargin : 0;\n        const { keyCallers } = callSummary;\n        const {\n            colors, fullNameNumbers, images, avatar,\n        } = keyCallers;\n        if (!Array.isArray(colors) || !colors.length) {\n            return (<section />);\n        }\n        return (\n            <section className=\"ignore-nodestack\">\n                <div\n                    className={styles.overlay}\n                    style={{ marginLeft: -leftMargin }}\n                    onClick={this.hideEntryExitLayerHandler}\n                >\n                    <svg\n                        width=\"100%\"\n                        height=\"100%\"\n                        viewBox=\"0 0 100 100\"\n                        preserveAspectRatio=\"none\"\n                        style={{ marginLeft: leftIndent }}\n                    >\n                        <line x1=\"0\" y1=\"32\" x2=\"100\" y2=\"32\" strokeWidth=\"1\" stroke={colors[0]} />\n                        <line x1=\"0\" y1=\"68\" x2=\"100\" y2=\"68\" strokeWidth=\"1\" stroke={colors[1]} />\n                    </svg>\n                </div>\n                <div className={styles['transport-container']} style={{ marginLeft: -leftMargin }}>\n                    <div className={styles.overlayContentFlex}>\n                        {EventTimeline.channelLabel(`${fullNameNumbers[0]}`, colors[0], images[0], avatar[0])}\n                        <div className={styles['info-displaying-text']}>\n                            {'Viewing:'}\n                            <br />\n                            {displayedExperienceOption.viewName}\n                        </div>\n                    </div>\n                    <div className={styles.overlayContentFlex}>\n                        {EventTimeline.channelLabel(`${fullNameNumbers[1]}`, colors[1], images[1], avatar[1])}\n                        <button\n                            className={`${styles['transport-button']} ${buttonType}`}\n                            type=\"button\"\n                            tabIndex={0}\n                            onClick={action}\n                        >\n                            {`${buttonText} Playback`}\n                        </button>\n                    </div>\n                    { unread.length > 0 && (\n                        <div className={styles.unreadNotes}>\n                            <div className={styles.notificationBell} />\n                            <div className={styles.notificationCount}>\n                                You have {unread.length} unread Note{unread.length !== 1 ? 's' : ''}\n                            </div>\n                            <button className={styles.reviewButton} onClick={this.handleClickReviewNotes}>\n                                REVIEW NOTES\n                            </button>\n                        </div>\n                    )}\n                    <button className={styles.closeButton} onClick={this.hideEntryExitLayerHandler} />\n                </div>\n            </section>\n        );\n    }\n\n    createSkipPauseHandler(pausedProperties) {\n        const { onSetPlayhead } = this.props;\n        return (event) => {\n            if (pausedProperties.playheadAtPauseEnd) {\n                event.stopPropagation();\n                onSetPlayhead(pausedProperties.playheadAtPauseEnd, true);\n            }\n        };\n    }\n\n    handlePlayheadLayerMouseMove(enabled) {\n        if (!enabled) {\n            return null;\n        }\n        const { onSetPlayhead } = this.props;\n        return (event) => {\n            const bounds = event.target.getBoundingClientRect();\n            const position = 100 / bounds.width * (event.pageX - bounds.x);\n            onSetPlayhead(position, true);\n        };\n    }\n\n    render() {\n        const {\n            status,\n            children,\n            hideSentenceLayer,\n            plotWholeTimeline,\n            scrub,\n            sentences,\n            eventTimelineVisible,\n            leftMargin,\n            emptyText,\n        } = this.props;\n        const isStatusOk = status === STATUS_OK;\n        const isLoading = status === STATUS_LOADING;\n\n        const sentenceLayer = hideSentenceLayer || sentences === null ? null : this.sentenceLayer();\n        const showGradient = !plotWholeTimeline && !this.showEntryExitLayer();\n        const container = classNames({\n            [styles.EventLayer]: true,\n        });\n        if (status === STATUS_EMPTY) {\n            return (\n                <div className=\"Timeline\">\n                    <div className={container}>\n                        {EventTimeline.noAgentDataOverlay()}\n                        {EventTimeline.noAgentDataText(emptyText)}\n                    </div>\n                </div>\n            );\n        }\n        if (!eventTimelineVisible && !plotWholeTimeline) {\n            return null;\n        }\n        const avatarLayer = isLoading ? null : this.avatarLayer(leftMargin);\n        if (!plotWholeTimeline && eventTimelineVisible) {\n            return (\n                <section className=\"Timeline\">\n                    <div className={container} style={{ marginLeft: leftMargin }}>\n                        {this.timestampsLayer()}\n                        {isStatusOk && sentenceLayer}\n                        {showGradient && EventTimeline.gradientLayer(scrub, leftMargin)}\n                        {children}\n                        {avatarLayer}\n                        <AudioEventLayerContainer plotWholeTimeline={plotWholeTimeline} />\n                        {this.playheadLayer()}\n                        {this.entryExitLayer(leftMargin)}\n                        {EventTimeline.loadingOverlay(isLoading, leftMargin)}\n                    </div>\n                </section>\n            );\n        }\n        return (\n            <div className={container}>\n                {isStatusOk && sentenceLayer}\n                {children}\n                <AudioEventLayerContainer plotWholeTimeline={plotWholeTimeline} />\n                {this.playheadLayer()}\n                {this.entryExitLayer(leftMargin)}\n                {EventTimeline.loadingOverlay(isLoading, leftMargin)}\n            </div>\n        );\n    }\n}\n\nEventTimeline.propTypes = {\n    playhead: PropTypes.number.isRequired,\n    canSetPlayhead: PropTypes.bool,\n    onSetPlayhead: PropTypes.func,\n    onStartPlaying: PropTypes.func,\n    onRestartPlaying: PropTypes.func,\n    plotWholeTimeline: PropTypes.bool,\n    showTransport: PropTypes.bool,\n    scrub: scrubType.isRequired,\n    callSummary: callSummaryType.isRequired,\n    singleColor: PropTypes.string,\n    audioTransport: audioTransportType.isRequired,\n    children: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.node),\n        PropTypes.node,\n    ]),\n    hideSentenceLayer: PropTypes.bool,\n    timeline: timelineType.isRequired,\n    participants: participantsType.isRequired,\n    sentences: sentencesType,\n    eventsByParticipants: eventsType,\n    status: PropTypes.string,\n    eventTimelineVisible: PropTypes.bool.isRequired,\n    displayedExperienceOption: dropDownOptionsType,\n    leftMargin: PropTypes.number,\n    isPlaying: PropTypes.bool,\n    unread: PropTypes.arrayOf(PropTypes.string),\n    onHideScrubAndTimeline: PropTypes.func.isRequired,\n};\n\nEventTimeline.defaultProps = {\n    canSetPlayhead: false,\n    onSetPlayhead: () => {\n    },\n    onStartPlaying: () => {\n    },\n    onRestartPlaying: () => {\n    },\n    plotWholeTimeline: false,\n    showTransport: false,\n    singleColor: null,\n    children: null,\n    hideSentenceLayer: false,\n    sentences: null,\n    eventsByParticipants: null,\n    status: undefined,\n    displayedExperienceOption: null,\n    leftMargin: 0,\n    isPlaying: false,\n    unread: [],\n};\n\nexport default EventTimeline;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { movePlayHead, play, playFromStart } from '../store/actions/actions';\nimport EventTimeline from '../components/EventTimeline/EventTimeline';\nimport {\n    scrubType,\n    audioTransportType,\n    callSummaryType,\n    timelineType,\n    participantsType,\n    sentencesType,\n    eventsType, dropDownOptionsType,\n} from '../shared/types';\nimport { getTimeline } from '../store/selectors';\nimport {\n    getEventsByParticipants, getEventTimelineVisibility,\n    getSentencesFromTranscriptionState,\n    getStatus,\n    getParticipants,\n} from '../store/selectors/common-selectors';\nimport getAudioTransport from '../store/selectors/audioTransport';\nimport selectedExperienceOption from '../store/selectors/selectedExperienceOption';\nimport getEmptyDataText from '../store/selectors/emptyDataText';\nimport {\n    getUnreadNoteAndCommentIdsForCurrentUser, NotesFilter,\n} from '../store/selectors/noteSelectors';\nimport { setScrubberVisibility } from '../store/actions/scrubber';\nimport { setEventTimelineVisibility } from '../store/actions/eventTimeline';\nimport { setNotesFilter } from '../store/actions/notes';\n\nconst EventTimelineContainer = props => (<EventTimeline {...props} />);\n\nEventTimelineContainer.propTypes = {\n    playhead: PropTypes.number.isRequired,\n    canSetPlayhead: PropTypes.bool,\n    onSetPlayhead: PropTypes.func.isRequired,\n    onStartPlaying: PropTypes.func.isRequired,\n    onRestartPlaying: PropTypes.func.isRequired,\n    plotWholeTimeline: PropTypes.bool,\n    showTransport: PropTypes.bool,\n    scrub: scrubType.isRequired,\n    callSummary: callSummaryType.isRequired,\n    singleColor: PropTypes.string,\n    colors: PropTypes.arrayOf(PropTypes.string),\n    status: PropTypes.string.isRequired,\n    children: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.node),\n        PropTypes.node,\n    ]),\n    hideSentenceLayer: PropTypes.bool,\n    timeline: timelineType.isRequired,\n    participants: participantsType.isRequired,\n    sentences: sentencesType,\n    eventsByParticipants: eventsType,\n    audioTransport: audioTransportType.isRequired,\n    eventTimelineVisible: PropTypes.bool.isRequired,\n    displayedExperienceOption: dropDownOptionsType,\n    leftMargin: PropTypes.number,\n    emptyText: PropTypes.string,\n    isPlaying: PropTypes.bool,\n    unread: PropTypes.arrayOf(PropTypes.string).isRequired,\n    onHideScrubAndTimeline: PropTypes.func.isRequired,\n};\n\nEventTimelineContainer.defaultProps = {\n    canSetPlayhead: true,\n    plotWholeTimeline: false,\n    showTransport: false,\n    singleColor: null,\n    colors: [],\n    children: null,\n    hideSentenceLayer: false,\n    sentences: null,\n    eventsByParticipants: null,\n    displayedExperienceOption: null,\n    leftMargin: 0,\n    emptyText: null,\n    isPlaying: false,\n};\n\nconst mapStateToProps = (state) => {\n    const {\n        scrub,\n        callSummary,\n    } = state;\n\n    const {\n        playhead,\n        isPlaying,\n    } = state.playback;\n    return {\n        audioTransport: getAudioTransport(state),\n        playhead,\n        isPlaying,\n        scrub,\n        callSummary,\n        timeline: getTimeline(state),\n        participants: getParticipants(state),\n        status: getStatus(state),\n        sentences: getSentencesFromTranscriptionState(state),\n        eventsByParticipants: getEventsByParticipants(state),\n        eventTimelineVisible: getEventTimelineVisibility(state),\n        displayedExperienceOption: selectedExperienceOption(state),\n        emptyText: getEmptyDataText(state),\n        unread: getUnreadNoteAndCommentIdsForCurrentUser(state),\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onSetPlayhead: (position, isUserAction) => {\n        dispatch(movePlayHead(position, isUserAction));\n    },\n    onStartPlaying: () => {\n        dispatch(play());\n    },\n    onRestartPlaying: () => {\n        dispatch(playFromStart());\n    },\n    onHideScrubAndTimeline: () => {\n        dispatch(setScrubberVisibility(false));\n        dispatch(setEventTimelineVisibility(false));\n        dispatch(setNotesFilter(NotesFilter.onlyUnread));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EventTimelineContainer);\n","import { BACKGROUND_NOISE_LEVEL, TRANSCRIPTION_CONFIDENCE } from '../../store/constants/metrics-layers';\n\nexport default class Metrics {\n    static nameForKey(key) {\n        switch (key) {\n            case BACKGROUND_NOISE_LEVEL:\n                return 'Noise';\n            case TRANSCRIPTION_CONFIDENCE:\n                return 'Confidence';\n            default:\n                return '';\n        }\n    }\n\n    constructor() {\n        this.transcription = {};\n    }\n\n    useData(transcriptionData, errorCallback = () => {}) {\n        if (!transcriptionData) {\n            errorCallback('Invalid data');\n            return this;\n        }\n        this.transcription = transcriptionData;\n        return this;\n    }\n\n    forKey(key) {\n        return {\n            key,\n            name: Metrics.nameForKey(key),\n            paths: this.pathsForData(key),\n        };\n    }\n\n    pathsForData(key) {\n        const lines = this.linesForKey(key);\n        const paths = {};\n        Object.keys(lines).forEach((line) => {\n            const {\n                style,\n                data,\n                isStepped,\n                isFloating,\n                isCurved,\n                isInverted,\n            } = lines[line];\n            if (data.length === 0) {\n                return;\n            }\n            const start = isFloating ? '' : `M${data[0].x - 1} ${isInverted ? 0 : 100}`;\n            const end = isFloating ? '' : `L${data[data.length - 1].x + 1} ${isInverted ? 0 : 100}`;\n            paths[line] = {\n                style,\n                path: [\n                    [start],\n                    data.map((plot, index, array) => {\n                        const path = [];\n                        const pen = isFloating && index === 0 ? 'M' : 'L';\n                        if (isStepped && index > 0) {\n                            const lastPlot = array[index - 1];\n                            path.push(`L${plot.x} ${isInverted ? lastPlot.y : 100 - lastPlot.y}`);\n                        }\n                        if (isCurved && index > 0) {\n                            const lastPlot = array[index - 1];\n                            const controlWidth = (plot.x - lastPlot.x) / 2;\n                            const bezier = {\n                                first: {\n                                    x: lastPlot.x + controlWidth,\n                                    y: isInverted ? lastPlot.y : 100 - lastPlot.y,\n                                },\n                                second: {\n                                    x: plot.x - controlWidth,\n                                    y: isInverted ? plot.y : 100 - plot.y,\n                                },\n                            };\n                            const plotPoints = [\n                                [bezier.first.x, bezier.first.y].join(' '),\n                                [bezier.second.x, bezier.second.y].join(' '),\n                                [plot.x, bezier.second.y],\n                            ];\n                            path.push(`C${plotPoints.join(', ')}`);\n                        } else {\n                            path.push(`${pen}${plot.x} ${isInverted ? plot.y : 100 - plot.y}`);\n                        }\n                        return path.join(' ');\n                    }),\n                    [end],\n                ].flat().filter(item => item).join(' '),\n            };\n        });\n        return paths;\n    }\n\n    confidenceDataForChannel(channelNumber, position) {\n        if (!this.transcription || !this.transcription[channelNumber]) {\n            return [];\n        }\n        return this.transcription[channelNumber].Words.map(word => [{\n            x: word.s,\n            y: position.top + word.c * position.height,\n        }, {\n            x: word.e,\n            y: position.top + word.c * position.height,\n        }]).flat();\n    }\n\n    noiseDataForChannel(channelNumber) {\n        if (!this.transcription || !this.transcription[channelNumber]) {\n            return [];\n        }\n        return [\n            { x: 0, y: 10 },\n            { x: 400, y: 5 },\n            { x: 2500, y: 20 },\n            { x: 5000, y: 7 },\n            { x: 60000, y: 17 },\n            { x: 900000, y: 20 },\n        ];\n    }\n\n    linesForKey(key) {\n        switch (key) {\n            case TRANSCRIPTION_CONFIDENCE:\n                return {\n                    1: {\n                        style: 'confidence',\n                        data: this.confidenceDataForChannel(1, { top: 55, height: 25 }),\n                        isStepped: true,\n                        isFloating: true,\n                    },\n                    2: {\n                        style: 'confidence',\n                        data: this.confidenceDataForChannel(2, { top: 20, height: 25 }),\n                        isStepped: true,\n                        isFloating: true,\n                    },\n                };\n            case BACKGROUND_NOISE_LEVEL:\n                return {\n                    1: {\n                        style: 'noise-primary',\n                        data: this.noiseDataForChannel(1),\n                        isCurved: true,\n                        isInverted: true,\n                    },\n                    2: {\n                        style: 'noise-secondary',\n                        data: this.noiseDataForChannel(2),\n                        isCurved: true,\n                    },\n                };\n            default:\n                return {};\n        }\n    }\n}\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { BACKGROUND_NOISE_LEVEL } from '../../store/constants/metrics-layers';\nimport styles from './MetricsTimelineLayer.module.scss';\nimport { layerStyleWithScrubBounds, viewBoxForRange } from '../../shared/utility/timeline';\nimport { scrubType, timelineType, transcriptionDataType } from '../../shared/types';\nimport Metrics from './Metrics';\n\nclass MetricsTimelineLayer extends Component {\n    static scrubLegend(metric) {\n        return [\n            (\n                <div className={styles['key-info-box']} key={0}>\n                    <div className={styles[metric]}>\n                        {Metrics.nameForKey(metric)}\n                    </div>\n                </div>\n            ),\n        ];\n    }\n\n    pathForMetric() {\n        const { metricType, plotWholeTimeline, transcriptionData } = this.props;\n        const metrics = new Metrics().useData(transcriptionData);\n        const metric = metrics.forKey(metricType);\n        const { name, paths } = metric;\n        if (!paths || !Object.keys(paths).length) {\n            return null;\n        }\n        return (\n            <g key={name}>\n                {Object.keys(paths).map((uuid) => {\n                    const path = paths[uuid];\n                    const style = metricType === BACKGROUND_NOISE_LEVEL && plotWholeTimeline ? 'noise' : path.style;\n                    return (\n                        <path\n                            key={uuid}\n                            className={`${styles.plotline} ${styles[style]}`}\n                            d={path.path}\n                        />\n                    );\n                })}\n            </g>\n        );\n    }\n\n    render() {\n        const {\n            scrub,\n            plotWholeTimeline,\n            timeline,\n        } = this.props;\n        const style = {\n            ...layerStyleWithScrubBounds(plotWholeTimeline, scrub),\n            marginLeft: `${timeline.transcriptionOffsetPercentage()}%`,\n        };\n        return (\n            <div className={styles.LayerContent} style={style}>\n                <svg width=\"100%\" height=\"100%\" viewBox={viewBoxForRange(timeline)} preserveAspectRatio=\"none\">\n                    {this.pathForMetric()}\n                </svg>\n            </div>\n        );\n    }\n}\n\nMetricsTimelineLayer.propTypes = {\n    plotWholeTimeline: PropTypes.bool,\n    scrub: scrubType.isRequired,\n    timeline: timelineType.isRequired,\n    metricType: PropTypes.string.isRequired,\n    transcriptionData: transcriptionDataType.isRequired,\n};\n\nMetricsTimelineLayer.defaultProps = {\n    plotWholeTimeline: false,\n};\n\nexport default MetricsTimelineLayer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { scrubType, timelineType, transcriptionDataType } from '../shared/types';\nimport MetricsTimelineLayer from '../components/MetricsTimelineLayer/MetricsTimelineLayer';\nimport { getTimeline } from '../store/selectors';\nimport { getRawDataFromTranscriptionState } from '../store/selectors/common-selectors';\n\nfunction MetricsTimelineLayerContainer(props) {\n    const {\n        metricType,\n        scrub,\n        plotWholeTimeline,\n        timeline,\n        transcriptionData,\n    } = props;\n    return (\n        <MetricsTimelineLayer\n            timeline={timeline}\n            metricType={metricType}\n            scrub={scrub}\n            plotWholeTimeline={plotWholeTimeline}\n            transcriptionData={transcriptionData}\n        />\n    );\n}\n\nMetricsTimelineLayerContainer.propTypes = {\n    plotWholeTimeline: PropTypes.bool,\n    scrub: scrubType.isRequired,\n    timeline: timelineType.isRequired,\n    metricType: PropTypes.string.isRequired,\n    transcriptionData: transcriptionDataType.isRequired,\n};\n\nMetricsTimelineLayerContainer.defaultProps = {\n    plotWholeTimeline: false,\n};\n\nconst mapStateToProps = (state) => {\n    const { scrub } = state;\n    return {\n        scrub,\n        timeline: getTimeline(state),\n        transcriptionData: getRawDataFromTranscriptionState(state),\n    };\n};\n\nexport default connect(mapStateToProps)(MetricsTimelineLayerContainer);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './Scrubber.scss';\nimport { scrubType } from '../../shared/types';\nimport { STATUS_EMPTY, STATUS_LOADING } from '../../store/constants/data';\n\nclass Scrubber extends Component {\n    noAgentDataState(id) {\n        const { emptyText } = this.props;\n        return (\n            <section className=\"Scrubber\" id={id}>\n                <div className=\"timeline-scrubber-container empty\">\n                    {emptyText}\n                </div>\n            </section>\n        );\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isDragging: {\n                start: false,\n                end: false,\n            },\n            isMoving: false,\n            didDrag: false,\n        };\n        this.handleMouseDown = this.handleMouseDown.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleScroll = this.handleScroll.bind(this);\n    }\n\n    componentDidMount() {\n        this.node = null;\n        window.addEventListener('mouseup', this.handleClick.bind(this));\n        window.addEventListener('mousemove', this.handleMouseMove.bind(this));\n    }\n\n    componentWillUnmount() {\n        this.node = null;\n        window.removeEventListener('mouseup', this.handleClick.bind(this));\n        window.removeEventListener('mousemove', this.handleMouseMove.bind(this));\n    }\n\n    setDragState(dragStart, dragEnd, moveScrub, didDrag) {\n        this.setState({\n            isDragging: {\n                start: dragStart,\n                end: dragEnd,\n            },\n            isMoving: moveScrub,\n            didDrag,\n        });\n    }\n\n    setScrub(percentage, clicked = false) {\n        const { isMoving, isDragging } = this.state;\n        const { scrub, onScrubDragged } = this.props;\n        if (isMoving) {\n            const width = scrub.end - scrub.start;\n            const start = clicked ? Math.max(percentage - width / 2, 0) : Math.max(percentage - this.pointerOffset, 0);\n            const end = clicked ? Math.min(percentage + width / 2, 100) : Math.min(percentage - this.pointerOffset + width, 100);\n            this.updateScrubState({\n                start: Math.min(start, 100 - width),\n                end: Math.max(end, width),\n            });\n            if (!clicked) {\n                if (typeof onScrubDragged === 'function') {\n                    onScrubDragged();\n                }\n            }\n        } else {\n            const start = isDragging.start ? Math.min(scrub.end - 0.1, percentage) : scrub.start;\n            const end = isDragging.end ? Math.max(scrub.start + 0.1, percentage) : scrub.end;\n            this.updateScrubState({\n                start: Math.max(0, start),\n                end: Math.min(100, end),\n            });\n        }\n    }\n\n    updateScrubState(scrub) {\n        const { onScrubPositionChange } = this.props;\n        if (typeof onScrubPositionChange === 'function') {\n            onScrubPositionChange({ ...scrub, isUserModified: this.isUserModifyingScrub() });\n        } else {\n            this.scrub = scrub;\n        }\n    }\n\n    updatePlayhead(event) {\n        const { onSetPlayhead } = this.props;\n        if (typeof onSetPlayhead === 'function') {\n            const bounds = this.node.getBoundingClientRect();\n            const position = 100 / bounds.width * (event.pageX - bounds.x);\n            this.setScrub(position, true);\n            onSetPlayhead(position, true);\n        }\n    }\n\n    scrubPercentage(event) {\n        if (!(this.node instanceof HTMLElement)) {\n            return 0;\n        }\n        const bounds = this.node.getBoundingClientRect();\n        const minX = bounds.x;\n        const clickX = event.pageX - minX;\n        return (100 / bounds.width) * clickX;\n    }\n\n    handleMouseDown(event) {\n        this.node = event.target;\n        const clickPercent = this.scrubPercentage(event);\n        const { scrub, onSetPlayhead } = this.props;\n        if (clickPercent < 2) {\n            onSetPlayhead(0.7, true);\n        }\n        const distanceFromStart = Math.min(clickPercent - scrub.start, 2);\n        const distanceFromEnd = Math.min(scrub.end - clickPercent, 2);\n        switch (true) {\n            case distanceFromStart < 2 && distanceFromStart > -3:\n                this.setDragState(true, false, false, true);\n                break;\n\n            case distanceFromEnd < 2 && distanceFromEnd > -3:\n                this.setDragState(false, true, false, true);\n                break;\n\n            default:\n                this.pointerOffset = clickPercent - scrub.start;\n                this.setDragState(false, false, true, false);\n                break;\n        }\n    }\n\n    handleMouseMove(event) {\n        if (!(this.node instanceof HTMLElement)) {\n            return;\n        }\n        if (event.buttons !== 0) {\n            this.setScrub(this.scrubPercentage(event));\n        }\n    }\n\n    handleClick(event) {\n        const { didDrag } = this.state;\n        if (!(this.node instanceof HTMLElement) || didDrag) {\n            this.node = null;\n            return;\n        }\n        this.hold = clearTimeout(this.hold);\n        this.updatePlayhead(event);\n        this.node = null;\n    }\n\n    handleScroll(event) {\n        const { scrub } = this.props;\n        this.handleClick(event);\n        const zoomFactor = 0.5;\n        let zoom;\n        if (event.deltaY < 0) {\n            zoom = -zoomFactor;\n        } else if (event.deltaY > 0) {\n            zoom = zoomFactor;\n        }\n        const newScrub = {\n            start: Math.max(0, scrub.start - zoom),\n            end: Math.min(100, scrub.end + zoom),\n        };\n        if (newScrub.start > newScrub.end) {\n            return;\n        }\n        this.updateScrubState(newScrub);\n    }\n\n    isUserModifyingScrub() {\n        const { isDragging, isMoving } = this.state;\n        return isDragging.left || isDragging.right || isMoving;\n    }\n\n    /* TODO: Add keyboard listeners */\n    render() {\n        /* eslint-disable jsx-a11y/click-events-have-key-events */\n        const {\n            id,\n            status,\n            scrub,\n            children,\n            isVisible,\n        } = this.props;\n        if (status === STATUS_LOADING) {\n            return null;\n        }\n        if (status === STATUS_EMPTY) {\n            return this.noAgentDataState(id);\n        }\n        if (!isVisible) {\n            return null;\n        }\n\n        const marginLeft = `${scrub.start}%`;\n        const marginRight = `${100 - scrub.end}%`;\n        return (\n            <section className=\"Scrubber\" id={id}>\n                <div\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"timeline-scrubber-container\"\n                    onMouseDown={this.handleMouseDown}\n                >\n                    <div\n                        role=\"button\"\n                        tabIndex={0}\n                        className=\"timeline-scrubber\"\n                    >\n                        <div className=\"scrub-window\" style={{ marginLeft, marginRight }} />\n                        <div className=\"scrub-content\">\n                            {children}\n                        </div>\n                        <div className=\"scrub-control\" style={{ marginLeft, marginRight }}>\n                            <div className=\"scrub-handle left\">\n                                <svg width=\"2px\" height=\"16px\" viewBox=\"0 0 2 16\">\n                                    <rect\n                                        x=\"0\"\n                                        y=\"0\"\n                                        rx=\"1\"\n                                        ry=\"1\"\n                                        width=\"2\"\n                                        height=\"16\"\n                                        style={{ fill: 'white', stroke: 'none' }}\n                                    />\n                                </svg>\n                            </div>\n                            <div className=\"scrub-handle right\">\n                                <svg width=\"2px\" height=\"16px\" viewBox=\"0 0 2 16\">\n                                    <rect\n                                        x=\"0\"\n                                        y=\"0\"\n                                        rx=\"1\"\n                                        ry=\"1\"\n                                        width=\"2\"\n                                        height=\"16\"\n                                        style={{ fill: 'white', stroke: 'none' }}\n                                    />\n                                </svg>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        );\n        /* eslint-enable jsx-a11y/click-events-have-key-events */\n    }\n}\n\nScrubber.propTypes = {\n    id: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    scrub: scrubType.isRequired,\n    status: PropTypes.string,\n    onScrubPositionChange: PropTypes.func,\n    onSetPlayhead: PropTypes.func,\n    onScrubDragged: PropTypes.func,\n    isVisible: PropTypes.bool.isRequired,\n    emptyText: PropTypes.string,\n};\n\nScrubber.defaultProps = {\n    id: undefined,\n    status: undefined,\n    onScrubPositionChange: undefined,\n    onSetPlayhead: undefined,\n    onScrubDragged: undefined,\n    emptyText: null,\n};\n\nexport default Scrubber;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { scrubType } from '../shared/types';\nimport Scrubber from '../components/Scrubber/Scrubber';\nimport { movePlayHead, moveScrubber, pause } from '../store/actions/actions';\nimport { getScrubberVisibility, getStatus } from '../store/selectors/common-selectors';\nimport getEmptyDataText from '../store/selectors/emptyDataText';\n\nfunction ScrubberContainer(props) {\n    const {\n        id,\n        children,\n        scrub,\n        status,\n        onScrubPositionChange,\n        onSetPlayhead,\n        onScrubDragged,\n        isVisible,\n        emptyText,\n    } = props;\n    return (\n        <Scrubber\n            id={id}\n            status={status}\n            scrub={scrub}\n            onScrubPositionChange={onScrubPositionChange}\n            onSetPlayhead={onSetPlayhead}\n            onScrubDragged={onScrubDragged}\n            isVisible={isVisible}\n            emptyText={emptyText}\n        >\n            {children}\n        </Scrubber>\n    );\n}\n\nScrubberContainer.propTypes = {\n    id: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    scrub: scrubType.isRequired,\n    status: PropTypes.string.isRequired,\n    onScrubPositionChange: PropTypes.func.isRequired,\n    onSetPlayhead: PropTypes.func.isRequired,\n    onScrubDragged: PropTypes.func.isRequired,\n    isVisible: PropTypes.bool.isRequired,\n    emptyText: PropTypes.string,\n};\n\nScrubberContainer.defaultProps = {\n    id: undefined,\n    emptyText: null,\n};\n\nconst mapStateToProps = (state) => {\n    const { scrub } = state;\n    return {\n        scrub,\n        status: getStatus(state),\n        isVisible: getScrubberVisibility(state),\n        emptyText: getEmptyDataText(state),\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onSetPlayhead: (position, isUserAction) => {\n        dispatch(movePlayHead(position, isUserAction));\n    },\n    onScrubPositionChange: (scrub) => {\n        dispatch(moveScrubber(scrub));\n    },\n    onScrubDragged: () => {\n        dispatch(pause());\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScrubberContainer);\n","export default __webpack_public_path__ + \"static/media/icon-answer.b4e2108d.svg\";","export default __webpack_public_path__ + \"static/media/icon-waiting.88d74cc5.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './StandardChannelEventsLayer.module.scss';\nimport iconOnHold from '../../assets/svgs/icon-on-hold.svg';\nimport iconConference from '../../assets/svgs/icon-conference.svg';\nimport iconPause from '../../assets/svgs/icon-pause.svg';\nimport iconTransfer from '../../assets/svgs/icon-transfer.svg';\nimport iconAnswer from '../../assets/svgs/icon-answer.svg';\nimport iconWaiting from '../../assets/svgs/icon-waiting.svg';\nimport {\n    calculatePositionPercentage,\n    calculatePositionPercentageWithOffset,\n    calculateWidthPercentage,\n    layerStyleWithScrubBounds,\n} from '../../shared/utility/timeline';\nimport {\n    dataType,\n    eventsType,\n    participantsType,\n    scrubType,\n    timelineType,\n    statusType,\n    keyCallersType, activeLayersType,\n} from '../../shared/types';\nimport {\n    FILTER_CALL_QUEUING,\n    FILTER_HOLD_UNHOLD,\n    FILTER_LISTEN_IN,\n    FILTER_NEW_PARTY,\n    FILTER_TRANSFER,\n} from '../../store/constants/metrics-layers';\nimport { STATUS_OK } from '../../store/constants/data';\n\nclass StandardChannelEventsLayer extends Component {\n    static iconImage(flags, isStartIcon) {\n        const {\n            isHold,\n            isParkedTransfer,\n            isConferenceIn,\n            isRecordStart,\n            isRecordStop,\n            isChannelAnswer,\n            isChannelRing,\n            isCallStart,\n            isBridge,\n        } = flags;\n        switch (true) {\n            case isParkedTransfer && isStartIcon:\n            case isHold:\n                return iconOnHold;\n            case isConferenceIn:\n                return iconConference;\n            case isStartIcon && isRecordStop:\n                return iconPause;\n            case isChannelAnswer:\n                return iconAnswer;\n            case !isStartIcon && isChannelRing:\n                return iconWaiting;\n            case isBridge && !isStartIcon:\n                return iconTransfer;\n            // Do not display icon under these conditions\n            case !isStartIcon && isRecordStop:\n            case isStartIcon && isChannelRing:\n            case isCallStart && isStartIcon:\n            case isRecordStart:\n                return null;\n            default:\n                return null;\n        }\n    }\n\n    static iconLabel(flags) {\n        const {\n            isBridge,\n            isChannelStart,\n            isChannelRing,\n            isChannelAnswer,\n            isChannelEnd,\n            isChannelComplete,\n            isConferenceIn,\n            isConferenceOut,\n            isHold,\n            isListenIn,\n            isListenInBarge,\n            isListenInDisconnect,\n            isListenInWhisper,\n            isParkOtherForTransfer,\n            isParkedTransfer,\n            isQueuing,\n            isRecordStart,\n            isRecordStop,\n            isRequestOnHold,\n            isRequestUnHold,\n            isRouting,\n            isUnBridge,\n            isUnHold,\n        } = flags;\n        switch (true) {\n            case isChannelStart:\n                return 'Channel start';\n            case isChannelRing:\n                return 'Channel ring';\n            case isChannelAnswer:\n                return 'Channel answer';\n            case isChannelEnd:\n                return 'Channel end';\n            case isChannelComplete:\n                return 'Channel complete';\n\n            case isConferenceIn:\n                return 'Conference';\n            case isConferenceOut:\n                return 'Conference end';\n\n            case isHold:\n                return 'On Hold';\n            case isUnHold:\n                return 'Un-hold';\n            case isRequestOnHold:\n                return 'On hold';\n            case isRequestUnHold:\n                return 'Un-hold';\n\n            case isRecordStart:\n                return 'Un-pause';\n            case isRecordStop:\n                return 'Pause';\n\n            case isParkedTransfer:\n                return 'Start transfer';\n            case isParkOtherForTransfer:\n                return 'Start transfer';\n\n            case isBridge:\n                return 'Complete Transfer';\n            case isListenIn:\n                return 'Listen in';\n            case isListenInBarge:\n                return 'Barge';\n            case isListenInDisconnect:\n                return 'Listen in end';\n            case isListenInWhisper:\n                return 'Whisper';\n            case isQueuing:\n                return 'Queueing';\n            case isRouting:\n                return 'Routing';\n            case isUnBridge:\n                return 'Disconnect';\n\n            default:\n                return Object.keys(flags).join(' ');\n        }\n    }\n\n    static iconImageForEvent(event, isStartIcon) {\n        const flags = isStartIcon ? event.startFlags : event.endFlags;\n        return StandardChannelEventsLayer.iconImage(flags, isStartIcon);\n    }\n\n    static icon(event, isStartIcon, classes = {}, style = {}, shouldMicroCluster = false) {\n        const flags = isStartIcon ? event.startFlags : event.endFlags;\n        const className = classNames({\n            ...classes,\n            [styles.startIcon]: isStartIcon,\n            [styles.endIcon]: !isStartIcon && !shouldMicroCluster,\n            [styles.microClusteredEndIcon]: !isStartIcon && shouldMicroCluster,\n        });\n        const icon = StandardChannelEventsLayer.iconImage(flags, isStartIcon);\n        if (icon === null) {\n            return null;\n        }\n        let label = StandardChannelEventsLayer.iconLabel(flags, isStartIcon);\n        if (!shouldMicroCluster) {\n            return (\n                <img src={icon} className={className} style={style} data-tooltip={label} alt={label} />\n            );\n        }\n        const startLabel = StandardChannelEventsLayer.iconLabel(event.startFlags, true);\n        label = `${startLabel}<br/>${label}`;\n        const containerClassName = classNames({\n            [styles.microClusteredEndIconContainer]: true,\n        });\n        return (\n            <div className={containerClassName} style={style}>\n                <img src={icon} className={className} style={style} data-tooltip={label} alt={label} />\n            </div>\n        );\n    }\n\n    static markerLineClasses(event) {\n        const { startFlags, endFlags } = event;\n        return {\n            [styles.markerLines]: true,\n            [styles.leftLine]: startFlags.isParkedTransfer === true,\n            [styles.rightLine]: endFlags.isBridge === true,\n        };\n    }\n\n    static markerLineStyles(event, participant) {\n        const { startFlags, endFlags } = event;\n        return {\n            borderLeftColor: startFlags.isParkedTransfer === true ? participant.color : '#000',\n            borderRightColor: endFlags.isBridge === true ? participant.color : '#000',\n        };\n    }\n\n    static filterRoutingEvents(isDisplayingRouting) {\n        return (event) => {\n            if (isDisplayingRouting) {\n                return true;\n            }\n            return event.endFlags.isChannelAnswer !== true && event.endFlags.isChannelRing !== true;\n        };\n    }\n\n    static filterRequiredForEvent(event) {\n        const { startFlags } = event;\n        switch (true) {\n            case startFlags.isHold === true:\n                return FILTER_HOLD_UNHOLD;\n            case startFlags.isParkedTransfer === true:\n            case startFlags.isBridge === true:\n                return FILTER_TRANSFER;\n            case startFlags.isListenIn === true\n            || startFlags.isListenInBarge === true\n            || startFlags.isListenInWhisper === true:\n                return FILTER_LISTEN_IN;\n            case startFlags.isQueuing === true:\n                return FILTER_CALL_QUEUING;\n            case startFlags.isCsStateChange === true:\n                return FILTER_NEW_PARTY;\n            default:\n                return null;\n        }\n    }\n\n    static filterSelectedEvents(isAlwaysShown, activeLayers) {\n        return (event) => {\n            if (isAlwaysShown) {\n                return true;\n            }\n            const filter = StandardChannelEventsLayer.filterRequiredForEvent(event);\n            if (filter != null) {\n                return activeLayers.includes(StandardChannelEventsLayer.filterRequiredForEvent(event));\n            }\n            return true;\n        };\n    }\n\n    eventElements(participants, eventsByParticipants) {\n        const {\n            scrub,\n            timeline,\n            plotWholeTimeline,\n            activeLayers,\n            status: {\n                isDisplaying: {\n                    routing: isDisplayingRouting,\n                },\n            },\n        } = this.props;\n        const scrubAsTime = {\n            start: timeline.start + (timeline.range * scrub.start / 100),\n            end: timeline.start + (timeline.range * scrub.end / 100),\n        };\n        const scrubWidthAsTime = scrubAsTime.end - scrubAsTime.start;\n        const microClusterThreshold = scrubWidthAsTime * 0.02;\n        return Object.keys(participants).map(key => eventsByParticipants[key].events\n            .filter(StandardChannelEventsLayer.filterRoutingEvents(isDisplayingRouting))\n            .filter(StandardChannelEventsLayer.filterSelectedEvents(!plotWholeTimeline, activeLayers))\n            .map((event, index) => {\n                const {\n                    isHold,\n                    isBridge,\n                    isUnBridge,\n                    isRecordStop,\n                    isParkedTransfer,\n                    isRouting,\n                    isSecondary,\n                    isChannelStart,\n                    isChannelRing,\n                } = event.startFlags;\n                if (isUnBridge || isRouting) return null;\n                const isStartFullHeight = plotWholeTimeline || isHold || isRecordStop;\n                const isEndFullHeight = plotWholeTimeline || isHold || isRecordStop || isBridge;\n                const subHeightTop = isSecondary ? 55 : 18;\n                const containerClass = classNames({\n                    ...StandardChannelEventsLayer.markerLineClasses(event),\n                    [styles.small]: true,\n                    [styles.eventContainer]: true,\n                });\n                const leftMost = scrubAsTime.start;\n                const rightMost = scrubAsTime.end;\n                const left = event.start < leftMost && event.end > leftMost ? leftMost : event.start;\n                const right = event.end > rightMost && event.start < rightMost ? rightMost : event.end;\n                const containerStyle = {\n                    ...StandardChannelEventsLayer.markerLineStyles(event, participants[key]),\n                    left: calculatePositionPercentage(left, timeline),\n                    width: calculateWidthPercentage(left, right, timeline),\n                    textAlign: 'center',\n                };\n                const eventClass = classNames({\n                    [styles.event]: true,\n                    [styles.transfer]: isParkedTransfer,\n                    [styles.hold]: isHold,\n                    [styles.pause]: isRecordStop,\n                    [styles.start]: isChannelStart,\n                    [styles.ring]: isChannelRing,\n                    [styles.bridge]: isBridge,\n                    [styles.wholeTimeline]: plotWholeTimeline,\n                });\n                const eventStyle = {\n                    top: `${isStartFullHeight ? 0 : subHeightTop}%`,\n                    height: `${isStartFullHeight ? 100 : 28}%`,\n                    borderRadius: `${isStartFullHeight ? '0' : '4px'}`,\n                };\n                const startIconStyle = {\n                    top: `${isStartFullHeight ? 0 : subHeightTop + 8}%`,\n                };\n                const endIconStyle = {\n                    top: `${isEndFullHeight ? 0 : subHeightTop + 8}%`,\n                };\n                let shouldMicroCluster = event.duration > 0 && event.duration < microClusterThreshold;\n                if (!plotWholeTimeline && shouldMicroCluster) {\n                    const startIcon = StandardChannelEventsLayer.iconImageForEvent(event, true);\n                    const endIcon = StandardChannelEventsLayer.iconImageForEvent(event, false);\n                    if (startIcon === null || endIcon === null) {\n                        shouldMicroCluster = false; // Don't micro-cluster if only one icon is visible\n                    }\n                }\n                return (\n                    <div\n                        key={`container-${index}-${event.event}${event.start}${event.end}`}\n                        className={containerClass}\n                        style={containerStyle}\n                    >\n                        <div\n                            key={`event-${index}-${event.event}${event.start}${event.end}`}\n                            className={eventClass}\n                            style={eventStyle}\n                        />\n                        {!plotWholeTimeline && !shouldMicroCluster && StandardChannelEventsLayer.icon(\n                            event,\n                            true,\n                            { 'translate-r50': left === leftMost, [styles.iconLevel]: true },\n                            startIconStyle,\n                        )}\n                        {!plotWholeTimeline && StandardChannelEventsLayer.icon(\n                            event,\n                            false,\n                            { 'translate-l50': right === rightMost, [styles.iconLevel]: true },\n                            endIconStyle, shouldMicroCluster,\n                        )}\n                    </div>\n                );\n            }));\n    }\n\n    routingOverlay() {\n        const {\n            participants, eventsByParticipants, keyCallers, timeline,\n        } = this.props;\n        const primaryClass = classNames({\n            [styles.routing]: true,\n            [styles.primary]: true,\n        });\n        const secondaryClass = classNames({\n            [styles.routing]: true,\n            [styles.secondary]: true,\n        });\n        if (!participants || !eventsByParticipants) {\n            return null;\n        }\n        const primaryKey = Object.keys(participants).filter(key => participants[key].isPrimary).shift();\n        const { events } = eventsByParticipants[primaryKey];\n        const [firstEvent] = events.sort((event1, event2) => event1.start > event2.start);\n        if (!firstEvent) {\n            return null;\n        }\n        const position = firstEvent.start;\n        const overlayStyle = {\n            width: calculatePositionPercentageWithOffset(position, timeline),\n        };\n        const primaryChannelStyle = {\n            borderColor: keyCallers.colors ? keyCallers.colors[0] : '#000',\n        };\n        const secondaryChannelStyle = {\n            borderColor: keyCallers.colors ? keyCallers.colors[1] : '#000',\n        };\n        return (\n            <div className={styles.routingOverlay} style={overlayStyle}>\n                <div className={primaryClass} style={primaryChannelStyle} />\n                <div className={styles.unrecordedTimeLabel}>\n                    Unrecorded call time\n                </div>\n                <div className={secondaryClass} style={secondaryChannelStyle} />\n            </div>\n        );\n    }\n\n    render() {\n        const {\n            plotWholeTimeline,\n            scrub,\n            participants,\n            eventsByParticipants,\n            status: {\n                status,\n                isDisplaying: {\n                    routing: isDisplayRouting,\n                },\n            },\n        } = this.props;\n        if (status !== STATUS_OK) {\n            return null;\n        }\n        const eventElements = eventsByParticipants !== null\n            ? this.eventElements(participants, eventsByParticipants) : null;\n\n        const routingOverlay = !plotWholeTimeline && isDisplayRouting ? this.routingOverlay() : null;\n        return (\n            <div className={styles.LayerContent} style={layerStyleWithScrubBounds(plotWholeTimeline, scrub)}>\n                {eventElements}\n                {routingOverlay}\n            </div>\n        );\n    }\n}\n\nStandardChannelEventsLayer.propTypes = {\n    data: dataType.isRequired,\n    padding: PropTypes.number,\n    plotWholeTimeline: PropTypes.bool,\n    scrub: scrubType.isRequired,\n    timeline: timelineType.isRequired,\n    participants: participantsType.isRequired,\n    eventsByParticipants: eventsType,\n    status: statusType.isRequired,\n    keyCallers: keyCallersType,\n    activeLayers: activeLayersType,\n};\n\nStandardChannelEventsLayer.defaultProps = {\n    padding: 10,\n    plotWholeTimeline: false,\n    keyCallers: {},\n    activeLayers: [],\n};\n\nexport default StandardChannelEventsLayer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n    dataType, eventsType,\n    participantsType,\n    scrubType,\n    timelineType,\n    statusType,\n    keyCallersType,\n    activeLayersType,\n} from '../shared/types';\nimport StandardChannelEventsLayer from '../components/StandardChannelEventsLayer/StandardChannelEventsLayer';\nimport { getTimeline } from '../store/selectors';\nimport { getEventsByParticipants, getKeyCallers, getParticipants } from '../store/selectors/common-selectors';\n\nfunction StandardChannelEventsLayerContainer(props) {\n    const {\n        data,\n        padding,\n        scrub,\n        status,\n        plotWholeTimeline,\n        timeline,\n        participants,\n        eventsByParticipants,\n        keyCallers,\n        activeLayers,\n    } = props;\n    return (\n        <StandardChannelEventsLayer\n            timeline={timeline}\n            data={data}\n            scrub={scrub}\n            status={status}\n            padding={padding}\n            plotWholeTimeline={plotWholeTimeline}\n            participants={participants}\n            eventsByParticipants={eventsByParticipants}\n            keyCallers={keyCallers}\n            activeLayers={activeLayers}\n        />\n    );\n}\n\nStandardChannelEventsLayerContainer.propTypes = {\n    data: dataType.isRequired,\n    padding: PropTypes.number,\n    plotWholeTimeline: PropTypes.bool,\n    scrub: scrubType.isRequired,\n    timeline: timelineType.isRequired,\n    participants: participantsType.isRequired,\n    eventsByParticipants: eventsType,\n    status: statusType.isRequired,\n    keyCallers: keyCallersType.isRequired,\n    activeLayers: activeLayersType,\n};\n\nStandardChannelEventsLayerContainer.defaultProps = {\n    padding: 10,\n    plotWholeTimeline: false,\n    eventsByParticipants: null,\n    activeLayers: [],\n};\n\nconst mapStateToProps = (state) => {\n    const {\n        data,\n        scrub,\n        status,\n        activeLayers,\n    } = state;\n\n    return {\n        data,\n        scrub,\n        status,\n        activeLayers,\n        timeline: getTimeline(state),\n        participants: getParticipants(state),\n        eventsByParticipants: getEventsByParticipants(state),\n        keyCallers: getKeyCallers(state),\n    };\n};\n\nexport default connect(mapStateToProps)(StandardChannelEventsLayerContainer);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport EventTimelineContainer from '../../containers/EventTimelineContainer';\nimport MetricsTimelineLayerContainer from '../../containers/MetricsTimelineLayerContainer';\nimport ScrubberContainer from '../../containers/ScrubberContainer';\nimport { activeLayersType } from '../../shared/types';\nimport { BACKGROUND_NOISE_LEVEL, TRANSCRIPTION_CONFIDENCE } from '../../store/constants/metrics-layers';\nimport MetricsTimelineLayer from '../MetricsTimelineLayer/MetricsTimelineLayer';\nimport StandardChannelEventsLayerContainer from '../../containers/StandardChannelEventsLayerContainer';\n\nfunction AuxiliaryScrubbers(props) {\n    const {\n        activeLayers,\n        onScrubberMoved,\n    } = props;\n\n    const layers = [BACKGROUND_NOISE_LEVEL, TRANSCRIPTION_CONFIDENCE]\n        .filter(layer => activeLayers.includes(layer));\n    const scrubbers = layers.map(layer => (\n        <ScrubberContainer\n            key={layer}\n            id={`metrics-scrubber-${layer}`}\n            infoSection={MetricsTimelineLayer.scrubLegend(layer)}\n            time=\" \"\n            onScrubPositionChange={onScrubberMoved}\n        >\n            <EventTimelineContainer\n                plotWholeTimeline\n                hideSentenceLayer\n            >\n                <StandardChannelEventsLayerContainer plotWholeTimeline />\n                <MetricsTimelineLayerContainer plotWholeTimeline metricType={layer} />\n            </EventTimelineContainer>\n        </ScrubberContainer>\n    ));\n\n    return (\n        scrubbers\n    );\n}\n\nAuxiliaryScrubbers.propTypes = {\n    activeLayers: activeLayersType.isRequired,\n    onScrubberMoved: PropTypes.func.isRequired,\n};\n\nexport default AuxiliaryScrubbers;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport AuxiliaryScrubbers from '../components/AuxiliaryScrubbers/AuxiliaryScrubbers';\nimport { activeLayersType } from '../shared/types';\nimport { moveScrubber } from '../store/actions/actions';\n\nfunction AuxiliaryScrubbersContainer(props) {\n    const {\n        activeLayers,\n        onScrubberMoved,\n    } = props;\n    return (\n        <AuxiliaryScrubbers activeLayers={activeLayers} onScrubberMoved={onScrubberMoved} />\n    );\n}\n\nconst mapStateToProps = (state) => {\n    const {\n        activeLayers,\n    } = state;\n\n    return {\n        activeLayers,\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onScrubberMoved: (scrub) => {\n        dispatch(moveScrubber(scrub));\n    },\n});\n\nAuxiliaryScrubbersContainer.propTypes = {\n    activeLayers: activeLayersType.isRequired,\n    onScrubberMoved: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuxiliaryScrubbersContainer);\n","import React, { Component } from 'react';\nimport Proptypes from 'prop-types';\nimport styles from './NoteModal.module.scss';\nimport { timeType } from '../../shared/types';\n\nclass TimeDropDown extends Component {\n    static handleKeyPress(event) {\n        if (event.key === 'Enter') {\n            event.target.blur();\n        }\n    }\n\n    static handleTextChange(event) {\n        const { target } = event;\n        target.value = target.value.replace(/\\D/, '');\n        if (target.value.length > 2) {\n            target.value = target.value.substr(0, 2);\n        }\n    }\n\n    constructor(props) {\n        super(props);\n        this.container = React.createRef();\n        const { time } = props;\n        this.state = {\n            dropDownOpen: false,\n            time,\n        };\n\n        this.timePickerConfig = [\n            {\n                id: 'hours',\n                ref: React.createRef(),\n                max: 23,\n                spacer: ':',\n            },\n            {\n                id: 'minutes',\n                ref: React.createRef(),\n                max: 59,\n                spacer: ':',\n            },\n            {\n                id: 'seconds',\n                ref: React.createRef(),\n                max: 59,\n                spacer: null,\n            },\n        ];\n        this.toggleDropDown.bind(this);\n        this.handleClickOutside = this.handleClickOutside.bind(this);\n    }\n\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    handleClickOutside(event) {\n        if (this.container.current && !this.container.current.contains(event.target)) {\n            const { time, dropDownOpen } = this.state;\n            const { setTime } = this.props;\n            if (dropDownOpen) {\n                setTime(time);\n            }\n            this.setState({\n                dropDownOpen: false,\n            });\n        }\n    }\n\n    toggleDropDown() {\n        const { timeChecked, canEdit } = this.props;\n        if (timeChecked && canEdit) {\n            this.setState(prevState => ({\n                dropDownOpen: !prevState.dropDownOpen,\n            }));\n        } else {\n            this.setState({\n                dropDownOpen: false,\n            });\n        }\n    }\n\n    handleLoseFocus(config, event) {\n        const { id, ref, max } = config;\n        const { time } = this.state;\n        let newValue = event.target.value.replace(/\\D/, '');\n        if (newValue.length > 2) {\n            newValue = newValue.substr(0, 2);\n        }\n        newValue = Math.min(newValue, max);\n        newValue = Math.max(newValue, 0);\n\n        this.setState({ time: { ...time, [id]: String(newValue).padStart(2, 0) } });\n        ref.current.value = String(newValue).padStart(2, 0);\n    }\n\n    increment(config) {\n        const { id, ref, max } = config;\n        const { time } = this.state;\n        let value = parseInt(ref.current.value, 10) + 1;\n        if (value > max) {\n            value = 0;\n        }\n        const storedValue = String(value).padStart(2, 0);\n        this.setState({ time: { ...time, [id]: storedValue } });\n        ref.current.value = storedValue;\n    }\n\n    decrement(config) {\n        const { id, ref, max } = config;\n        const { time } = this.state;\n        let value = parseInt(ref.current.value, 10) - 1;\n        if (value < 0) {\n            value = max;\n        }\n        const storedValue = String(value).padStart(2, 0);\n        this.setState({ time: { ...time, [id]: storedValue } });\n        ref.current.value = storedValue;\n    }\n\n    render() {\n        const { time, dropDownOpen } = this.state;\n        const { timeChecked } = this.props;\n        const timeOfEvent = timeChecked ? `${time.hours} : ${time.minutes} : ${time.seconds}` : 'N/A';\n        return (\n            <div className={`${styles.dropdown} ${styles.timeDropdown}`} ref={this.container}>\n                <div onClick={() => this.toggleDropDown()}>\n                    <div>\n                        {timeOfEvent}\n                    </div>\n                </div>\n\n                {dropDownOpen && (\n                    <div key=\"timePickerContent\" className={styles.timePicker}>\n                        {this.timePickerConfig.map(config => (\n                            [\n                                <div key={`${config.id}Picker`} className={styles.numberPicker}>\n                                    <button\n                                        key={config.id}\n                                        type=\"button\"\n                                        className={styles.upButton}\n                                        onClick={this.increment.bind(this, config)}\n                                    />\n                                    <input\n                                        ref={config.ref}\n                                        key={`${config.id}Input`}\n                                        type=\"number\"\n                                        className={styles.numberInput}\n                                        defaultValue={time[config.id]}\n                                        onInput={TimeDropDown.handleTextChange.bind(this)}\n                                        onKeyDown={TimeDropDown.handleKeyPress.bind(this)}\n                                        onBlur={this.handleLoseFocus.bind(this, config)}\n                                    />\n                                    <button\n                                        key={`${config.id}Button`}\n                                        type=\"button\"\n                                        className={styles.downButton}\n                                        onClick={this.decrement.bind(this, config)}\n                                    />\n                                </div>,\n                                (config.spacer !== null) ? <div key={`${config.id}Spacer`}>{config.spacer}</div> : '',\n                            ]\n                        ))}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nTimeDropDown.propTypes = {\n    time: timeType.isRequired,\n    timeChecked: Proptypes.bool.isRequired,\n    canEdit: Proptypes.bool.isRequired,\n    setTime: Proptypes.func.isRequired,\n};\n\nexport default TimeDropDown;\n","import React, { Component } from 'react';\nimport Proptypes from 'prop-types';\nimport styles from './NoteModal.module.scss';\nimport { userListType, userType } from '../../shared/types';\nimport Avatar from '../Avatar/Avatar';\n\nclass RelatingToDropdown extends Component {\n    static svgCircle(color, image) {\n        if (image !== 'undefined') {\n            return `<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'>\\\n<circle fill='${color.replace(/#/, '%23')}' id='a' cx='12' cy='12' r='9' />\\\n<image width=\"24px\" height=\"24px\" x=\"6px\" y=\"4px\" href='${image}'/></svg>`;\n        }\n        return `<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'>\\\n<circle fill='${color.replace(/#/, '%23')}' id='a' cx='12' cy='12' r='9' /></svg>`;\n    }\n\n    constructor(props) {\n        super(props);\n        this.container = React.createRef();\n        this.state = {\n            dropDownOpen: false,\n        };\n        this.toggleDropDown = this.toggleDropDown.bind(this);\n        this.handleClickOutside = this.handleClickOutside.bind(this);\n    }\n\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside);\n    }\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        const { selectedUser } = this.props;\n        const { dropDownOpen } = this.state;\n        const nextSelectedUser = nextProps.selectedUser;\n        return selectedUser !== nextSelectedUser || dropDownOpen !== nextState.dropDownOpen;\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    handleClickOutside(event) {\n        if (this.container.current && !this.container.current.contains(event.target)) {\n            this.setState({\n                dropDownOpen: false,\n            });\n        }\n    }\n\n    handleUserClick(uuid) {\n        const { handleUserClick } = this.props;\n        this.toggleDropDown();\n        handleUserClick(uuid);\n    }\n\n    toggleDropDown() {\n        const { isShared, canEdit } = this.props;\n        if (isShared || canEdit) {\n            this.setState(prevState => ({\n                dropDownOpen: !prevState.dropDownOpen,\n            }));\n        } else {\n            this.setState({\n                dropDownOpen: false,\n            });\n        }\n    }\n\n    relatingToList() {\n        const { userList } = this.props;\n        return userList.map((user) => {\n            const image = (\n                <Avatar\n                    isAvatar={!!user.avatar}\n                    url={user.avatar || user.icon}\n                    color={user.color}\n                />\n            );\n            return (\n                <div\n                    key={user.uuid}\n                    className={`${styles.dropdownItem} ${styles.dropdownItemWithIcon}`}\n                    onClick={this.handleUserClick.bind(this, user)}\n                >\n                    <div className={styles.dropdownItemIcon}>\n                        {image}\n                    </div>\n                    {user.title}\n                </div>\n            );\n        });\n    }\n\n    createUserButton() {\n        const { selectedUser } = this.props;\n        let userButton;\n        if (selectedUser) {\n            const image = (\n                <Avatar\n                    isAvatar={!!selectedUser.avatar}\n                    url={selectedUser.avatar || selectedUser.icon}\n                    color={selectedUser.color}\n                />\n            );\n            userButton = (\n                <div\n                    className={styles.dropdownButtonWithIcon}\n                    onClick={() => this.toggleDropDown()}\n                >\n                    <div className={styles.dropdownButtonIcon}>\n                        {image}\n                    </div>\n                    {selectedUser.title}\n                </div>\n            );\n        } else {\n            userButton = (\n                <div className={styles.dropdownButton} onClick={() => this.toggleDropDown()}>\n                    Please choose\n                </div>\n            );\n        }\n        return userButton;\n    }\n\n    render() {\n        const userButton = this.createUserButton();\n        const { dropDownOpen } = this.state;\n        return (\n            <div className={styles.dropdown} ref={this.container}>\n                {userButton}\n                {dropDownOpen && (\n                    <div className={styles.dropdownContent}>\n                        {this.relatingToList()}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nRelatingToDropdown.propTypes = {\n    selectedUser: userType,\n    userList: userListType.isRequired,\n    canEdit: Proptypes.bool.isRequired,\n    isShared: Proptypes.bool.isRequired,\n    handleUserClick: Proptypes.func.isRequired,\n};\n\nRelatingToDropdown.defaultProps = {\n    selectedUser: null,\n};\n\nexport default RelatingToDropdown;\n","import React, { Component } from 'react';\nimport Proptypes from 'prop-types';\nimport styles from './NoteModal.module.scss';\nimport { noteEventListType } from '../../shared/types';\n\nclass TypeDropdown extends Component {\n    constructor(props) {\n        super(props);\n        this.container = React.createRef();\n        this.state = {\n            dropDownOpen: false,\n        };\n\n        this.toggleDropDown = this.toggleDropDown.bind(this);\n        this.handleClickOutside = this.handleClickOutside.bind(this);\n    }\n\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    handleClickOutside(event) {\n        if (this.container.current && !this.container.current.contains(event.target)) {\n            this.setState({\n                dropDownOpen: false,\n            });\n        }\n    }\n\n    handleTypeClick(typeId) {\n        const { handleTypeClicked } = this.props;\n        this.toggleDropDown();\n        handleTypeClicked(typeId);\n    }\n\n    toggleDropDown() {\n        const { canEdit } = this.props;\n        if (canEdit) {\n            this.setState(prevState => ({\n                dropDownOpen: !prevState.dropDownOpen,\n            }));\n        } else {\n            this.setState({\n                dropDownOpen: false,\n            });\n        }\n    }\n\n    createTypeButton() {\n        const { selectedTypeId, eventTypesList } = this.props;\n        let typeButton;\n        const selectedType = eventTypesList.find(element => element.id === selectedTypeId);\n        if (selectedType) {\n            const style = {\n                backgroundRepeat: 'no-repeat, no-repeat',\n                backgroundPosition: 'left 0px top 50%, right 8px top 50%, 0 0',\n                backgroundSize: '18px 18px',\n            };\n            typeButton = (\n                <div\n                    style={style}\n                    className={styles.dropdownButton}\n                    onClick={() => this.toggleDropDown()}\n                >\n                    {selectedType.text}\n                </div>\n            );\n        } else {\n            typeButton = (\n                <div\n                    className={styles.dropdownButton}\n                    onClick={() => this.toggleDropDown()}\n                >\n                    Please choose\n                </div>\n            );\n        }\n\n        return typeButton;\n    }\n\n    renderTypeList() {\n        const { eventTypesList } = this.props;\n        return eventTypesList.map((type) => {\n            const style = {\n                backgroundImage: `url(${type.icon})`,\n                backgroundRepeat: 'no-repeat, repeat',\n                backgroundPosition: 'right 8px top 50%, 0 0',\n            };\n            return (\n                <div\n                    style={style}\n                    className={styles.dropdownItem}\n                    key={type.id}\n                    onClick={this.handleTypeClick.bind(this, type.id)}\n                >\n                    {type.text}\n                </div>\n            );\n        });\n    }\n\n    render() {\n        const typeButton = this.createTypeButton();\n        const { dropDownOpen } = this.state;\n        return (\n            <div className={styles.dropdown} ref={this.container}>\n                {typeButton}\n                {dropDownOpen && (\n                    <div className={styles.dropdownContent}>\n                        {this.renderTypeList()}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nTypeDropdown.propTypes = {\n    canEdit: Proptypes.bool.isRequired,\n    selectedTypeId: Proptypes.any,\n    eventTypesList: noteEventListType.isRequired,\n    handleTypeClicked: Proptypes.func.isRequired,\n};\n\nTypeDropdown.defaultProps = {\n    selectedTypeId: null,\n};\n\nexport default TypeDropdown;\n","/* eslint-disable react/jsx-one-expression-per-line */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './NoteModal.module.scss';\nimport { participantsType, notesType, timelineType } from '../../shared/types';\nimport { uuidv4, decode } from '../../shared/utility/formatting';\nimport TimeDropDown from './TimeDropDown';\nimport RelatingToDropdown from './RelatingToDropdown';\nimport TypeDropdown from './TypeDropdown';\nimport { CUSTOMER_TITLE } from '../../routes/api/Environment';\nimport { NoteEditMode } from '../../store/actions/notes';\nimport { getItemWithUuidFromArray } from '../../store/selectors/common-selectors';\nimport TranscriptionNoteContainer from '../../containers/TranscriptionNoteContainer';\nimport { GENERAL_NOTE_UUID } from '../../store/constants/notes';\n\nclass NoteModal extends Component {\n    static createUserList(participants) {\n        const userList = [];\n        Object.keys(participants).forEach((key) => {\n            const participant = participants[key];\n            if (participant.title !== CUSTOMER_TITLE) {\n                userList.push({\n                    uuid: participant.relatedUuids[0],\n                    title: (participant.name) ? participant.name : participant.title,\n                    icon: participant.image,\n                    color: participant.color,\n                    userId: participant.userId,\n                    avatar: participant.photoUrl,\n                });\n            }\n        });\n        userList.push({\n            uuid: GENERAL_NOTE_UUID, title: 'General', icon: null, color: '#adb3b7', userId: GENERAL_NOTE_UUID,\n        });\n        return userList;\n    }\n\n    constructor(props) {\n        super(props);\n\n        const {\n            primaryUuid,\n            notes,\n            timeline,\n            playhead,\n            meId,\n            meName,\n            participants,\n        } = props;\n        const { editMode, commentToEdit: commentId } = notes;\n        const selectedNote = notes.notes.find(note => note.noteId === notes.noteToEdit);\n        const commentToEdit = selectedNote ? getItemWithUuidFromArray(selectedNote.thread, commentId) : null;\n        if (selectedNote && Number.isNaN(selectedNote.timestamp)) selectedNote.timestamp = null;\n        const timeInUSeconds = selectedNote ? selectedNote.timestamp : (timeline.range * playhead / 100);\n        const timeInSeconds = timeInUSeconds / 1000000;\n        const hours = Math.floor(timeInSeconds / 3600);\n        const minutes = Math.floor((timeInSeconds % 3600) / 60);\n        const seconds = Math.floor(timeInSeconds % 60);\n        this.userList = NoteModal.createUserList(participants);\n        let canEdit;\n        if (NoteEditMode.isNew(editMode)) {\n            canEdit = true;\n        } else if (NoteEditMode.isComment(editMode)) {\n            canEdit = commentToEdit.author.toString() === meId;\n        } else {\n            canEdit = selectedNote.author.toString() === meId;\n        }\n        if (NoteEditMode.isExistingItem(editMode)) {\n            this.state = {\n                noteId: selectedNote.noteId,\n                selectedUser: (selectedNote.uuid)\n                    ? this.userList.find(element => (element.uuid === selectedNote.uuid)) : null,\n                typeId: selectedNote.eventType,\n                text: NoteEditMode.isNote(editMode) ? selectedNote.text : commentToEdit.comment,\n                timestamp: timeInUSeconds,\n                time: {\n                    seconds: String(seconds).padStart(2, 0),\n                    minutes: String(minutes).padStart(2, 0),\n                    hours: String(hours).padStart(2, 0),\n                },\n                author: selectedNote.author,\n                authorName: selectedNote.authorName,\n                timeChecked: (timeInUSeconds !== null),\n                shareChecked: !!(selectedNote.isShared),\n                acknowledgeChecked: !!selectedNote.isAcknowledged,\n                canShare: selectedNote.canShare,\n                isAcknowledged: !!selectedNote.isAcknowledged,\n                canAcknowledge: selectedNote.canAcknowledge,\n                isShared: !!(selectedNote.isShared),\n                channelUuid: selectedNote.channelUuid,\n                canEdit: canEdit && !selectedNote.isAcknowledged,\n                thread: selectedNote.thread,\n                polarity: selectedNote.polarity,\n                userActivity: selectedNote.userActivity,\n                version: selectedNote.version,\n            };\n        } else {\n            this.state = {\n                noteId: uuidv4(),\n                selectedUser: null,\n                typeId: null,\n                text: '',\n                timestamp: timeInUSeconds,\n                canShare: notes.canShare,\n                shareChecked: true,\n                acknowledgeChecked: false,\n                isAcknowledged: false,\n                canAcknowledge: false,\n                isShared: false,\n                time: {\n                    seconds: String(seconds).padStart(2, 0),\n                    minutes: String(minutes).padStart(2, 0),\n                    hours: String(hours).padStart(2, 0),\n                },\n                author: meId,\n                authorName: meName,\n                timeChecked: true,\n                channelUuid: primaryUuid,\n                canEdit: true,\n                thread: [],\n                polarity: 'Neutral',\n                userActivity: [],\n                version: 1.0,\n            };\n        }\n\n        this.typeList = notes.eventTypes;\n        this.timePickerConfig = [\n            {\n                id: 'hours',\n                ref: React.createRef(),\n                max: 23,\n                spacer: ':',\n            },\n            {\n                id: 'minutes',\n                ref: React.createRef(),\n                max: 59,\n                spacer: ':',\n            },\n            {\n                id: 'seconds',\n                ref: React.createRef(),\n                max: 59,\n                spacer: null,\n            },\n        ];\n\n        this.handleAddNoteClicked = this.handleAddNoteClicked.bind(this);\n        this.handleDeleteNoteClicked = this.handleDeleteNoteClicked.bind(this);\n        this.setTime = this.setTime.bind(this);\n        this.handleUserClick = this.handleUserClick.bind(this);\n        this.handleTypeClick = this.handleTypeClick.bind(this);\n        this.handlePolarityClick = this.handlePolarityClick.bind(this);\n        this.handleSubmitClicked = this.handleSubmitClicked.bind(this);\n        this.handleAddCommentClicked = this.handleAddCommentClicked.bind(this);\n        this.handleDeleteCommentClicked = this.handleDeleteCommentClicked.bind(this);\n    }\n\n    setTime(time) {\n        this.setState({\n            time,\n        });\n    }\n\n    handleUserClick(user) {\n        this.setState({ selectedUser: user });\n    }\n\n    handleTypeClick(id) {\n        this.setState({ typeId: id });\n    }\n\n    handlePolarityClick(id) {\n        this.setState({ polarity: id });\n    }\n\n    handleTextUpdate(event) {\n        this.setState({ text: event.target.value });\n    }\n\n    handleEventTimeChecked(event) {\n        this.setState({ timeChecked: event.target.checked });\n    }\n\n    handleShareNote(event) {\n        this.setState({ shareChecked: event.target.checked });\n    }\n\n    handleAcknowledgeNote(event) {\n        this.setState({ acknowledgeChecked: event.target.checked });\n    }\n\n    handleSubmitClicked() {\n        const { notes: { editMode } } = this.props;\n        if (NoteEditMode.isNote(editMode)) {\n            this.handleAddNoteClicked();\n        } else if (NoteEditMode.isComment(editMode)) {\n            this.handleAddCommentClicked();\n        }\n    }\n\n    handleAddNoteClicked() {\n        const { onUpdateNote, timeline } = this.props;\n        const {\n            noteId,\n            selectedUser,\n            typeId,\n            text,\n            timestamp,\n            time,\n            author,\n            authorName,\n            timeChecked,\n            channelUuid,\n            shareChecked,\n            canShare,\n            thread,\n            polarity,\n            userActivity,\n            version,\n        } = this.state;\n\n        if (typeId === null) {\n            window.alert('You must specify an event type');\n            return;\n        }\n\n        if (selectedUser === null || selectedUser === undefined) {\n            window.alert('You must specify who the note relates to');\n            return;\n        }\n\n        let totalTime = null;\n        if (timeChecked) {\n            totalTime = timestamp % 1000000;\n            totalTime = Number(totalTime + time.hours * 3600000000 + time.minutes * 60000000 + time.seconds * 1000000);\n\n            if (totalTime > timeline.range) {\n                window.alert('The time is greater than the recording length');\n                return;\n            }\n        }\n        const editedNote = {\n            noteId,\n            uuid: selectedUser.uuid,\n            timestamp: totalTime,\n            eventType: typeId,\n            author,\n            authorName,\n            text,\n            isShared: (selectedUser.uuid === GENERAL_NOTE_UUID) ? false : shareChecked,\n            channelUuid,\n            canShare,\n            thread,\n            polarity,\n            userActivity,\n            version,\n        };\n        onUpdateNote(editedNote);\n    }\n\n    handleAddCommentClicked() {\n        const {\n            notes: {\n                editMode, notes, noteToEdit, commentToEdit,\n            }, onUpdateNote, meId, meName,\n        } = this.props;\n        const { text } = this.state;\n        const currentTime = (new Date()).toISOString();\n        const note = notes.find(obj => obj.noteId === noteToEdit);\n        if (!note) {\n            return;\n        }\n        const newThread = NoteEditMode.isNew(editMode)\n            ? [\n                ...note.thread, {\n                    uuid: uuidv4(),\n                    comment: text,\n                    created: currentTime,\n                    modified: currentTime,\n                    author: meId,\n                    authorName: meName,\n                }] : note.thread.map(comment => ({\n                ...comment,\n                ...(comment.uuid === commentToEdit ? { comment: text, modified: currentTime } : null),\n            }));\n        onUpdateNote({\n            ...note,\n            thread: newThread,\n        }, currentTime);\n    }\n\n    handleDeleteNoteClicked() {\n        const { noteId } = this.state;\n        const { onDeleteNote } = this.props;\n        onDeleteNote(noteId);\n    }\n\n    handleDeleteCommentClicked() {\n        const {\n            notes: {\n                noteToEdit,\n                commentToEdit,\n            },\n            onDeleteComment,\n        } = this.props;\n        onDeleteComment(noteToEdit, commentToEdit);\n    }\n\n    titleForEditMode(editMode) {\n        switch (editMode) {\n            case NoteEditMode.existingNote:\n                return 'Edit note';\n            case NoteEditMode.newComment:\n                return 'Replying to:';\n            case NoteEditMode.existingComment:\n                return 'Edit reply to:';\n            default:\n                return 'New note';\n        }\n    }\n\n    buttonTextForEditMode(editMode) {\n        switch (editMode) {\n            case NoteEditMode.existingNote:\n                return 'Update note';\n            case NoteEditMode.newComment:\n                return 'Add comment';\n            case NoteEditMode.existingComment:\n                return 'Update comment';\n            default:\n                return 'Add note';\n        }\n    }\n\n    commentToReplyTo(notes, getParticipantById) {\n        const { editMode, noteToEdit, commentToEdit: commentId } = notes;\n        const note = notes.notes.find(note => note.noteId === noteToEdit);\n        const commentToEdit = getItemWithUuidFromArray(note.thread, commentId);\n        const event = notes.eventTypes.find(obj => obj.id === note.eventType);\n        const { color } = getParticipantById(note.uuid);\n        const threadUpToCommentToEdit = editMode === NoteEditMode.newComment\n            ? note\n            : {\n                ...note,\n                thread: note.thread.filter((comment, index) => index < note.thread.indexOf(commentToEdit)),\n            };\n        return (\n            <div className={styles.threadContainer}>\n                <TranscriptionNoteContainer\n                    event={event}\n                    color={color}\n                    note={threadUpToCommentToEdit}\n                    id={noteToEdit}\n                    interactive={false}\n                />\n            </div>\n        );\n    }\n\n    render() {\n        const {\n            notes,\n            onCloseNoteEditor,\n            meId,\n            participants,\n            getParticipantById,\n        } = this.props;\n        const {\n            showEditModal,\n            editMode,\n        } = notes;\n        const {\n            selectedUser,\n            typeId,\n            polarity,\n            text,\n            time,\n            timeChecked,\n            shareChecked,\n            acknowledgeChecked,\n            canShare,\n            isAcknowledged,\n            isShared,\n            canAcknowledge,\n            canEdit,\n            authorName,\n        } = this.state;\n        const noteTitle = this.titleForEditMode(editMode);\n        const addNoteButton = this.buttonTextForEditMode(editMode);\n        const userName = authorName;\n        let canShareNote = canShare;\n        if (selectedUser) {\n            if (selectedUser.uuid === GENERAL_NOTE_UUID) {\n                canShareNote = false;\n            } else {\n                canShareNote = canShare && selectedUser && selectedUser.userId !== Number(meId);\n            }\n        } else {\n            canShareNote = false;\n        }\n        const placeholderText = 'Add a comment to this event...';\n        const disableStyle = [];\n        if (!canEdit) disableStyle.push(styles.modalBodyDisabled);\n        const maskClasses = classNames({\n            [styles.mask]: true,\n            'ignore-nodestack': true,\n        });\n        return (\n            <div className={maskClasses}>\n                <div\n                    className={styles.NoteModal}\n                    style={{\n                        opacity: showEditModal ? '1' : '0',\n                    }}\n                >\n                    <div className={styles.modalHeader}>\n                        <div className={styles.title}>{noteTitle}</div>\n                        {userName && <div>{`Added by ${userName}`}</div>}\n                    </div>\n                    <div className={styles.modalBody}>\n                        {NoteEditMode.isNote(editMode) && (\n                            <div className={[...disableStyle, styles.noteDetailsContainer].join(' ')}>\n                                <div className={styles.detailColumn} id={styles.timeDetailColumn}>\n                                    <div className={styles.checkboxContainer}>\n                                        <label className={styles.checkboxLabel} htmlFor=\"eventTimeCheckbox\">\n                                            Event time:\n                                            <input\n                                                className={styles.checkbox}\n                                                type=\"checkbox\"\n                                                id=\"eventTimeCheckbox\"\n                                                onChange={this.handleEventTimeChecked.bind(this)}\n                                                checked={timeChecked}\n                                                disabled={!canEdit}\n                                            />\n                                        </label>\n                                    </div>\n                                    <TimeDropDown\n                                        time={time}\n                                        timeChecked={timeChecked}\n                                        canEdit={canEdit}\n                                        setTime={this.setTime}\n                                    />\n                                </div>\n                                <div className={styles.detailColumn} id={styles.userDetailColumn}>\n                                    <div>Relating to:</div>\n                                    <RelatingToDropdown\n                                        participants={participants}\n                                        selectedUser={selectedUser}\n                                        canEdit={canEdit}\n                                        isShared={isShared}\n                                        handleUserClick={this.handleUserClick}\n                                        userList={this.userList}\n                                    />\n                                </div>\n                                <div className={styles.detailColumn} id={styles.relatingToDetailColumn}>\n                                    <div>Type of event:</div>\n                                    <TypeDropdown\n                                        selectedTypeId={typeId}\n                                        eventTypesList={this.typeList}\n                                        canEdit={canEdit}\n                                        handleTypeClicked={this.handleTypeClick}\n                                    />\n                                </div>\n                                <div className={styles.detailColumn} id={styles.polarityDetailColumn}>\n                                    <div>Polarity:</div>\n                                    <TypeDropdown\n                                        selectedTypeId={polarity}\n                                        eventTypesList={notes.polarityTypes}\n                                        canEdit={canEdit}\n                                        handleTypeClicked={this.handlePolarityClick}\n                                    />\n                                </div>\n                            </div>\n                        )}\n                        {NoteEditMode.isComment(editMode) && this.commentToReplyTo(notes, getParticipantById)}\n                        <div className={[...disableStyle, styles.noteTextContainer].join(' ')}>\n                            <textarea\n                                value={decode(text)}\n                                name=\"noteDetails\"\n                                className={styles.noteDetails}\n                                rows=\"5\"\n                                onChange={this.handleTextUpdate.bind(this)}\n                                placeholder={placeholderText}\n                                onFocus={(e) => {\n                                    e.target.placeholder = '';\n                                }}\n                                onBlur={(e) => {\n                                    e.target.placeholder = placeholderText;\n                                }}\n                                disabled={!canEdit}\n                            />\n                        </div>\n                        {canAcknowledge && (\n                            <div className={styles.shareContainer}>\n                                {!isAcknowledged ? (\n                                    <label className={styles.checkboxLabel} htmlFor=\"acknowledgeCheckbox\">\n                                        Acknowledge you have received this note\n                                        <input\n                                            className={[styles.checkbox, styles.checkbox2].join(' ')}\n                                            type=\"checkbox\"\n                                            id=\"acknowledgeCheckbox\"\n                                            onChange={this.handleAcknowledgeNote.bind(this)}\n                                            checked={acknowledgeChecked}\n                                        />\n                                    </label>\n                                ) : (\n                                    <p>\n                                        Note Acknowledged\n                                    </p>\n                                )}\n                            </div>\n                        )}\n                        {selectedUser && (\n                            <div className={styles.shareContainer}>\n                                {(canShareNote && !isShared) && (\n                                    <label className={styles.checkboxLabel} htmlFor=\"shareCheckbox\">\n                                        {`Share notes with ${selectedUser.title}?`}\n                                        <input\n                                            className={[styles.checkbox, styles.checkbox2].join(' ')}\n                                            type=\"checkbox\"\n                                            id=\"shareCheckbox\"\n                                            onChange={this.handleShareNote.bind(this)}\n                                            checked={shareChecked}\n                                        />\n                                    </label>\n                                )}\n                                {isShared && (\n                                    <p>\n                                        {`Note has been shared with ${selectedUser.title}`}\n                                        {(isAcknowledged) && ' and has been acknowledged'}\n                                    </p>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                    <div className={styles.modalFooter}>\n                        {(NoteEditMode.isExistingItem(editMode) ? canEdit : false) && (\n                            <button\n                                type=\"button\"\n                                className={styles.deleteButton}\n                                onClick={\n                                    NoteEditMode.isComment(editMode)\n                                        ? this.handleDeleteCommentClicked\n                                        : this.handleDeleteNoteClicked\n                                }\n                            >\n                                DELETE { NoteEditMode.isComment(editMode) ? 'COMMENT' : 'NOTE' }\n                            </button>\n                        )}\n                        <button type=\"button\" className={styles.cancelButton} onClick={onCloseNoteEditor}>CANCEL</button>\n                        <button\n                            type=\"submit\"\n                            className={styles.addButton}\n                            disabled={this.state.text === ''}\n                            onClick={this.handleSubmitClicked}\n                        >\n                            {addNoteButton}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nNoteModal.propTypes = {\n    primaryUuid: PropTypes.string.isRequired,\n    notes: notesType.isRequired,\n    onCloseNoteEditor: PropTypes.func.isRequired,\n    onDeleteNote: PropTypes.func.isRequired,\n    onDeleteComment: PropTypes.func.isRequired,\n    onUpdateNote: PropTypes.func.isRequired,\n    timeline: timelineType.isRequired,\n    playhead: PropTypes.number.isRequired,\n    participants: participantsType.isRequired,\n    getParticipantById: PropTypes.func.isRequired,\n    meId: PropTypes.string.isRequired,\n    meName: PropTypes.string.isRequired,\n};\n\nexport default NoteModal;\n","import { createSelector } from 'reselect';\nimport { getParticipants } from './common-selectors';\n\nconst getParticipantByIdSelector = createSelector(\n    [getParticipants],\n    participants => uuid => participants[\n        Object.keys(participants)\n            .find(key => participants[key].relatedUuids\n                .reduce((found, relativeUuid) => found || relativeUuid === uuid))\n    ],\n);\n\nexport default getParticipantByIdSelector;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {\n    notesType,\n    timelineType,\n    participantsType,\n} from '../shared/types';\nimport NoteModal from '../components/NoteModal/NoteModal';\nimport { getTimeline } from '../store/selectors';\nimport getParticipantByIdSelector from '../store/selectors/participantSelectors';\nimport { updateNotes, onDeleteNote as deleteNote } from '../store/actions/salesforce';\nimport { getAuthenticatedUserId, getAuthenticatedUserName } from '../store/selectors/authSelectors';\nimport { closeNoteEditor, deleteComment } from '../store/actions/notes';\n\nconst NoteModalContainer = props => (<NoteModal {...props} />);\n\nNoteModalContainer.propTypes = {\n    primaryUuid: PropTypes.string.isRequired,\n    notes: notesType.isRequired,\n    onCloseNoteEditor: PropTypes.func.isRequired,\n    onDeleteNote: PropTypes.func.isRequired,\n    onDeleteComment: PropTypes.func.isRequired,\n    onUpdateNote: PropTypes.func.isRequired,\n    timeline: timelineType.isRequired,\n    playhead: PropTypes.number.isRequired,\n    participants: participantsType.isRequired,\n    getParticipantById: PropTypes.func.isRequired,\n    meId: PropTypes.string.isRequired,\n    meName: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = (state) => {\n    const {\n        primaryUuid, notes, participants, playback: { playhead },\n    } = state;\n    return {\n        primaryUuid,\n        notes,\n        playhead,\n        timeline: getTimeline(state),\n        participants,\n        getParticipantById: getParticipantByIdSelector(state),\n        meId: getAuthenticatedUserId(state),\n        meName: getAuthenticatedUserName(state),\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onCloseNoteEditor: () => {\n        dispatch(closeNoteEditor());\n    },\n    onDeleteNote: (id) => {\n        dispatch(deleteNote(id));\n        dispatch(closeNoteEditor());\n    },\n    onDeleteComment: (noteId, commentId) => {\n        dispatch(deleteComment(noteId, commentId));\n        dispatch(closeNoteEditor());\n    },\n    onUpdateNote: (note, logTime) => {\n        dispatch(updateNotes(note, logTime));\n        dispatch(closeNoteEditor());\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NoteModalContainer);\n","export default class NodeStack {\n    static filterElements(event) {\n        const position = {\n            x: event.pageX,\n            y: event.pageY,\n        };\n        let range;\n        return (element) => {\n            const rect = element.getBoundingClientRect();\n            range = {\n                x: [rect.left,\n                    rect.left + rect.width],\n                y: [rect.top,\n                    rect.top + rect.height],\n            };\n            return (position.x >= range.x[0] && position.x <= range.x[1])\n                && (position.y >= range.y[0] && position.y <= range.y[1]);\n        };\n    }\n\n    constructor(selector) {\n        this.selector = selector;\n        this.hover = {\n            duration: 1000,\n            action: null,\n            handler: null,\n        };\n        this.clear = {\n            action: null,\n            items: [],\n        };\n        this.click = {\n            action: null,\n        };\n        window.addEventListener('click', (event) => {\n            const elements = this.elementsMatchingSelectorAndEvent(this.selector, event);\n            if (typeof this.click.action === 'function' && elements.length > 0) {\n                this.click.action(elements);\n            }\n        });\n        window.addEventListener('mousemove', (event) => {\n            if (typeof this.clear.action === 'function' && this.clear.items.length > 0) {\n                this.clear.action(this.clear.items);\n                this.clear.items = [];\n            }\n            if (this.hover.handler !== null) {\n                clearTimeout(this.hover.handler);\n                this.hover.handler = null;\n            }\n            this.hover.handler = setTimeout(() => {\n                const elements = this.elementsMatchingSelectorAndEvent(this.selector, event);\n                if (typeof this.hover.action === 'function' && elements.length > 0) {\n                    this.clear.items = this.hover.action(elements) || elements;\n                }\n                this.hover.handler = null;\n            }, this.hover.duration);\n        });\n    }\n\n    elementsMatchingSelectorAndEvent(selector, event) {\n        const filterElements = NodeStack.filterElements(event);\n        const elements = document.querySelectorAll(this.selector);\n        const keys = Object.keys(elements);\n        if (keys.length === 0) {\n            return [];\n        }\n        const ignore = document.querySelectorAll('.ignore-nodestack');\n        if (ignore.length > 0) {\n            return [];\n        }\n        return keys\n            .map(key => elements[key])\n            .filter(filterElements);\n    }\n\n    onClick(action) {\n        this.click.action = action;\n        return this;\n    }\n\n    onHover(action) {\n        this.hover.action = action;\n        return this;\n    }\n\n    onClear(action) {\n        this.clear.action = action;\n        return this;\n    }\n\n    duration(duration) {\n        this.hover.duration = duration;\n        return this;\n    }\n}\n","export const CLASSIFICATION_TYPE_ALERT = 'Alert';\nexport const CLASSIFICATION_TYPE_CHECKPOINT = 'Checkpoint';\nexport const CLASSIFICATION_TYPE_CONCEPT = 'Concept';\n\n/**\n * A classification is \"positive\" if it was expected and did happen\n */\nexport function classificationIsPositive(category) {\n    return (category.Trigger.toUpperCase() === 'EXPECTED' && category.CategoryValue === 1);\n}\n\n/**\n * A classification is a warning if it was expected but didn't happen\n */\nexport function classificationIsWarning(category) {\n    return category.Trigger.toUpperCase() === 'EXPECTED' && category.CategoryValue === 0;\n}\n\n/**\n * A classification is negative if it was unexpected and did happen\n */\nexport function classificationIsNegative(category) {\n    return category.Trigger.toUpperCase() === 'UNEXPECTED' && category.CategoryValue === 1;\n}\n\n/**\n * A classification is an exception if it's either a warning or negative\n */\nexport function classificationIsException(category) {\n    return classificationIsWarning(category) || classificationIsNegative(category);\n}\n\n/**\n * A classification for information only (and it did happen)\n */\nexport function classificationIsInfoThatHappened(category) {\n    return category.Trigger.toUpperCase() === 'INFO' && category.CategoryValue === 1;\n}\n\n/**\n * A classification is \"triggered\" if it was either\n * - an exception, a positive classification or\n * - an info item that happened\n */\nexport function classificationIsTriggered(category) {\n    return classificationIsException(category) || classificationIsPositive(category)\n        || classificationIsInfoThatHappened(category);\n}\n\n/**\n * Defines the weighting of a classification to aid in sorting an array. The order is:\n * - Positive\n * - Negative\n * - Warning\n * - Info\n */\nexport function classificationWeighting(category) {\n    if (classificationIsPositive(category)) {\n        return 10;\n    }\n    if (classificationIsNegative(category)) {\n        return 20;\n    }\n    if (classificationIsWarning(category)) {\n        return 30;\n    }\n    return 40;\n}\n\nexport function classificationDescription(category) {\n    if (category.Trigger.toUpperCase() === 'EXPECTED') {\n        if (category.CategoryValue === 1) {\n            return 'This was expected to trigger and did';\n        }\n        return 'This was expected to trigger but did not';\n    }\n    if (category.Trigger.toUpperCase() === 'UNEXPECTED') {\n        if (category.CategoryValue === 1) {\n            return 'This was not expected to trigger but did';\n        }\n        return 'This was not expected to trigger and did not';\n    }\n    if (category.Trigger.toUpperCase() === 'INFO' && category.CategoryValue === 1) {\n        return 'This was triggered and was flagged as interesting to you';\n    }\n\n    return null;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './KnowledgeClassificationPill.module.scss';\nimport {\n    classificationDescription,\n    classificationIsNegative,\n    classificationIsPositive,\n    classificationIsInfoThatHappened,\n    classificationIsWarning,\n} from '../../shared/utility/classifications';\n\nexport default function KnowledgeClassificationPill(props) {\n    const { category, isSelected, onClick } = props;\n    const classes = classNames({\n        [styles.classificationPill]: true,\n    });\n    const indicatorClasses = classNames({\n        [styles.classificationIndicator]: true,\n        [styles.positive]: classificationIsPositive(category),\n        [styles.negative]: classificationIsNegative(category),\n        [styles.warning]: classificationIsWarning(category),\n        [styles.info]: classificationIsInfoThatHappened(category),\n    });\n    const tooltip = classificationDescription(category);\n    const displayName = (category.DisplayName || '').replace(/_/g, ' ');\n    return (\n        <div\n            className={classes}\n            key={category.DisplayName}\n            data-metric={category.Name}\n            data-metric-selected={isSelected}\n            data-tooltip={tooltip}\n            onClick={onClick}\n            onKeyPress={onClick}\n            role=\"button\"\n            tabIndex=\"-1\"\n        >\n            <div className={indicatorClasses} />\n            <div className={styles.pillText}>{displayName}</div>\n        </div>\n    );\n}\n\nKnowledgeClassificationPill.propTypes = {\n    category: PropTypes.shape({\n        Name: PropTypes.string,\n        CategoryValue: PropTypes.number,\n        DisplayName: PropTypes.string,\n        Trigger: PropTypes.string,\n    }).isRequired,\n    isSelected: PropTypes.bool.isRequired,\n    onClick: PropTypes.func,\n};\n\nKnowledgeClassificationPill.defaultProps = {\n    onClick: null,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './KnowledgeKeywordTopicPill.module.scss';\n\nexport default function KnowledgeKeywordTopicPill(props) {\n    const {\n        colors,\n        isSelected,\n        onClick,\n        showLeftIndicator,\n        showRightIndicator,\n        text,\n        modalPill,\n        modalCategoryPill,\n    } = props;\n    let pillStyle = styles.pill;\n    if (modalPill) {\n        pillStyle = styles.pillModal;\n    } else if (modalCategoryPill) {\n        pillStyle = styles.pillCategoryModal;\n    }\n    return (\n        <div\n            onClick={onClick}\n            className={pillStyle}\n            role=\"button\"\n            onKeyPress={onClick}\n            tabIndex=\"-1\"\n            data-metric={text}\n            data-metric-selected={isSelected}\n        >\n            <div className={styles.pillText}>{text}</div>\n            <div className={styles.pillColourContainer}>\n                <div style={{ backgroundColor: colors[0], display: showLeftIndicator ? 'block' : 'none' }} />\n                <div style={{ backgroundColor: colors[1], display: showRightIndicator ? 'block' : 'none' }} />\n            </div>\n        </div>\n    );\n}\n\nKnowledgeKeywordTopicPill.propTypes = {\n    colors: PropTypes.arrayOf(PropTypes.string),\n    isSelected: PropTypes.bool.isRequired,\n    onClick: PropTypes.func,\n    showLeftIndicator: PropTypes.bool.isRequired,\n    showRightIndicator: PropTypes.bool.isRequired,\n    text: PropTypes.string.isRequired,\n    modalPill: PropTypes.bool,\n    modalCategoryPill: PropTypes.bool,\n};\n\nKnowledgeKeywordTopicPill.defaultProps = {\n    colors: ['#444', '#aaa'],\n    onClick: null,\n    modalPill: false,\n    modalCategoryPill: false,\n};\n","/* eslint-disable react/jsx-one-expression-per-line */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {\n    callSummaryType,\n    knowledgeSelectedItemType,\n    scrubType,\n    searchType,\n    timelineType,\n    transcriptionType,\n    viewportType,\n} from '../../shared/types';\nimport styles from './Knowledge.module.scss';\nimport {\n    classificationIsNegative,\n    classificationIsException,\n    classificationIsTriggered,\n    classificationIsWarning,\n    classificationWeighting,\n    classificationIsInfoThatHappened,\n} from '../../shared/utility/classifications';\nimport {\n    KNOWLEDGE_TYPE_CLASSIFICATION,\n    KNOWLEDGE_TYPE_KEYWORD,\n    KNOWLEDGE_TYPE_TOPIC,\n} from '../../store/constants/knowledge';\nimport KnowledgeClassificationPill from '../KnowledgeClassificationPill/KnowledgeClassificationPill';\nimport KnowledgeKeywordTopicPill from '../KnowledgeKeywordTopicPill/KnowledgeKeywordTopicPill';\nimport { STATUS_EMPTY, STATUS_LOADING } from '../../store/constants/data';\n\nclass Knowledge extends Component {\n    static generateClassifications(transcription, type, selectedItem, handleClick) {\n        const categories = transcription.Categories || [];\n        const items = categories.filter(item => item.Type.toUpperCase() === type.toUpperCase()\n            && (classificationIsWarning(item) || classificationIsNegative(item)));\n        if (items.length === 0) {\n            return [];\n        }\n        const handleClassificationClick = typeof handleClick === 'function' ? handleClick(KNOWLEDGE_TYPE_CLASSIFICATION) : null;\n        return Knowledge.processChannelClassifications(items, selectedItem, handleClassificationClick);\n    }\n\n    static generateAllClassifications(transcription, selectedItem, handleClick) {\n        const categories = transcription.Categories || [];\n        const items = categories.filter(item => classificationIsTriggered(item))\n            .sort((a, b) => {\n                const aWeighting = classificationWeighting(a);\n                const bWeighting = classificationWeighting(b);\n                return aWeighting - bWeighting;\n            });\n        if (items.length === 0) {\n            return [];\n        }\n        const handleClassificationClick = typeof handleClick === 'function' ? handleClick(KNOWLEDGE_TYPE_CLASSIFICATION) : null;\n        return Knowledge.processChannelClassifications(items, selectedItem, handleClassificationClick);\n    }\n\n    static generateKeywords(transcription, colors, selectedItem, handleClick) {\n        if (transcription['1'].Keywords.length === 0 && transcription['2'].Keywords.length === 0) {\n            return [];\n        }\n\n        const handleKeywordClick = typeof handleClick === 'function' ? handleClick(KNOWLEDGE_TYPE_KEYWORD) : null;\n        return Knowledge.processKeywordsTopics(\n            transcription,\n            'Keywords',\n            'Keyword',\n            KNOWLEDGE_TYPE_KEYWORD,\n            colors,\n            selectedItem,\n            handleKeywordClick,\n        );\n    }\n\n    static generateTopics(transcription, colors, selectedItem, handleClick) {\n        if (transcription['1'].Topics.length === 0 && transcription['2'].Topics.length === 0) {\n            return [];\n        }\n\n        const handleTopicClick = typeof handleClick === 'function' ? handleClick(KNOWLEDGE_TYPE_TOPIC) : null;\n        return Knowledge.processKeywordsTopics(\n            transcription,\n            'Topics',\n            'Topic',\n            KNOWLEDGE_TYPE_TOPIC,\n            colors,\n            selectedItem,\n            handleTopicClick,\n        );\n    }\n\n    static processChannelClassifications(classifications, selectedItem, handleClick) {\n        return classifications.map((item) => {\n            const isSelected = selectedItem.type === KNOWLEDGE_TYPE_CLASSIFICATION && selectedItem.identifier === item.Name;\n            return (\n                <KnowledgeClassificationPill\n                    key={item.Name}\n                    category={item}\n                    isSelected={isSelected}\n                    onClick={handleClick}\n                />\n            );\n        });\n    }\n\n    static processKeywordsTopics(transcription, outerKey, innerKey, type, colors, selectedItem, handleClick) {\n        const combined = {};\n        transcription['1'][outerKey].forEach((value) => {\n            const item = combined[value[innerKey]] || { ...value };\n            item['1'] = true;\n            combined[value[innerKey]] = item;\n        });\n        transcription['2'][outerKey].forEach((value) => {\n            const item = combined[value[innerKey]] || { ...value };\n            item['2'] = true;\n            combined[value[innerKey]] = item;\n        });\n\n        return Knowledge.generateMarkupForKeywordsTopics(\n            innerKey,\n            Object.values(combined),\n            type,\n            colors,\n            selectedItem,\n            handleClick,\n        );\n    }\n\n    static generateMarkupForKeywordsTopics(key, items, type, colors = ['#444', '#aaa'], selectedItem, handleClick) {\n        return items.map((item) => {\n            const isSelected = selectedItem.type === type && selectedItem.identifier === item[key];\n            return (\n                <KnowledgeKeywordTopicPill\n                    key={`${item[key]}`}\n                    colors={colors}\n                    isSelected={isSelected}\n                    onClick={handleClick}\n                    showLeftIndicator={item['1'] === true}\n                    showRightIndicator={item['2'] === true}\n                    text={item[key]}\n                />\n            );\n        });\n    }\n\n    static hasClassificationExceptionsOrInfo(transcription) {\n        const categories = transcription.Categories || [];\n        const items = categories.filter(item => classificationIsException(item) || classificationIsInfoThatHappened(item));\n        return items.length > 0;\n    }\n\n    constructor(props) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n        this.setPlayHeadPosition = this.setPlayHeadPosition.bind(this);\n    }\n\n    setPlayHeadPosition(position) {\n        const { onSetScrollToMatch, scrub, viewport } = this.props;\n        const { span } = viewport;\n\n        // Timeline\n        const scrubWidth = (scrub.end - scrub.start);\n        const scrubMiddle = scrub.start + (scrubWidth / 2);\n        const scrubDiff = position - scrubMiddle;\n        const scrubStart = Math.min(Math.max(0, scrub.start + scrubDiff), 100 - scrubWidth);\n        const scrubEnd = scrubStart + scrubWidth;\n\n        // Transcription\n        const vpMiddle = viewport.start + (span / 2);\n        const vpDiff = position - vpMiddle;\n        const vpStart = Math.min(Math.max(0, viewport.start + vpDiff), 100 - span);\n\n        onSetScrollToMatch(position, { start: scrubStart, end: scrubEnd }, { start: vpStart, span });\n    }\n\n    handleClick(type) {\n        return (event) => {\n            const { onClassificationSelected, onKeywordSelected, onTopicSelected } = this.props;\n            const filter = event.target.dataset.metric;\n            if (typeof filter === 'undefined') {\n                return;\n            }\n            if (type === KNOWLEDGE_TYPE_CLASSIFICATION) {\n                onClassificationSelected(filter);\n            } else if (type === KNOWLEDGE_TYPE_KEYWORD) {\n                onKeywordSelected(filter);\n            } else if (type === KNOWLEDGE_TYPE_TOPIC) {\n                onTopicSelected(filter);\n            }\n        };\n    }\n\n    loadingBar(show) {\n        const { loadProgress } = this.props;\n        const classes = classNames({\n            [styles.progressBarContainer]: true,\n            hidden: !show,\n        });\n        const style = {\n            width: `${loadProgress}%`,\n        };\n        return (\n            <div className={classes}>\n                <div className={styles.progressBarOuter}>\n                    {loadProgress > 0 && <div className={styles.progressBar} style={style} />}\n                </div>\n                <div>\n                    {loadProgress}\n                    %\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        const {\n            status: { status },\n            callSummary,\n            selectedItem,\n            onClickShowAllClassifications,\n            transcription,\n            onClickShowAllKeyWords,\n        } = this.props;\n\n        const isLoading = status === STATUS_LOADING;\n\n        if (status === STATUS_EMPTY || transcription[1] === null) {\n            return this.loadingBar(isLoading);\n        }\n\n        const allClassifications = Knowledge.generateAllClassifications(transcription, selectedItem, this.handleClick);\n        const keywords = Knowledge.generateKeywords(transcription, callSummary.keyCallers.colors, selectedItem, this.handleClick);\n        const topics = Knowledge.generateTopics(transcription, callSummary.keyCallers.colors, selectedItem, this.handleClick);\n        const totalClassifications = allClassifications.length;\n        const totalKeysAndTopics = keywords.length + topics.length;\n\n        return (\n            <div className={`column-container ${styles.content}`}>\n                <div className={`column ${styles.column} ${styles.classificationsExceptionColumn}`}>\n                    <div className={styles.classificationsExceptionHeader}>\n                        <p className={styles.title}>Keywords:</p>\n                        {totalKeysAndTopics > 0 && (\n                            <button\n                                type=\"button\"\n                                className={styles.showAll}\n                                onClick={onClickShowAllKeyWords}\n                            >\n                                View {totalKeysAndTopics > 1 ? 'All ' : ''}\n                                {totalKeysAndTopics} Item{totalKeysAndTopics === 1 ? '' : 's'}\n                            </button>\n                        )}\n                    </div>\n                    <hr />\n                    <div className={styles.pillContainer}>\n                        {keywords.length > 0 && keywords}\n                        {keywords.length === 0 && (<p className=\"text-grey-primary\">No keywords found</p>)}\n                    </div>\n                    {/*  commenting out topics UI for now */}\n                    {/* <p className={`${styles.title} ${styles.topics}`}>Topics:</p>\n                    <hr />\n                    <div className={styles.pillContainer}>\n                        {topics.length > 0 && topics}\n                        {topics.length === 0 && (<p className=\"text-grey-primary\">No topics found</p>)}\n                    </div> */}\n                </div>\n                <div className={styles.spacer} />\n                <div className={`column ${styles.column} ${styles.classificationsExceptionColumn}`}>\n                    <div className={styles.classificationsExceptionHeader}>\n                        <p className={styles.title}>Top Categories:</p>\n                        {totalClassifications > 0 && (\n                            <button\n                                type=\"button\"\n                                className={styles.showAll}\n                                onClick={onClickShowAllClassifications}\n                            >\n                                View {totalClassifications > 1 ? 'All ' : ''}\n                                {totalClassifications} Item{totalClassifications === 1 ? '' : 's'}\n                            </button>\n                        )}\n                    </div>\n                    <hr />\n                    {\n                        Knowledge.hasClassificationExceptionsOrInfo(transcription) && (\n                            <div className={styles.classificationContainer}>\n                                {allClassifications}\n                            </div>\n                        )\n                    }\n                    {\n                        !Knowledge.hasClassificationExceptionsOrInfo(transcription) && (\n                            <div className={styles.classificationsEmpty}>\n                                <div>\n                                    No categories were flagged for this call.\n                                </div>\n                            </div>\n                        )\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nKnowledge.propTypes = {\n    callSummary: callSummaryType.isRequired,\n    onClassificationSelected: PropTypes.func.isRequired,\n    onKeywordSelected: PropTypes.func.isRequired,\n    onTopicSelected: PropTypes.func.isRequired,\n    onSetSearchMatch: PropTypes.func.isRequired,\n    onSetScrollToMatch: PropTypes.func.isRequired,\n    search: searchType.isRequired,\n    selectedItem: knowledgeSelectedItemType.isRequired,\n    transcription: transcriptionType.isRequired,\n    timeline: timelineType.isRequired,\n    scrub: scrubType.isRequired,\n    viewport: viewportType.isRequired,\n    onClickShowAllClassifications: PropTypes.func.isRequired,\n    onClickShowAllKeyWords: PropTypes.func.isRequired,\n};\n\nexport default Knowledge;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Knowledge from '../components/Knowledge/Knowledge';\nimport {\n    activeLayersType,\n    callSummaryType,\n    knowledgeSelectedItemType,\n    searchType,\n    timelineType,\n    scrubType,\n    transcriptionType,\n    viewportType, statusType,\n} from '../shared/types';\nimport {\n    movePlayHead,\n    moveScrubber,\n    updateTranscriptionViewport,\n} from '../store/actions/actions';\nimport { setCurrentMatch } from '../store/actions/search';\nimport { getTimeline } from '../store/selectors';\nimport {\n    getRawDataFromTranscriptionState,\n    getLoadProgress,\n} from '../store/selectors/common-selectors';\nimport {\n    openClassificationsDialog,\n    selectKnowledgeClassification,\n    selectKnowledgeKeyword,\n    selectKnowledgeTopic,\n    openKeywordsTopicsDialog,\n} from '../store/actions/knowledge';\n\nfunction KnowledgeContainer(props) {\n    const {\n        status,\n        onClassificationSelected,\n        onKeywordSelected,\n        onTopicSelected,\n        activeLayers,\n        callSummary,\n        onSetSearchMatch,\n        search,\n        selectedItem,\n        transcription,\n        onSetScrollToMatch,\n        timeline,\n        scrub,\n        viewport,\n        onClickShowAllClassifications,\n        onClickShowAllKeyWords,\n        loadProgress,\n    } = props;\n    return (\n        <Knowledge\n            status={status}\n            onClassificationSelected={onClassificationSelected}\n            onKeywordSelected={onKeywordSelected}\n            onTopicSelected={onTopicSelected}\n            activeLayers={activeLayers}\n            callSummary={callSummary}\n            onSetSearchMatch={onSetSearchMatch}\n            selectedItem={selectedItem}\n            search={search}\n            transcription={transcription}\n            timeline={timeline}\n            scrub={scrub}\n            viewport={viewport}\n            onSetScrollToMatch={onSetScrollToMatch}\n            onClickShowAllClassifications={onClickShowAllClassifications}\n            onClickShowAllKeyWords={onClickShowAllKeyWords}\n            loadProgress={loadProgress}\n        />\n    );\n}\n\nKnowledgeContainer.propTypes = {\n    transcription: transcriptionType.isRequired,\n    activeLayers: activeLayersType.isRequired,\n    callSummary: callSummaryType.isRequired,\n    onClassificationSelected: PropTypes.func.isRequired,\n    onKeywordSelected: PropTypes.func.isRequired,\n    onTopicSelected: PropTypes.func.isRequired,\n    onSetSearchMatch: PropTypes.func.isRequired,\n    onSetScrollToMatch: PropTypes.func.isRequired,\n    onClickShowAllClassifications: PropTypes.func.isRequired,\n    onClickShowAllKeyWords: PropTypes.func.isRequired,\n    search: searchType.isRequired,\n    selectedItem: knowledgeSelectedItemType.isRequired,\n    timeline: timelineType.isRequired,\n    scrub: scrubType.isRequired,\n    viewport: viewportType.isRequired,\n    status: statusType.isRequired,\n    loadProgress: PropTypes.number,\n};\n\nconst mapStateToProps = (state) => {\n    const {\n        status,\n        activeLayers,\n        callSummary,\n        knowledge,\n        search,\n        scrub,\n        transcription: { viewport },\n    } = state;\n    return {\n        status,\n        activeLayers,\n        callSummary,\n        search,\n        scrub,\n        selectedItem: knowledge.selectedItem,\n        transcription: getRawDataFromTranscriptionState(state),\n        timeline: getTimeline(state),\n        viewport,\n        loadProgress: getLoadProgress(state),\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onClassificationSelected: (item) => {\n        dispatch(selectKnowledgeClassification(item));\n    },\n    onKeywordSelected: (item) => {\n        dispatch(selectKnowledgeKeyword(item));\n    },\n    onTopicSelected: (item) => {\n        dispatch(selectKnowledgeTopic(item));\n    },\n    onSetSearchMatch: (match) => {\n        dispatch(setCurrentMatch(match));\n    },\n    onSetScrollToMatch: (position, scrub, viewport) => {\n        dispatch(movePlayHead(position));\n        dispatch(moveScrubber(scrub));\n        dispatch(updateTranscriptionViewport(viewport));\n    },\n    onClickShowAllClassifications: () => {\n        dispatch(openClassificationsDialog());\n    },\n    onClickShowAllKeyWords: () => {\n        dispatch(openKeywordsTopicsDialog());\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(KnowledgeContainer);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './Insights.module.scss';\nimport {\n    FILTER_CALL_QUEUING, FILTER_HOLD_UNHOLD, FILTER_LISTEN_IN, FILTER_NEW_PARTY, FILTER_TRANSFER,\n    TRANSCRIPTION_CONFIDENCE,\n} from '../../store/constants/metrics-layers';\nimport { activeLayersType, callSummaryType, dataType, timelineType } from '../../shared/types';\nimport {\n    AFFIRMATION,\n    CLASH_WIN,\n    INTERRUPTION,\n    STEAL,\n} from '../../store/constants/audio-events';\nimport {\n    TOGGLE_ROUTING,\n} from '../../store/actions/status';\nimport { textColorForBackground } from '../../shared/utility/colors';\nimport { formatTime } from '../../shared/utility/formatting';\nimport { STATUS_EMPTY } from '../../store/constants/data';\n\nclass Insights extends Component {\n    static calculateStatistics(talkTime, id) {\n        if (talkTime === null) {\n            return {};\n        }\n\n        return {\n            clashWins: talkTime[id].filter(item => item.event === CLASH_WIN).length,\n            affirmations: talkTime[id].filter(item => item.event === AFFIRMATION).length,\n            interruptions: talkTime[id].filter(item => item.event === INTERRUPTION).length,\n            steals: talkTime[id].filter(item => item.event === STEAL).length,\n        };\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    handleInputChange(metric) {\n        return (event) => {\n            const { onToggleLayer, onToggleRouting } = this.props;\n            if (metric === TOGGLE_ROUTING) {\n                onToggleRouting();\n                return;\n            }\n            const { target } = event;\n            onToggleLayer(target.id);\n        };\n    }\n\n    renderMetrics(metrics, colors = []) {\n        const output = [];\n        Object.keys(metrics).forEach((metric) => {\n            const detail = metrics[metric];\n            const { checked, subtitle, disabled } = detail;\n            const isSubtitled = typeof subtitle === 'string' && subtitle.length > 0;\n            output.push(\n                <div key={metric} className={styles.formCheck}>\n                    <label htmlFor={metric}>\n                        <input\n                            type=\"checkbox\"\n                            id={metric}\n                            checked={checked}\n                            onChange={this.handleInputChange(metric)}\n                            disabled={disabled === true}\n                        />\n                        <span>{detail.title}</span>\n                        {isSubtitled && <span className={styles.subtitle}>{detail.subtitle}</span>}\n                    </label>\n                    {typeof detail.indicator !== 'undefined' && detail.indicator.total > 0 && (\n                        <div className={styles.indicator}>\n                            <div\n                                style={{\n                                    width: `${detail.indicator.left / detail.indicator.total * 100}%`,\n                                    backgroundColor: colors[0],\n                                }}\n                                className={textColorForBackground(colors[0], ['text-black', 'text-white'])}\n                            >\n                                {detail.indicator.left}\n                            </div>\n                            <div\n                                style={{\n                                    width: `${detail.indicator.right / detail.indicator.total * 100}%`,\n                                    backgroundColor: colors[1],\n                                }}\n                                className={textColorForBackground(colors[1], ['text-black', 'text-white'])}\n                            >\n                                {detail.indicator.right}\n                            </div>\n                        </div>\n                    )}\n                </div>,\n            );\n        });\n        return output;\n    }\n\n    render() {\n        const {\n            status: { status },\n            data,\n            callSummary,\n            isDisplayRouting,\n            timeline: {\n                unrecordedTime,\n            },\n            activeLayers,\n        } = this.props;\n        if (status === STATUS_EMPTY) {\n            return null;\n        }\n        const { talkTime } = data;\n        // TODO: Remove eslint-disable once correct data.\n        const summary = { // eslint-disable-line no-unused-vars\n            1: Insights.calculateStatistics(talkTime, 1),\n            2: Insights.calculateStatistics(talkTime, 2),\n        };\n\n        const hasUnrecordedTime = unrecordedTime > 0;\n        const formattedUnrecordedTime = hasUnrecordedTime ? formatTime(unrecordedTime / 1000000) : '--';\n        const eventMetrics = {\n            [FILTER_HOLD_UNHOLD]: {\n                title: 'Hold/Unhold',\n                checked: activeLayers.includes(FILTER_HOLD_UNHOLD),\n            },\n            [FILTER_TRANSFER]: {\n                title: 'Transfer',\n                checked: activeLayers.includes(FILTER_TRANSFER),\n            },\n            [FILTER_LISTEN_IN]: {\n                title: 'Listen In',\n                checked: activeLayers.includes(FILTER_LISTEN_IN),\n            },\n            [FILTER_CALL_QUEUING]: {\n                title: 'Call Queuing',\n                checked: activeLayers.includes(FILTER_CALL_QUEUING),\n            },\n            [FILTER_NEW_PARTY]: {\n                title: 'New Party Joins/Leaves',\n                checked: activeLayers.includes(FILTER_NEW_PARTY),\n            },\n        };\n\n        const leftMetrics = {\n            // TODO: Uncomment once correct data.\n            // [BACKGROUND_NOISE_LEVEL]: {\n            //     title: 'Background Noise Level',\n            // },\n            [TRANSCRIPTION_CONFIDENCE]: {\n                title: 'Transcription Confidence',\n            },\n            [TOGGLE_ROUTING]: {\n                title: 'View Full Call',\n                checked: isDisplayRouting,\n                subtitle: `${formattedUnrecordedTime} of additional unrecorded time is available`,\n                disabled: !hasUnrecordedTime,\n            },\n        };\n        const rightMetrics = {\n            // TODO: Uncomment once correct data.\n            // [CLASH_WINS]: {\n            //     title: 'Clash wins',\n            //     indicator: {\n            //         left: summary['1'].clashWins,\n            //         right: summary['2'].clashWins,\n            //         total: summary['1'].clashWins + summary['2'].clashWins,\n            //     },\n            // },\n            // [AFFIRMATIONS]: {\n            //     title: 'Affirmations',\n            //     indicator: {\n            //         left: summary['1'].affirmations,\n            //         right: summary['2'].affirmations,\n            //         total: summary['1'].affirmations + summary['2'].affirmations,\n            //     },\n            // },\n            // [INTERRUPTIONS]: {\n            //     title: 'Interruptions',\n            //     indicator: {\n            //         left: summary['1'].interruptions,\n            //         right: summary['2'].interruptions,\n            //         total: summary['1'].interruptions + summary['2'].interruptions,\n            //     },\n            // },\n            // [STEALS]: {\n            //     title: 'Steals',\n            //     indicator: {\n            //         left: summary['1'].steals,\n            //         right: summary['2'].steals,\n            //         total: summary['1'].steals + summary['2'].steals,\n            //     },\n            // },\n        };\n        const thirdWidthColumn = classNames({\n            [styles.thirdWidth]: true,\n        });\n        const halfWidthColumn = classNames({\n            [styles.halfWidth]: true,\n        });\n        return (\n            <div className={styles.container}>\n                <div className=\"column-container\">\n                    <div className={thirdWidthColumn}>\n                        <p className={styles.title}>Call Events on Scrubber</p>\n                        <hr className={styles.separator} />\n                        {this.renderMetrics(eventMetrics, callSummary.keyCallers.colors)}\n                    </div>\n                    <div className=\"vertical-spacer\" />\n                    <div className=\"column\">\n                        <p className={styles.title}>Additional Metrics</p>\n                        <hr className={styles.separator} />\n                        <div className=\"column-container\">\n                            <div className={halfWidthColumn}>\n                                {this.renderMetrics(leftMetrics, callSummary.keyCallers.colors)}\n                            </div>\n                            <div className={halfWidthColumn}>\n                                {this.renderMetrics(rightMetrics, callSummary.keyCallers.colors)}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nInsights.propTypes = {\n    data: dataType.isRequired,\n    onToggleLayer: PropTypes.func.isRequired,\n    onToggleRouting: PropTypes.func.isRequired,\n    isDisplayRouting: PropTypes.bool.isRequired,\n    callSummary: callSummaryType.isRequired,\n    timeline: timelineType.isRequired,\n    activeLayers: activeLayersType,\n};\n\nInsights.defaultProps = {\n    activeLayers: [],\n};\n\nexport default Insights;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n    dataType, callSummaryType, timelineType, activeLayersType, statusType,\n} from '../shared/types';\nimport { pause, toggleMetricsLayer } from '../store/actions/actions';\nimport Insights from '../components/Insights/Insights';\nimport { toggleRouting } from '../store/actions/status';\nimport { getIsDisplayingRoutingState } from '../store/selectors/common-selectors';\nimport { getTimeline } from '../store/selectors';\nimport { createAudioEvents } from '../store/actions/audio';\n\nfunction InsightsContainer(props) {\n    const {\n        status,\n        data,\n        onToggleLayer,\n        onToggleRouting,\n        isDisplayRouting,\n        timeline,\n        callSummary,\n        activeLayers,\n    } = props;\n    return (\n        <Insights\n            status={status}\n            data={data}\n            onToggleLayer={onToggleLayer}\n            onToggleRouting={onToggleRouting}\n            isDisplayRouting={isDisplayRouting}\n            callSummary={callSummary}\n            timeline={timeline}\n            activeLayers={activeLayers}\n        />\n    );\n}\n\nInsightsContainer.propTypes = {\n    status: statusType.isRequired,\n    data: dataType.isRequired,\n    onToggleLayer: PropTypes.func.isRequired,\n    onToggleRouting: PropTypes.func.isRequired,\n    isDisplayRouting: PropTypes.bool.isRequired,\n    callSummary: callSummaryType.isRequired,\n    timeline: timelineType.isRequired,\n    activeLayers: activeLayersType,\n};\n\nInsightsContainer.defaultProps = {\n    activeLayers: [],\n};\n\nconst mapStateToProps = (state) => {\n    const {\n        status,\n        data,\n        callSummary,\n        activeLayers,\n    } = state;\n    return {\n        status,\n        data,\n        callSummary,\n        isDisplayRouting: getIsDisplayingRoutingState(state),\n        timeline: getTimeline(state),\n        activeLayers,\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onToggleLayer: (position) => {\n        dispatch(toggleMetricsLayer(position));\n    },\n    onToggleRouting: () => {\n        dispatch(pause());\n        dispatch(toggleRouting());\n        dispatch(createAudioEvents());\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InsightsContainer);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Dropdown.module.scss';\nimport { dropDownOptionsType } from '../../shared/types';\nimport Avatar from '../Avatar/Avatar';\n\n/* eslint-disable react/prefer-stateless-function */\n\nclass Dropdown extends Component {\n    optionsList() {\n        const { id, options, selection } = this.props;\n        return Object.keys(options).map((key) => {\n            const option = options[key];\n            return (\n                /* eslint-disable jsx-a11y/label-has-for */\n                <label\n                    className={`${styles.dropdownItem} ${key === selection ? styles.selected : ''}`}\n                    key={`focus-${key}`}\n                    htmlFor={id}\n                    onClick={this.handleChange(key)}\n                >\n                    <Avatar\n                        isAvatar={!!option.avatar}\n                        url={option.avatar || option.icon}\n                        color={option.color}\n                    />\n                    <div className={styles.viewName}>\n                        {option.viewName}\n                    </div>\n                </label>\n                /* eslint-enable jsx-a11y/label-has-for */\n            );\n        });\n    }\n\n    handleChange(selection) {\n        const { onChange } = this.props;\n        return () => {\n            onChange(selection);\n        };\n    }\n\n    render() {\n        const { id, selection, options } = this.props;\n        /* eslint-disable jsx-a11y/label-has-for, jsx-a11y/label-has-associated-control */\n        let dropdownHTML = (\n            <label className={styles.dropdownButton} htmlFor={id}>\n                {'Please select...'}\n            </label>\n        );\n        if (options[selection]) {\n            const option = options[selection];\n            dropdownHTML = (\n                <label className={styles.dropdownButton} htmlFor={id}>\n                    <Avatar\n                        isAvatar={!!option.avatar}\n                        url={option.avatar || option.icon}\n                        color={option.color}\n                    />\n                    <div className={styles.viewName}>\n                        {option.viewName}\n                    </div>\n                </label>\n            );\n        }\n        return (\n            <div className={styles.dropdown}>\n                <input className={styles.dropdownToggle} type=\"checkbox\" id={id} />\n                {dropdownHTML}\n                <label className={styles.dropdownBackground} htmlFor={id} />\n                <div className={styles.dropdownContent}>\n                    {this.optionsList()}\n                </div>\n            </div>\n        );\n        /* eslint-enable jsx-a11y/label-has-for, jsx-a11y/label-has-associated-control */\n    }\n}\n\n/* eslint-enable react/prefer-stateless-function */\n\nDropdown.propTypes = {\n    id: PropTypes.string.isRequired,\n    options: dropDownOptionsType.isRequired,\n    selection: PropTypes.string,\n    onChange: PropTypes.func,\n};\n\nDropdown.defaultProps = {\n    onChange: () => {\n    },\n    selection: '',\n};\n\nexport default Dropdown;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { dropDownOptionsType } from '../shared/types';\nimport Dropdown from '../components/Dropdown/Dropdown';\nimport { initialiseWithPrimaryUuid } from '../store/actions/actions';\n\nimport { getExperienceOptions } from '../store/selectors/common-selectors';\n\nfunction FocusSwitcherContainer(props) {\n    const { primaryUuid, onSetPrimaryUuid, options } = props;\n    const onChange = (newSelection) => {\n        onSetPrimaryUuid(newSelection);\n    };\n    return (\n        <Dropdown\n            id=\"focus-switcher-dropdown\"\n            selection={primaryUuid}\n            options={options}\n            onChange={onChange}\n        />\n    );\n}\n\nFocusSwitcherContainer.propTypes = {\n    primaryUuid: PropTypes.string,\n    onSetPrimaryUuid: PropTypes.func.isRequired,\n    options: dropDownOptionsType.isRequired,\n};\n\nFocusSwitcherContainer.defaultProps = {\n    primaryUuid: null,\n};\n\nconst mapStateToProps = (state) => {\n    const { primaryUuid } = state;\n    return {\n        primaryUuid, options: getExperienceOptions(state),\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onSetPrimaryUuid: (uuid) => {\n        dispatch(initialiseWithPrimaryUuid(uuid));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FocusSwitcherContainer);\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport styles from './CallSummary.module.scss';\nimport {\n    callSummaryType, participantsType, sentencesType, statusType,\n} from '../../shared/types';\nimport { scale } from '../../shared/utility/timeline';\nimport { formatTime, displayTimeAndDate } from '../../shared/utility/formatting';\nimport { STATUS_OK } from '../../store/constants/data';\n\nclass CallSummary extends Component {\n    static labelTextForKey(key) {\n        switch (key) {\n            case 'talking':\n                return 'Talk Time';\n            case 'listening':\n                return 'Listen Time';\n            case 'silent':\n                return 'Silence';\n            case 'holding':\n                return 'On Hold';\n            case 'queuing':\n                return 'Queuing';\n            case 'ringing':\n                return 'Ringing';\n            case 'routing':\n                return 'Routing';\n            case 'overtalk':\n                return 'Over Talk';\n            default:\n                return key;\n        }\n    }\n\n    static proportionalWidths(values) {\n        const totalValue = Object.keys(values).map(key => values[key])\n            .reduce((total, value) => total + value, 0);\n        const proportionalValues = {};\n        Object.keys(values).forEach((key) => {\n            const value = values[key];\n            const factor = 100 / totalValue;\n            proportionalValues[key] = factor * value;\n        });\n        return proportionalValues;\n    }\n\n    static metricsHeader(colors) {\n        return [(\n            <div className={styles.rowTitle} key=\"titles-heading\" />\n        )].concat(colors.map((color, index) => (\n            // We're able to disable this lint because there is sometimes no difference with the data\n            /* eslint-disable react/no-array-index-key */\n            <div style={{ borderTop: `2px solid ${color}` }} key={`${color}-${index}-heading`} />\n            /* eslint-enable react/no-array-index-key */\n        )));\n    }\n\n    static metricsRow(title, values) {\n        return [(\n            <div className={styles.rowTitle} key={title}>\n                {title}\n            </div>\n        )].concat(// We're able to disable this lint because there is sometimes no difference with the data\n            /* eslint-disable react/no-array-index-key */\n            values.map((value, index) => (\n                <div className={styles.figure} key={`${index}-${value}`}>\n                    {value}\n                </div>\n            )),\n            /* eslint-enable react/no-array-index-key */\n        );\n    }\n\n    static turnSwaps(sentences) {\n        let swaps = 0;\n        let currentTalker;\n        if (sentences === null) {\n            return 0;\n        }\n        Object.keys(sentences).map(key => sentences[key])\n            .flat()\n            .sort((a, b) => {\n                if (a.Start < b.Start) {\n                    return -1;\n                }\n                if (a.Start > b.Start) {\n                    return 1;\n                }\n                return 0;\n            })\n            .forEach((sentence) => {\n                if (!currentTalker) {\n                    currentTalker = sentence.number;\n                } else if (sentence.number !== currentTalker) {\n                    swaps += 1;\n                    currentTalker = sentence.number;\n                }\n            });\n        return swaps;\n    }\n\n    static numberOfConversations(participants, sentences) {\n        const conversations = {};\n        Object.keys(participants)\n            .filter(key => participants[key].isPrimary)\n            .forEach((key) => {\n                sentences[key].forEach((sentence) => {\n                    conversations[`${sentence.number}:${sentence.opposing.number}`] = 1;\n                });\n            });\n        return Object.keys(conversations).length;\n    }\n\n    static talkAndListenTime(participants, sentences) {\n        const times = {\n            talkTime: 0,\n            listenTime: 0,\n        };\n        if (typeof participants !== 'undefined' && sentences !== null) {\n            Object.keys(participants)\n                .forEach((key) => {\n                    const { isPrimary } = participants[key];\n                    const timeKey = isPrimary ? 'talkTime' : 'listenTime';\n                    sentences[key].forEach((sentence) => {\n                        times[timeKey] += sentence.timelineEnd - sentence.timelineStart;\n                    });\n                });\n        }\n        return times;\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isViewExpanded: false,\n        };\n        this.barRefs = {\n            container: null,\n            bars: [],\n            lines: [],\n            labels: [],\n        };\n        this.toggleExpandedView = this.toggleExpandedView.bind(this);\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.plotLabelLines.bind(this));\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        this.plotLabelLines();\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.plotLabelLines.bind(this));\n    }\n\n    bars(values = {}) {\n        const width = CallSummary.proportionalWidths(values);\n        const duration = CallSummary.callDurationFromSummary(values);\n        this.barRefs.bars = [];\n        return Object.keys(values)\n            .filter(key => values[key] > 0)\n            .map(key => {\n                const percentage = (100 / duration * values[key]).toFixed(0);\n                return (\n                    <div\n                        className={styles[key]}\n                        style={{ width: `${width[key]}%` }}\n                        key={key}\n                        ref={element => this.barRefs.bars.push(element)}\n                    >\n                        {percentage > 2 && `${percentage}%`}\n                    </div>\n                );\n            });\n    }\n\n    lines(values = {}) {\n        this.barRefs.lines = [];\n        return Object.keys(values)\n            .filter(key => values[key] > 0)\n            .map((key) => {\n                const classes = classNames({\n                    [styles.line]: true,\n                });\n                const lineClasses = classNames({\n                    [styles.group]: true,\n                });\n                const diagonalSize = 4;\n                const topKnee = 5 - (diagonalSize / 2);\n                const bottomKnee = 5 + (diagonalSize / 2);\n                return (\n                    <svg\n                        viewBox=\"0 0 10 10\"\n                        className={classes}\n                        key={key}\n                        ref={element => this.barRefs.lines.push(element)}\n                        preserveAspectRatio=\"none\"\n                    >\n                        <g className={lineClasses}>\n                            <line\n                                x1=\"0\"\n                                x2=\"0\"\n                                y1=\"0\"\n                                y2={topKnee}\n                                vectorEffect=\"non-scaling-stroke\"\n                                shapeRendering=\"crisp-edges\"\n                            />\n                            <line\n                                x1=\"0\"\n                                x2=\"10\"\n                                y1={topKnee}\n                                y2={bottomKnee}\n                                vectorEffect=\"non-scaling-stroke\"\n                                shapeRendering=\"geometric-precision\"\n                            />\n                            <line\n                                x1=\"10\"\n                                x2=\"10\"\n                                y1={bottomKnee}\n                                y2=\"10\"\n                                vectorEffect=\"non-scaling-stroke\"\n                                shapeRendering=\"crisp-edges\"\n                            />\n                        </g>\n                    </svg>\n                );\n            });\n    }\n\n    labels(values = {}) {\n        this.barRefs.labels = [];\n        const width = CallSummary.proportionalWidths(values);\n        return Object.keys(values)\n            .filter(key => values[key] > 0)\n            .map((key, index, array) => {\n                const classes = classNames({\n                    [styles.label]: true,\n                });\n                return (\n                    <div\n                        className={classes}\n                        key={key}\n                        ref={element => this.barRefs.labels.push(element)}\n                        data-width={width[key]}\n                    >\n                        <div>{CallSummary.labelTextForKey(key)}</div>\n                        <div>({formatTime(Math.ceil(values[key]))})</div>\n                    </div>\n                );\n            });\n    }\n\n    plotLabelLines() {\n        const {\n            bars, lines, labels, container,\n        } = this.barRefs;\n        if (!container || !Array.isArray(labels) || labels.length === 0) {\n            return;\n        }\n        const { x: leftOffset, width: containerWidth } = container.getBoundingClientRect();\n        const shrinkableLabels = [];\n        let overflow = 0;\n        labels.forEach((label, index) => {\n            if (label) {\n                label.style.width = null;\n                const bar = bars[index];\n                const { width: labelWidth } = label.getBoundingClientRect();\n                const { width: barWidth } = bar.getBoundingClientRect();\n                const barWidthAsPercentage = 100 / containerWidth * barWidth;\n                const labelWidthAsPercentage = 100 / containerWidth * labelWidth;\n                if (labelWidthAsPercentage >= barWidthAsPercentage) {\n                    label.style.width = `${labelWidthAsPercentage}%`;\n                    overflow += labelWidthAsPercentage - barWidthAsPercentage;\n                } else {\n                    shrinkableLabels.push({\n                        label,\n                        labelWidthAsPercentage,\n                        barWidthAsPercentage,\n                    });\n                }\n            }\n        });\n        shrinkableLabels.forEach((item) => {\n            const { label, barWidthAsPercentage, labelWidthAsPercentage } = item;\n            const useableOverflow = Math.max(Math.min(overflow, barWidthAsPercentage - labelWidthAsPercentage), 0);\n            label.style.width = `${barWidthAsPercentage - useableOverflow}%`;\n            overflow = Math.max(0, overflow - useableOverflow);\n        });\n        lines.forEach((line, index) => {\n            if (line) {\n                const label = labels[index];\n                const bar = bars[index];\n                const { x: leftBarPosition, width: barWidth } = bar.getBoundingClientRect();\n                const xLinePos = leftBarPosition - leftOffset + (barWidth / 2);\n                const { x: leftLabelPosition, width: labelWidth } = label.getBoundingClientRect();\n                const lineWidth = leftLabelPosition - leftOffset - xLinePos + (labelWidth / 2);\n                line.style.left = Math.min(xLinePos, xLinePos + lineWidth);\n                line.style.width = Math.max(1, Math.abs(lineWidth));\n                if (lineWidth < 0) {\n                    line.classList.add(styles.flip);\n                } else {\n                    line.classList.remove(styles.flip);\n                }\n            }\n        });\n    }\n\n    toggleExpandedView() {\n        const { isViewExpanded } = this.state;\n        this.setState({ isViewExpanded: !isViewExpanded });\n    }\n\n    static callDurationFromSummary(summary = {}) {\n        return Object.keys(summary).map(key => summary[key]).reduce((value, total) => total + value, 0);\n    }\n\n    showAlternativeStatus(status) {\n        return (\n            <div>\n                <div className={styles.section}>\n                    <div className={styles.header}>\n                        <div className={styles.headerItem}>\n                            Start time:\n                        </div>\n                        <div className={styles.headerItem}>\n                            Duration:\n                        </div>\n                        <div className={styles.headerItem}>\n                            Direction:\n                        </div>\n                        <div className={styles.headerItem}>\n                            <button className={styles.buttonShowMore} type=\"button\" disabled />\n                        </div>\n                    </div>\n                    <div className={styles.summaryBar}>\n                        {this.bars({})}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    render() {\n        const {\n            status, callSummary, participants, sentences,\n        } = this.props;\n        if (status.status !== STATUS_OK) {\n            return this.showAlternativeStatus(status.status);\n        }\n        const {\n            startTime, duration, direction, metrics, keyCallers, summary,\n        } = callSummary;\n        let conversations = 0;\n        if (typeof participants !== 'undefined' && sentences !== null && metrics !== null) {\n            conversations = CallSummary.numberOfConversations(participants, sentences);\n        }\n        let colors = [];\n        let keyTitles = [];\n        let holdEvents = [];\n        let pauseEvents = [];\n        let silenceDurations = [];\n        if (keyCallers != null) {\n            colors = keyCallers.colors.slice(0, 2);\n            keyTitles = keyCallers.titles;\n        }\n        if (metrics !== null) {\n            holdEvents = metrics.map(metric => metric.data.holdEvents);\n            pauseEvents = metrics.map(metric => metric.data.pauseEvents);\n            silenceDurations = metrics.map(metric => formatTime(duration * metric.data.SilenceRatio / 1000000));\n        }\n        const { isViewExpanded } = this.state;\n        const buttonStyle = isViewExpanded ? styles.buttonShowLess : styles.buttonShowMore;\n        return (\n            <div>\n                <div className={styles.section}>\n                    <div className={styles.header}>\n                        <div className={styles.headerItem}>\n                            Start time:\n                            {' '}\n                            {displayTimeAndDate(startTime)}\n                        </div>\n                        <div className={styles.headerItem}>\n                            Duration:\n                            {' '}\n                            {formatTime(duration / 1000000)}\n                        </div>\n                        <div className={styles.headerItem}>\n                            Direction:\n                            {' '}\n                            {direction}\n                        </div>\n                        <div className={styles.headerItem}>\n                            <button className={buttonStyle} onClick={this.toggleExpandedView} type=\"button\" />\n                        </div>\n                    </div>\n                    <div className={styles.summaryBar}>\n                        {this.bars(summary)}\n                    </div>\n                    <div className={styles.summaryLines} ref={element => this.barRefs.container = element}>\n                        {this.lines(summary)}\n                    </div>\n                    <div className={styles.summaryLabels}>\n                        {this.labels(summary)}\n                    </div>\n                </div>\n                {isViewExpanded\n                && (\n                    <div className={styles.section}>\n                        <div className={styles.metricsSection}>\n                            <div className={styles.metricsTable}>\n                                <div className={styles.sectionColumns}>\n                                    {CallSummary.metricsHeader(colors)}\n                                </div>\n                                <div className={styles.sectionColumns}>\n                                    {CallSummary.metricsRow('Hold Events', holdEvents)}\n                                </div>\n                                <div className={styles.sectionColumns}>\n                                    {CallSummary.metricsRow('Recording Paused', pauseEvents)}\n                                </div>\n                                <div className={styles.sectionColumns}>\n                                    {CallSummary.metricsRow('Silence Duration', silenceDurations)}\n                                </div>\n                            </div>\n                            <div className={styles.totals}>\n                                <div>Conversations held</div>\n                                <div className={styles.bigDigits}>\n                                    {conversations}\n                                </div>\n                            </div>\n                            <div className={styles.totals}>\n                                <div>Turn Swaps</div>\n                                <div className={styles.bigDigits}>\n                                    {CallSummary.turnSwaps(sentences)}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )\n                }\n            </div>\n        );\n    }\n}\n\nCallSummary.propTypes = {\n    status: statusType.isRequired,\n    callSummary: callSummaryType.isRequired,\n    participants: participantsType.isRequired,\n    sentences: sentencesType,\n};\n\nCallSummary.defaultProps = {\n    sentences: null,\n};\n\nexport default CallSummary;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport CallSummary from '../components/CallSummary/CallSummary';\nimport {\n    callSummaryType, participantsType, sentencesType, statusType,\n} from '../shared/types';\nimport { getParticipants, getSentencesFromTranscriptionState } from '../store/selectors/common-selectors';\n\nconst CallSummaryContainer = props => (<CallSummary {...props} />);\n\nCallSummaryContainer.propTypes = {\n    status: statusType.isRequired,\n    callSummary: callSummaryType.isRequired,\n    participants: participantsType.isRequired,\n    sentences: sentencesType,\n    isVisible: PropTypes.bool,\n};\n\nCallSummaryContainer.defaultProps = {\n    sentences: null,\n    isVisible: false,\n};\n\nconst mapStateToProps = (state) => {\n    const { status, callSummary } = state;\n    return {\n        status,\n        callSummary,\n        participants: getParticipants(state),\n        sentences: getSentencesFromTranscriptionState(state),\n    };\n};\n\nexport default connect(mapStateToProps)(CallSummaryContainer);\n","export default __webpack_public_path__ + \"static/media/up-chevron-white.b8709411.svg\";","export default __webpack_public_path__ + \"static/media/down-chevron-white.58efb287.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Search.module.scss';\nimport {\n    participantsType,\n    searchType,\n    sentencesType,\n    timelineType,\n    transcriptionType,\n} from '../../shared/types';\nimport upChevron from '../../assets/svgs/up-chevron-white.svg';\nimport downChevron from '../../assets/svgs/down-chevron-white.svg';\n\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.handleSearchInputChange = this.handleSearchInputChange.bind(this);\n        this.handlePreviousClicked = this.handlePreviousClicked.bind(this);\n        this.handleNextClicked = this.handleNextClicked.bind(this);\n        this.handleClearClicked = this.handleClearClicked.bind(this);\n    }\n\n    handleSearchInputChange(event) {\n        const { onSearchPhraseChanged } = this.props;\n        let text = event.currentTarget.value;\n        onSearchPhraseChanged(text);\n    }\n\n    handlePreviousClicked() {\n        const {\n            search: {\n                currentPositionIndex,\n                positionCount,\n            },\n            onSetMatchPositionIndex,\n        } = this.props;\n        const previous = currentPositionIndex > 0 ? currentPositionIndex - 1 : positionCount - 1;\n        onSetMatchPositionIndex(previous);\n    }\n\n    handleNextClicked() {\n        const {\n            search: {\n                currentPositionIndex,\n                positionCount,\n            },\n            onSetMatchPositionIndex,\n        } = this.props;\n        const next = currentPositionIndex < positionCount - 1 ? currentPositionIndex + 1 : 0;\n        onSetMatchPositionIndex(next);\n    }\n\n    handleClearClicked() {\n        const { onSearchPhraseChanged } = this.props;\n        onSearchPhraseChanged(null, []);\n    }\n\n    render() {\n        const { search } = this.props;\n        const placeholderText = 'Search Transcript...';\n        const phrase = search.searchPhrase !== null ? search.searchPhrase : '';\n        const { currentPositionIndex, positionCount } = search;\n        const showSearchNavigator = phrase.length > 0 && positionCount > 0;\n        return (\n            <div className={styles.Search}>\n                <input\n                    className={styles.searchTextBox}\n                    type=\"text\"\n                    value={phrase}\n                    onChange={this.handleSearchInputChange}\n                    placeholder={placeholderText}\n                    onFocus={(e) => { e.target.placeholder = ''; }}\n                    onBlur={(e) => { e.target.placeholder = placeholderText; }}\n                />\n                {\n                    showSearchNavigator && (\n                        <div className={styles.searchNavigation}>\n                            <div>{`${currentPositionIndex + 1} of ${positionCount}`}</div>\n                            <img\n                                className={styles.chevron}\n                                src={upChevron}\n                                alt=\"Previous match\"\n                                height=\"24\"\n                                width=\"24\"\n                                onMouseDown={this.handlePreviousClicked}\n                            />\n                            <img\n                                className={styles.chevron}\n                                src={downChevron}\n                                alt=\"Next match\"\n                                height=\"24\"\n                                width=\"24\"\n                                onMouseDown={this.handleNextClicked}\n                            />\n                            <div className={styles.spacer} />\n                            <button\n                                className={styles.clearButton}\n                                type=\"button\"\n                                onClick={this.handleClearClicked}\n                            >\n                                CLEAR\n                            </button>\n                        </div>\n                    )\n                }\n            </div>\n        );\n    }\n}\n\nSearch.propTypes = {\n    search: searchType.isRequired,\n    onSearchPhraseChanged: PropTypes.func.isRequired,\n    onSetMatchPositionIndex: PropTypes.func.isRequired,\n    participants: participantsType.isRequired,\n    sentences: sentencesType,\n    transcription: transcriptionType.isRequired,\n    onSetScrollToMatch: PropTypes.func.isRequired,\n    timeline: timelineType.isRequired,\n};\n\nSearch.defaultProps = {\n    sentences: null,\n};\n\nexport default Search;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n    participantsType,\n    searchType,\n    sentencesType,\n    timelineType,\n    transcriptionType,\n} from '../shared/types';\nimport { focusOnPosition } from '../store/actions/actions';\nimport { setCurrentMatchPositionIndex, setPositionsFromSearchPhrase, setSearchPhrase } from '../store/actions/search';\nimport Search from '../components/Search/Search';\nimport { getTimeline } from '../store/selectors';\nimport {\n    getParticipants,\n    getRawDataFromTranscriptionState,\n    getSentencesFromTranscriptionState,\n} from '../store/selectors/common-selectors';\n\nfunction SearchContainer(props) {\n    const {\n        search,\n        onSearchPhraseChanged,\n        onSetMatchPositionIndex,\n        participants,\n        sentences,\n        transcription,\n        onSetScrollToMatch,\n        timeline,\n    } = props;\n    return (\n        <Search\n            search={search}\n            onSearchPhraseChanged={onSearchPhraseChanged}\n            onSetMatchPositionIndex={onSetMatchPositionIndex}\n            participants={participants}\n            sentences={sentences}\n            transcription={transcription}\n            onSetScrollToMatch={onSetScrollToMatch}\n            timeline={timeline}\n        />\n    );\n}\n\nSearchContainer.propTypes = {\n    search: searchType.isRequired,\n    onSearchPhraseChanged: PropTypes.func.isRequired,\n    onSetMatchPositionIndex: PropTypes.func.isRequired,\n    participants: participantsType.isRequired,\n    sentences: sentencesType,\n    transcription: transcriptionType.isRequired,\n    onSetScrollToMatch: PropTypes.func.isRequired,\n    timeline: timelineType.isRequired,\n};\n\nSearchContainer.defaultProps = {\n    sentences: null,\n};\n\nconst mapStateToProps = (state) => {\n    const {\n        search,\n    } = state;\n    return {\n        search,\n        participants: getParticipants(state),\n        sentences: getSentencesFromTranscriptionState(state),\n        transcription: getRawDataFromTranscriptionState(state),\n        timeline: getTimeline(state),\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onSearchPhraseChanged: (phrase) => {\n        dispatch(setSearchPhrase(phrase));\n        dispatch(setPositionsFromSearchPhrase());\n    },\n    onSetMatchPositionIndex: (index) => {\n        dispatch(setCurrentMatchPositionIndex(index));\n    },\n    onSetScrollToMatch: (position) => {\n        dispatch(focusOnPosition(position));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchContainer);\n","export default __webpack_public_path__ + \"static/media/close.325eaabb.svg\";","export default __webpack_public_path__ + \"static/media/up-chevron-disabled.75e1dbee.svg\";","export default __webpack_public_path__ + \"static/media/down-chevron-disabled.50ca0970.svg\";","/* eslint-disable max-len */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ResultNavigator.module.scss';\nimport close from '../../assets/svgs/close.svg';\nimport upChevronGrey from '../../assets/svgs/up-chevron-disabled.svg';\nimport downChevronGrey from '../../assets/svgs/down-chevron-disabled.svg';\nimport {\n    callSummaryType,\n    knowledgeSelectedItemType,\n    participantsType,\n    sentencesType,\n    transcriptionType,\n    searchType,\n} from '../../shared/types';\nimport {\n    KNOWLEDGE_TYPE_KEYWORD,\n    KNOWLEDGE_TYPE_CLASSIFICATION,\n    KNOWLEDGE_TYPE_TOPIC,\n} from '../../store/constants/knowledge';\nimport KnowledgeClassificationPill from '../KnowledgeClassificationPill/KnowledgeClassificationPill';\nimport KnowledgeKeywordTopicPill from '../KnowledgeKeywordTopicPill/KnowledgeKeywordTopicPill';\n\nclass ResultNavigator extends Component {\n    static channelIndicatorsForPositions(positions) {\n        return {\n            showLeftIndicator: positions.filter(position => position.channel === 1).length > 0,\n            showRightIndicator: positions.filter(position => position.channel === 2).length > 0,\n        };\n    }\n\n    constructor(props) {\n        super(props);\n        this.onPreviousClicked = this.onPreviousClicked.bind(this);\n        this.onNextClicked = this.onNextClicked.bind(this);\n    }\n\n    onPreviousClicked() {\n        const {\n            search: {\n                currentPositionIndex,\n                positionCount,\n            },\n            onSetMatchPositionIndex,\n        } = this.props;\n        const previous = currentPositionIndex > 0 ? currentPositionIndex - 1 : positionCount - 1;\n        onSetMatchPositionIndex(previous);\n    }\n\n    onNextClicked() {\n        const {\n            search: {\n                currentPositionIndex,\n                positionCount,\n            },\n            onSetMatchPositionIndex,\n        } = this.props;\n        const next = currentPositionIndex < positionCount - 1 ? currentPositionIndex + 1 : 0;\n        onSetMatchPositionIndex(next);\n    }\n\n    render() {\n        const {\n            callSummary,\n            onClear,\n            selectedItem,\n            search,\n        } = this.props;\n        if (typeof selectedItem.identifier !== 'string' || selectedItem.identifier.length === 0) {\n            return null;\n        }\n\n        let pill;\n        if (selectedItem.type === KNOWLEDGE_TYPE_CLASSIFICATION) {\n            pill = <KnowledgeClassificationPill category={selectedItem.category} isSelected />;\n        } else if (selectedItem.type === KNOWLEDGE_TYPE_KEYWORD) {\n            const { positions } = search;\n            const { showLeftIndicator, showRightIndicator } = ResultNavigator.channelIndicatorsForPositions(positions);\n            pill = (\n                <KnowledgeKeywordTopicPill\n                    colors={callSummary.keyCallers.colors}\n                    isSelected\n                    text={selectedItem.identifier}\n                    showLeftIndicator={showLeftIndicator}\n                    showRightIndicator={showRightIndicator}\n                />);\n        } else if (selectedItem.type === KNOWLEDGE_TYPE_TOPIC) {\n            const { positions } = search;\n            const { showLeftIndicator, showRightIndicator } = ResultNavigator.channelIndicatorsForPositions(positions);\n            pill = (\n                <KnowledgeKeywordTopicPill\n                    colors={callSummary.keyCallers.colors}\n                    isSelected\n                    text={selectedItem.identifier}\n                    showLeftIndicator={showLeftIndicator}\n                    showRightIndicator={showRightIndicator}\n                />);\n        } else {\n            return null;\n        }\n\n        const { currentPositionIndex, positionCount } = search;\n        return (\n            <div className={styles.resultNavigator}>\n                <button type=\"button\" className={styles.button} onMouseDown={onClear}>\n                    <img\n                        src={close}\n                        alt=\"Clear\"\n                        height=\"18\"\n                        width=\"18\"\n                    />\n                </button>\n                <div className={styles.searchItemContainer}>{pill}</div>\n                <div>{`${currentPositionIndex + 1} of ${positionCount}`}</div>\n                <button type=\"button\" className={styles.button} onMouseDown={this.onPreviousClicked} disabled={positionCount === 0}>\n                    <img\n                        src={upChevronGrey}\n                        alt=\"Previous match\"\n                        height=\"24\"\n                        width=\"24\"\n                    />\n                </button>\n                <button\n                    type=\"button\"\n                    className={styles.button}\n                    onMouseDown={this.onNextClicked}\n                    disabled={positionCount === 0}\n                >\n                    <img\n                        src={downChevronGrey}\n                        alt=\"Next match\"\n                        height=\"24\"\n                        width=\"24\"\n                    />\n                </button>\n            </div>\n        );\n    }\n}\n\nResultNavigator.defaultProps = {\n    sentences: null,\n};\n\nResultNavigator.propTypes = {\n    callSummary: callSummaryType.isRequired,\n    onClear: PropTypes.func.isRequired,\n    onSetMatches: PropTypes.func.isRequired,\n    onSetMatch: PropTypes.func.isRequired,\n    onSetScrollToMatch: PropTypes.func.isRequired,\n    selectedItem: knowledgeSelectedItemType.isRequired,\n    participants: participantsType.isRequired,\n    sentences: sentencesType,\n    transcription: transcriptionType.isRequired,\n    onSetMatchPositions: PropTypes.func.isRequired,\n    onSetMatchPositionIndex: PropTypes.func.isRequired,\n    search: searchType.isRequired,\n};\n\nexport default ResultNavigator;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport ResultNavigator from '../components/ResultNavigator/ResultNavigator';\nimport {\n    callSummaryType,\n    knowledgeSelectedItemType,\n    participantsType,\n    sentencesType,\n    transcriptionType,\n    searchType,\n} from '../shared/types';\nimport {\n    getParticipants,\n    getRawDataFromTranscriptionState,\n    getSentencesFromTranscriptionState,\n} from '../store/selectors/common-selectors';\nimport { clearSelectedKnowledgeItem } from '../store/actions/knowledge';\nimport { focusOnPosition } from '../store/actions/actions';\nimport {\n    setCurrentMatch,\n    setMatches,\n    setCurrentMatchPositionIndex,\n    setMatchPositions,\n} from '../store/actions/search';\n\nfunction ResultNavigatorContainer(props) {\n    const {\n        callSummary,\n        onClear,\n        onSetMatches,\n        onSetMatch,\n        onSetScrollToMatch,\n        selectedItem,\n        transcription,\n        participants,\n        sentences,\n        onSetMatchPositions,\n        onSetMatchPositionIndex,\n        search,\n    } = props;\n    return (\n        <ResultNavigator\n            callSummary={callSummary}\n            onClear={onClear}\n            onSetMatches={onSetMatches}\n            onSetMatch={onSetMatch}\n            onSetScrollToMatch={onSetScrollToMatch}\n            selectedItem={selectedItem}\n            transcription={transcription}\n            participants={participants}\n            sentences={sentences}\n            onSetMatchPositions={onSetMatchPositions}\n            onSetMatchPositionIndex={onSetMatchPositionIndex}\n            search={search}\n        />\n    );\n}\n\nResultNavigatorContainer.defaultProps = {\n    sentences: null,\n};\n\nResultNavigatorContainer.propTypes = {\n    callSummary: callSummaryType.isRequired,\n    onClear: PropTypes.func.isRequired,\n    onSetMatches: PropTypes.func.isRequired,\n    onSetMatch: PropTypes.func.isRequired,\n    onSetScrollToMatch: PropTypes.func.isRequired,\n    selectedItem: knowledgeSelectedItemType.isRequired,\n    transcription: transcriptionType.isRequired,\n    participants: participantsType.isRequired,\n    sentences: sentencesType,\n    onSetMatchPositions: PropTypes.func.isRequired,\n    onSetMatchPositionIndex: PropTypes.func.isRequired,\n    search: searchType.isRequired,\n};\n\nconst mapStateToProps = (state) => {\n    const { callSummary, knowledge, search } = state;\n    return {\n        callSummary,\n        search,\n        selectedItem: knowledge.selectedItem,\n        participants: getParticipants(state),\n        sentences: getSentencesFromTranscriptionState(state),\n        transcription: getRawDataFromTranscriptionState(state),\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onClear: () => {\n        dispatch(clearSelectedKnowledgeItem());\n        dispatch(setMatches([]));\n        dispatch(setMatchPositions([]));\n    },\n    onSetMatches: (matches) => {\n        dispatch(setMatches(matches));\n    },\n    onSetMatch: (match) => {\n        dispatch(setCurrentMatch(match));\n    },\n    onSetScrollToMatch: (position) => {\n        dispatch(focusOnPosition(position));\n    },\n    onSetMatchPositions: (positions) => {\n        dispatch(setMatchPositions(positions));\n    },\n    onSetMatchPositionIndex: (index) => {\n        dispatch(setCurrentMatchPositionIndex(index));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResultNavigatorContainer);\n","/* eslint-disable react/jsx-one-expression-per-line */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport KnowledgeContainer from '../../containers/KnowledgeContainer';\nimport styles from './SearchFilters.module.scss';\nimport InsightsContainer from '../../containers/InsightsContainer';\nimport FocusSwitcherContainer from '../../containers/FocusSwitcherContainer';\nimport CallSummaryContainer from '../../containers/CallSummaryContainer';\nimport {\n    AFFIRMATIONS,\n    BACKGROUND_NOISE_LEVEL,\n    CLASH_WINS,\n    INTERRUPTIONS,\n    STEALS,\n    TRANSCRIPTION_CONFIDENCE,\n} from '../../store/constants/metrics-layers';\nimport SearchContainer from '../../containers/SearchContainer';\nimport { activeLayersType, knowledgeSelectedItemType, searchType } from '../../shared/types';\nimport ResultNavigatorContainer from '../../containers/ResultNavigatorContainer';\n\nconst TAB_SEARCH = 'tab-search';\nconst TAB_CALL_SUMMARY = 'tab-call-summary';\nconst TAB_KNOWLEDGE = 'tab-knowledge';\nconst TAB_INSIGHTS = 'tab-insights';\n\nclass SearchFilters extends Component {\n    static knowledgeLayersInUse(selectedItem) {\n        return selectedItem.identifier != null;\n    }\n\n    static insightsLayersInUse(activeLayers) {\n        return [\n            BACKGROUND_NOISE_LEVEL,\n            TRANSCRIPTION_CONFIDENCE,\n            CLASH_WINS,\n            AFFIRMATIONS,\n            INTERRUPTIONS,\n            STEALS,\n        ].filter(layer => activeLayers.includes(layer)).length > 0;\n    }\n\n    constructor(props) {\n        super(props);\n        this.handleTabClick = this.handleTabClick.bind(this);\n    }\n\n    isValidSearchPhrase() {\n        const { search: { searchPhrase } } = this.props;\n        return typeof searchPhrase === 'string' && searchPhrase.length > 0;\n    }\n\n    handleTabClick(e) {\n        const { toggleTab } = this.props;\n        e.preventDefault();\n        const { currentTarget: { id: tab } } = e;\n        toggleTab(tab);\n        const {\n            knowledgeSelectedItem,\n            onSetPositionsFromSearchPhrase,\n            onSetPositionsFromKnowledgeSelectedItem,\n        } = this.props;\n        if (tab === TAB_SEARCH && this.isValidSearchPhrase()) {\n            onSetPositionsFromSearchPhrase();\n        } else if (tab === TAB_KNOWLEDGE) {\n            const { identifier } = knowledgeSelectedItem;\n            if (typeof identifier === 'string' && identifier.length > 0) {\n                onSetPositionsFromKnowledgeSelectedItem();\n            }\n        }\n    }\n\n    render() {\n        const { activeLayers, knowledgeSelectedItem, activeTab: tab } = this.props;\n        const searchTabClasses = classNames({\n            [styles.button]: true,\n            [styles.active]: tab === TAB_SEARCH,\n            [styles.inuse]: this.isValidSearchPhrase(),\n        });\n        const callSummaryTabClasses = classNames({\n            [styles.button]: true,\n            [styles.active]: tab === TAB_CALL_SUMMARY,\n        });\n        const knowledgeTabClasses = classNames({\n            [styles.button]: true,\n            [styles.active]: tab === TAB_KNOWLEDGE,\n            [styles.inuse]: SearchFilters.knowledgeLayersInUse(knowledgeSelectedItem),\n        });\n        const insightsTabClasses = classNames({\n            [styles.button]: true,\n            [styles.active]: tab === TAB_INSIGHTS,\n            [styles.inuse]: SearchFilters.insightsLayersInUse(activeLayers),\n        });\n        const searchContentStyle = {\n            display: tab === TAB_SEARCH ? 'block' : 'none',\n        };\n        const callSummaryContentStyle = {\n            display: tab === TAB_CALL_SUMMARY ? 'block' : 'none',\n        };\n        const knowledgeContentStyle = {\n            display: tab === TAB_KNOWLEDGE ? 'block' : 'none',\n        };\n        const insightsContentStyle = {\n            display: tab === TAB_INSIGHTS ? 'block' : 'none',\n        };\n        return (\n            <section className={styles.SearchFilters}>\n                <div className={styles.tabs}>\n                    <button type=\"button\" id={TAB_SEARCH} className={searchTabClasses} onClick={this.handleTabClick}>\n                        <span className={styles.chevron} />\n                    </button>\n                    <button type=\"button\" id={TAB_CALL_SUMMARY} className={callSummaryTabClasses} onClick={this.handleTabClick}>\n                        Call Summary <span className={styles.chevron} />\n                    </button>\n                    <button type=\"button\" id={TAB_KNOWLEDGE} className={knowledgeTabClasses} onClick={this.handleTabClick}>\n                        Knowledge <span className={styles.chevron} />\n                    </button>\n                    <button type=\"button\" id={TAB_INSIGHTS} className={insightsTabClasses} onClick={this.handleTabClick}>\n                        Timeline Options <span className={styles.chevron} />\n                    </button>\n                    <div className={styles.spacer} />\n                    {tab !== TAB_SEARCH && (<ResultNavigatorContainer />)}\n                    <FocusSwitcherContainer />\n                </div>\n                <div className={styles.search} style={searchContentStyle}>\n                    <SearchContainer />\n                </div>\n                <div className={styles.callSummary} style={callSummaryContentStyle}>\n                    <CallSummaryContainer isVisible={tab === TAB_CALL_SUMMARY} />\n                </div>\n                <div className={styles.knowledge} style={knowledgeContentStyle}>\n                    <KnowledgeContainer />\n                </div>\n                <div className={styles.insights} style={insightsContentStyle}>\n                    <InsightsContainer />\n                </div>\n            </section>\n        );\n    }\n}\n\nSearchFilters.propTypes = {\n    activeLayers: activeLayersType.isRequired,\n    search: searchType.isRequired,\n    knowledgeSelectedItem: knowledgeSelectedItemType.isRequired,\n    onSetPositionsFromSearchPhrase: PropTypes.func.isRequired,\n    onSetPositionsFromKnowledgeSelectedItem: PropTypes.func.isRequired,\n    activeTab: PropTypes.string.isRequired,\n    toggleTab: PropTypes.func.isRequired,\n};\n\nexport default SearchFilters;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport SearchFilters from '../components/SearchFilters/SearchFilters';\nimport { activeLayersType, knowledgeSelectedItemType, searchType } from '../shared/types';\nimport { setPositionsFromSearchPhrase } from '../store/actions/search';\nimport { setPositionsFromKnowledgeSelectedItem } from '../store/actions/knowledge';\nimport { getActiveTab } from '../store/selectors/common-selectors';\nimport { toggleTab } from '../store/actions/tabs';\n\nfunction SearchFiltersContainer(props) {\n    const {\n        activeLayers,\n        knowledgeSelectedItem,\n        search,\n        onSetPositionsFromSearchPhrase,\n        onSetPositionsFromKnowledgeSelectedItem,\n        activeTab,\n        onTabClicked,\n    } = props;\n    return (\n        <SearchFilters\n            activeLayers={activeLayers}\n            knowledgeSelectedItem={knowledgeSelectedItem}\n            search={search}\n            onSetPositionsFromSearchPhrase={onSetPositionsFromSearchPhrase}\n            onSetPositionsFromKnowledgeSelectedItem={onSetPositionsFromKnowledgeSelectedItem}\n            activeTab={activeTab}\n            toggleTab={onTabClicked}\n        />\n    );\n}\n\nSearchFiltersContainer.propTypes = {\n    activeLayers: activeLayersType,\n    search: searchType.isRequired,\n    knowledgeSelectedItem: knowledgeSelectedItemType.isRequired,\n    onSetPositionsFromSearchPhrase: PropTypes.func.isRequired,\n    onSetPositionsFromKnowledgeSelectedItem: PropTypes.func.isRequired,\n    activeTab: PropTypes.string.isRequired,\n    onTabClicked: PropTypes.func.isRequired,\n};\n\nSearchFiltersContainer.defaultProps = {\n    activeLayers: [],\n};\n\nconst mapStateToProps = (state) => {\n    const { activeLayers, knowledge, search } = state;\n    return {\n        activeLayers,\n        knowledgeSelectedItem: knowledge.selectedItem,\n        search,\n        activeTab: getActiveTab(state),\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onSetPositionsFromSearchPhrase: () => {\n        dispatch(setPositionsFromSearchPhrase());\n    },\n    onSetPositionsFromKnowledgeSelectedItem: () => {\n        dispatch(setPositionsFromKnowledgeSelectedItem());\n    },\n    onTabClicked: (tab) => {\n        dispatch(toggleTab(tab));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchFiltersContainer);\n","/* eslint-disable jsx-a11y/label-has-associated-control, jsx-a11y/label-has-for */\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from '../CallRating.module.scss';\n\nconst RatingPicker = ({ name, onSelect, selectedIndex }) => {\n    const radioButtons = [\n        {\n            id: `pip1-${name}`, radioStyle: styles.radio1, pipStyle: styles.pip1, value: 5,\n        },\n        {\n            id: `pip2-${name}`, radioStyle: styles.radio2, pipStyle: styles.pip2, value: 4,\n        },\n        {\n            id: `pip3-${name}`, radioStyle: styles.radio3, pipStyle: styles.pip3, value: 3,\n        },\n        {\n            id: `pip4-${name}`, radioStyle: styles.radio4, pipStyle: styles.pip4, value: 2,\n        },\n        {\n            id: `pip5-${name}`, radioStyle: styles.radio5, pipStyle: styles.pip5, value: 1,\n        },\n    ];\n    const handleRadioSelected = (event) => {\n        const { currentTarget } = event;\n        onSelect(parseInt(currentTarget.value, 10));\n    };\n    return (\n        <div className={styles.pipRating}>\n            <div className={styles.rating}>\n                {radioButtons.map(item => (\n                    <Fragment key={item.id}>\n                        <input\n                            type=\"radio\"\n                            id={item.id}\n                            name={name}\n                            value={item.value}\n                            className={item.radioStyle}\n                            onChange={handleRadioSelected}\n                            checked={item.value === selectedIndex && selectedIndex > 0}\n                        />\n                        <label\n                            htmlFor={item.id}\n                            className={`${styles.pip} ${item.pipStyle}`}\n                            title={item.value}\n                        />\n                    </Fragment>\n                ))}\n            </div>\n        </div>\n    );\n};\nRatingPicker.defaultProps = {\n    selectedIndex: 0,\n};\n\nRatingPicker.propTypes = {\n    name: PropTypes.string.isRequired,\n    onSelect: PropTypes.func.isRequired,\n    selectedIndex: PropTypes.number,\n};\n\nexport default RatingPicker;\n","/* eslint-disable react/jsx-first-prop-new-line */\n/* eslint-disable react/jsx-closing-bracket-location */\n/* eslint-disable react/jsx-max-props-per-line */\n/* eslint-disable react/jsx-one-expression-per-line */\n/* eslint-disable react/jsx-indent-props */\n/* eslint-disable indent */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport styles from './CallRating.module.scss';\nimport RatingPicker from './RatingPicker/RatingPicker';\n\nclass CallRating extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            rating: [],\n        };\n    }\n\n    componentDidMount() {\n        const { rating } = this.props;\n        this.setState({ rating });\n    }\n\n    handleFinishClicked() {\n        const { onRateCall, rating: oldRaing } = this.props;\n        const { rating: newRating } = this.state;\n        const isAllRated = !newRating.find(item => item.score === 0);\n        if (JSON.stringify(oldRaing) !== JSON.stringify(newRating) && isAllRated) {\n            // eslint-disable-next-line no-alert\n            onRateCall(newRating);\n        } else if (!isAllRated) {\n            // eslint-disable-next-line no-alert\n            window.alert('Please choose a rating for all categories.');\n        } else {\n            // eslint-disable-next-line no-alert\n            window.alert('No changes were made');\n        }\n    }\n\n    handleCancelClicked() {\n        const { onCancelRateCall, rating: oldRaing } = this.props;\n        const { rating: newRating } = this.state;\n        if (JSON.stringify(oldRaing) !== JSON.stringify(newRating)) {\n            // eslint-disable-next-line no-alert\n            if (window.confirm('Warning your changes will be lost.')) {\n                onCancelRateCall(newRating);\n            }\n        } else {\n            onCancelRateCall(newRating);\n        }\n    }\n\n    handleScoreChange(value, sfId) {\n        this.setState((prevState) => {\n            const newRating = prevState.rating.map((item) => {\n                let newScore = item.score;\n                if (item.salesforceId === sfId) {\n                    newScore = value;\n                }\n                return { ...item, score: newScore };\n            });\n            return { rating: newRating };\n        });\n    }\n\n    handleNoteChange(value, sfId) {\n        this.setState((prevState) => {\n            const newRating = prevState.rating.map((item) => {\n                let newNote = item.note;\n                if (item.salesforceId === sfId) {\n                    newNote = value;\n                }\n                return { ...item, note: newNote };\n            });\n            return { rating: newRating };\n        });\n    }\n\n    render() {\n        const { showCallRatingDialog } = this.props;\n        const { rating } = this.state;\n        const placeholderText = 'Add note... (optional)';\n        const maskClasses = classNames({\n            [styles.mask]: true,\n            'ignore-nodestack': true,\n        });\n        return (\n            <div className={maskClasses}>\n                <div\n                    className={styles.CallRating}\n                    style={{\n                        opacity: showCallRatingDialog ? '1' : '0',\n                    }}\n                >\n                    <div className={styles.modalHeader}>\n                        <div className={styles.title}>How would you rate this call?</div>\n                    </div>\n                    <div className={styles.modalBody}>\n                        <div>\n                            Completing this call rating helps our system to provide you with more accurate call\n                            metrics.\n                        </div>\n                        <div className={styles.ratingRow}>\n                            {rating.map(item => (\n                                <div key={item.salesforceId} className={styles.ratingContainer}>\n                                    <div className={styles.ratingTitle}>{item.type}</div>\n                                    <RatingPicker\n                                        name={item.salesforceId}\n                                        onSelect={value => this.handleScoreChange(value, item.salesforceId)}\n                                        selectedIndex={item.score}\n                                    />\n                                    <textarea\n                                        name={item.salesforceId}\n                                        className={styles.noteDetails}\n                                        rows=\"3\"\n                                        placeholder={placeholderText}\n                                        value={item.note}\n                                        onChange={evt => this.handleNoteChange(evt.target.value, item.salesforceId)}\n                                        onFocus={(e) => {\n                                            e.target.placeholder = '';\n                                        }}\n                                        onBlur={(e) => {\n                                            e.target.placeholder = placeholderText;\n                                        }}\n                                    />\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                    <div className={styles.modalFooter}>\n                        <button type=\"button\" className={styles.cancelButton}\n                                onClick={this.handleCancelClicked.bind(this)}>CANCEL\n                        </button>\n                        <button\n                            type=\"submit\"\n                            className={styles.finishButton}\n                            onClick={this.handleFinishClicked.bind(this)}\n                        >\n                            Finish\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nCallRating.defaultProps = {\n    rating: [],\n};\n\nCallRating.propTypes = {\n    rating: PropTypes.arrayOf(PropTypes.object),\n    showCallRatingDialog: PropTypes.bool.isRequired,\n    onCancelRateCall: PropTypes.func.isRequired,\n    onRateCall: PropTypes.func.isRequired,\n};\n\nexport default CallRating;\n","import { connect } from 'react-redux';\nimport { cancelRateCall } from '../store/actions/actions';\nimport { saveRatings } from '../store/actions/salesforce';\nimport CallRating from '../components/CallRating/CallRating';\n\nconst mapStateToProps = ({ callRating }) => {\n    const { showCallRatingDialog, rating } = callRating;\n    return {\n        showCallRatingDialog,\n        rating,\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onCancelRateCall: () => {\n        dispatch(cancelRateCall());\n    },\n    onRateCall: (details) => {\n        dispatch(saveRatings(details));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CallRating);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './KnowledgeClassifications.module.scss';\nimport { callSummaryType, transcriptionType } from '../../shared/types';\nimport {\n    CLASSIFICATION_TYPE_ALERT,\n    CLASSIFICATION_TYPE_CHECKPOINT,\n    CLASSIFICATION_TYPE_CONCEPT,\n    classificationIsTriggered,\n    classificationWeighting,\n} from '../../shared/utility/classifications';\nimport KnowledgeClassificationPill from '../KnowledgeClassificationPill/KnowledgeClassificationPill';\nimport KnowledgeKeywordTopicPill from '../KnowledgeKeywordTopicPill/KnowledgeKeywordTopicPill';\n\nclass KnowledgeClassifications extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { selectedItem: null, selectedItemName: null, selectedItemKeywords: null };\n        this.onClickClassification = this.onClickClassification.bind(this);\n        this.onClickClose = this.onClickClose.bind(this);\n    }\n\n    onClickClassification(e) {\n        const { transcription } = this.props;\n        const categories = transcription.Categories;\n        const selectedItem = categories.filter(item => item.Name === e.currentTarget.dataset.metric)[0];\n        const selectedItemKeywords = selectedItem.Keywords.map((item) => {\n            let showLeftIndicator = false;\n            let showRightIndicator = false;\n            for (let i = 0; i < item.Mentions.length; i++) {\n                showLeftIndicator = item.Mentions[i].Channel === '1';\n                showRightIndicator = item.Mentions[i].Channel === '2';\n            }\n            return {\n                keyword: item.Keyword,\n                showRightIndicator,\n                showLeftIndicator,\n            };\n        });\n        this.setState({\n            selectedItem: e.currentTarget.dataset.metric,\n            selectedItemName: selectedItem.DisplayName,\n            selectedItemKeywords,\n        });\n    }\n\n    onClickClose() {\n        const { onClose, onItemSelected } = this.props;\n        const { selectedItem } = this.state;\n        onItemSelected(selectedItem);\n        onClose();\n    }\n\n    generateClassifications(categories, type, handleClick) {\n        const items = categories\n            .filter(item => item.Type.toUpperCase() === type.toUpperCase() && classificationIsTriggered(item))\n            .sort((a, b) => {\n                const aWeighting = classificationWeighting(a);\n                const bWeighting = classificationWeighting(b);\n                return aWeighting - bWeighting;\n            });\n        if (items.length === 0) {\n            return null;\n        }\n\n        const { selectedItem } = this.state;\n        return items.map((item) => {\n            const isSelected = selectedItem === item.Name;\n            return (\n                <KnowledgeClassificationPill\n                    key={item.Name}\n                    category={item}\n                    isSelected={isSelected}\n                    onClick={handleClick}\n                />\n            );\n        });\n    }\n\n    renderKeyWordPills(selectedItemKeywords) {\n        const { callSummary } = this.props;\n        if (selectedItemKeywords === null) {\n            return null;\n        }\n        if (selectedItemKeywords.length === 0) {\n            return <span>No keywords found for this category</span>;\n        }\n        return selectedItemKeywords\n            .map(item => (\n                <KnowledgeKeywordTopicPill\n                    colors={callSummary.keyCallers.colors}\n                    isSelected={false}\n                    text={item.keyword}\n                    showLeftIndicator={item.showLeftIndicator}\n                    showRightIndicator={item.showRightIndicator}\n                    modalCategoryPill\n                />\n            ));\n    }\n\n    render() {\n        const { onClose, show, transcription } = this.props;\n        const { selectedItemName, selectedItemKeywords } = this.state;\n        if (!show) {\n            return null;\n        }\n\n        const categories = transcription.Categories || [];\n\n        const checkpoints = this.generateClassifications(categories, CLASSIFICATION_TYPE_CHECKPOINT, this.onClickClassification);\n        const alerts = this.generateClassifications(categories, CLASSIFICATION_TYPE_ALERT, this.onClickClassification);\n        const concepts = this.generateClassifications(categories, CLASSIFICATION_TYPE_CONCEPT, this.onClickClassification);\n        const keyWords = this.renderKeyWordPills(selectedItemKeywords);\n        const triggersTitle = selectedItemName !== null ? 'Triggers:' : null;\n        return (\n            <div className={styles.mask}>\n                <div className={styles.modal}>\n                    <div className={styles.modalHeader}>\n                        <div className={styles.title}>Categories</div>\n                    </div>\n                    <span className={styles.selectedItemName}>{selectedItemName}</span>\n                    <div className={styles.triggers}>\n                        <span>\n                            {triggersTitle}\n                        </span>\n                        <div className={styles.pillContainerKeywords}>\n                            {keyWords}\n                        </div>\n                    </div>\n                    <div className={styles.categoriesContainer}>\n                        <div className={styles.categoriesHeader}>\n                            <div className={styles.headerTitle}>\n                                <div className={styles.title}>CheckPoints</div>\n                                <hr />\n                            </div>\n                            <div className={styles.headerTitle}>\n                                <div className={styles.title}>Alerts</div>\n                                <hr />\n                            </div>\n                            <div className={styles.headerTitle}>\n                                <div className={styles.title}>Concepts</div>\n                                <hr />\n                            </div>\n                        </div>\n                        <div className={styles.categoriesBody}>\n                            <div className={styles.pillContainer}>\n                                {checkpoints}\n                            </div>\n                            <div className={styles.pillContainer}>\n                                {alerts}\n                            </div>\n                            <div className={styles.pillContainer}>\n                                {concepts}\n                            </div>\n                        </div>\n                    </div>\n                    <div className={styles.modalFooter}>\n                        <button type=\"button\" className={styles.cancelButton} onClick={onClose}>CANCEL</button>\n                        <button\n                            type=\"button\"\n                            className={styles.closeButton}\n                            onClick={this.onClickClose}\n                            disabled={selectedItemName === null}\n                        >\n                            View Selection On Timeline\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nKnowledgeClassifications.propTypes = {\n    callSummary: callSummaryType.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onItemSelected: PropTypes.func.isRequired,\n    show: PropTypes.bool,\n    transcription: transcriptionType.isRequired,\n};\n\nKnowledgeClassifications.defaultProps = {\n    show: false,\n};\n\nexport default KnowledgeClassifications;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { callSummaryType, transcriptionType } from '../shared/types';\nimport { getRawDataFromTranscriptionState } from '../store/selectors/common-selectors';\nimport KnowledgeClassifications from '../components/KnowledgeClassifications/KnowledgeClassifications';\nimport { closeClassificationsDialog, selectKnowledgeClassification } from '../store/actions/knowledge';\n\nfunction KnowledgeClassificationsContainer(props) {\n    const {\n        onClose,\n        onItemSelected,\n        show,\n        transcription,\n        callSummary,\n    } = props;\n    return (\n        <KnowledgeClassifications\n            onClose={onClose}\n            onItemSelected={onItemSelected}\n            show={show}\n            transcription={transcription}\n            callSummary={callSummary}\n        />\n    );\n}\n\nKnowledgeClassificationsContainer.propTypes = {\n    callSummary: callSummaryType.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onItemSelected: PropTypes.func.isRequired,\n    show: PropTypes.bool.isRequired,\n    transcription: transcriptionType.isRequired,\n};\n\nconst mapStateToProps = (state) => {\n    const { callSummary } = state;\n    return {\n        show: state.knowledge.showClassificationsDialog,\n        transcription: getRawDataFromTranscriptionState(state),\n        callSummary,\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onClose: () => {\n        dispatch(closeClassificationsDialog());\n    },\n    onItemSelected: (layer) => {\n        dispatch(selectKnowledgeClassification(layer));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(KnowledgeClassificationsContainer);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { callSummaryType, transcriptionType } from '../../shared/types';\nimport styles from './KnowledgeKeywordsTopics.module.scss';\nimport { KNOWLEDGE_TYPE_KEYWORD, KNOWLEDGE_TYPE_TOPIC } from '../../store/constants/knowledge';\nimport KnowledgeKeywordTopicPill from '../KnowledgeKeywordTopicPill/KnowledgeKeywordTopicPill';\n\nclass KnowledgeKeywordsTopics extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { selectedItem: null, keyword: false };\n        this.onClickKeyword = this.onClickKeyword.bind(this);\n        this.onClickClose = this.onClickClose.bind(this);\n        this.onClickTopic = this.onClickTopic.bind(this);\n        this.processKeywordsTopics = this.processKeywordsTopics.bind(this);\n        this.generateKeywords = this.generateKeywords.bind(this);\n        this.generateTopics = this.generateTopics.bind(this);\n        this.generateMarkupForKeywordsTopics = this.generateMarkupForKeywordsTopics.bind(this);\n    }\n\n    onClickKeyword(e) {\n        this.setState({\n            selectedItem: e.currentTarget.dataset.metric,\n            keyword: true,\n        });\n    }\n\n    onClickTopic(e) {\n        this.setState({\n            selectedItem: e.currentTarget.dataset.metric,\n            keyword: false,\n        });\n    }\n\n    processKeywordsTopics(transcription, outerKey, innerKey, type, colors, handleClick) {\n        const combined = {};\n        transcription['1'][outerKey].forEach((value) => {\n            const item = combined[value[innerKey]] || { ...value };\n            item['1'] = true;\n            combined[value[innerKey]] = item;\n        });\n        transcription['2'][outerKey].forEach((value) => {\n            const item = combined[value[innerKey]] || { ...value };\n            item['2'] = true;\n            combined[value[innerKey]] = item;\n        });\n        return this.generateMarkupForKeywordsTopics(\n            innerKey,\n            Object.values(combined),\n            type,\n            colors,\n            handleClick,\n        );\n    }\n\n    generateKeywords(transcription, colors, handleClick) {\n        if (transcription['1'].Keywords.length === 0 && transcription['2'].Keywords.length === 0) {\n            return (<p className=\"text-grey-primary\">No keywords found</p>);\n        }\n        return this.processKeywordsTopics(\n            transcription,\n            'Keywords',\n            'Keyword',\n            KNOWLEDGE_TYPE_KEYWORD,\n            colors,\n            handleClick,\n        );\n    }\n\n    generateTopics(transcription, colors, handleClick) {\n        if (transcription['1'].Keywords.length === 0 && transcription['2'].Keywords.length === 0) {\n            return (<p className=\"text-grey-primary\">No keywords found</p>);\n        }\n        return this.processKeywordsTopics(\n            transcription,\n            'Topics',\n            'Topic',\n            KNOWLEDGE_TYPE_TOPIC,\n            colors,\n            handleClick,\n        );\n    }\n\n    generateMarkupForKeywordsTopics(key, items, type, colors = ['#444', '#aaa'], handleClick) {\n        return items.map((item) => {\n            const { selectedItem } = this.state;\n            let isSelected = false;\n            if (selectedItem !== null) isSelected = selectedItem === item.Keyword || selectedItem === item.Topic;\n            return (\n                <KnowledgeKeywordTopicPill\n                    key={`${item[key]}`}\n                    colors={colors}\n                    isSelected={isSelected}\n                    onClick={handleClick}\n                    showLeftIndicator={item['1'] === true}\n                    showRightIndicator={item['2'] === true}\n                    text={item[key]}\n                    modalPill\n                />\n            );\n        });\n    }\n\n    onClickClose() {\n        const { onClose, onItemSelected } = this.props;\n        onItemSelected(this.state);\n        onClose();\n    }\n\n    render() {\n        const {\n            onClose, show, transcription, callSummary,\n        } = this.props;\n        const { selectedItem } = this.state;\n        if (!show) {\n            return null;\n        }\n        const keyWords = this.generateKeywords(\n            transcription,\n            callSummary.keyCallers.colors,\n            this.onClickKeyword,\n        );\n        const topics = this.generateTopics(\n            transcription,\n            callSummary.keyCallers.colors,\n            this.onClickTopic,\n        );\n        return (\n            <div className={styles.mask}>\n                <div className={styles.modal}>\n                    <div className={styles.modalHeader}>\n                        <div className={styles.title}>All Keywords & Topics</div>\n                    </div>\n                    <div className={styles.subtitle}>Keywords</div>\n                    <hr />\n                    <div className={styles.pillContainer}>\n                        {keyWords}\n                    </div>\n                    <div className={styles.subtitle}>Topics</div>\n                    <hr />\n                    <div className={styles.pillContainer}>\n                        {topics}\n                    </div>\n                    <div className={styles.modalFooter}>\n                        <button type=\"button\" className={styles.cancelButton} onClick={onClose}>CANCEL</button>\n                        <button\n                            type=\"button\"\n                            className={styles.closeButton}\n                            disabled={selectedItem === null}\n                            onClick={this.onClickClose}\n                        >\n                            View Selection On Timeline\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nKnowledgeKeywordsTopics.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    show: PropTypes.bool,\n    onItemSelected: PropTypes.func.isRequired,\n    transcription: transcriptionType.isRequired,\n    callSummary: callSummaryType.isRequired,\n};\n\nKnowledgeKeywordsTopics.defaultProps = {\n    show: false,\n};\n\nexport default KnowledgeKeywordsTopics;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { callSummaryType, transcriptionType } from '../shared/types';\nimport { getRawDataFromTranscriptionState } from '../store/selectors/common-selectors';\nimport { closeKeywordsTopicsDialog, selectKnowledgeKeyword, selectKnowledgeTopic } from '../store/actions/knowledge';\nimport KnowledgeKeywordsTopics from '../components/KnowledgeKeywordsTopics/KnowledgeKeywordsTopics';\n\nfunction KnowledgeKeywordsTopicsContainer(props) {\n    const {\n        onClose,\n        onItemSelected,\n        show,\n        transcription,\n        callSummary,\n    } = props;\n    return (\n        <KnowledgeKeywordsTopics\n            onClose={onClose}\n            onItemSelected={onItemSelected}\n            show={show}\n            transcription={transcription}\n            callSummary={callSummary}\n        />\n    );\n}\n\nKnowledgeKeywordsTopicsContainer.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    onItemSelected: PropTypes.func.isRequired,\n    show: PropTypes.bool.isRequired,\n    transcription: transcriptionType.isRequired,\n    callSummary: callSummaryType.isRequired,\n};\n\nconst mapStateToProps = state => ({\n    show: state.knowledge.showKeywordsTopicsDialog,\n    transcription: getRawDataFromTranscriptionState(state),\n    callSummary: state.callSummary,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    onClose: () => {\n        dispatch(closeKeywordsTopicsDialog());\n    },\n    onItemSelected: (item) => {\n        if (item.keyword) {\n            dispatch(selectKnowledgeKeyword(item.selectedItem));\n        } else {\n            dispatch(selectKnowledgeTopic(item.selectedItem));\n        }\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(KnowledgeKeywordsTopicsContainer);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ErrorModal.module.scss';\n\nclass ErrorModal extends Component {\n    constructor(props) {\n        super(props);\n        this.handlePrimaryClick = this.handlePrimaryClick.bind(this);\n        this.handleSecondaryClick = this.handleSecondaryClick.bind(this);\n    }\n\n    handlePrimaryClick() {\n        const { closeModal, onPrimaryClicked } = this.props;\n        onPrimaryClicked();\n        closeModal();\n    }\n\n    handleSecondaryClick() {\n        const { closeModal } = this.props;\n        closeModal();\n    }\n\n    render() {\n        const {\n            show, title, message, primaryButtonText, secondaryButtonText,\n        } = this.props;\n        if (!show) {\n            return null;\n        }\n        return (\n            <div className={styles.mask}>\n                <div className={styles.modal}>\n                    <div className={styles.modalHeader}>\n                        <div data-testid=\"divTitle\" className={styles.title}>{title}</div>\n                    </div>\n                    <div data-testid=\"divMessage\" className={styles.message}>{message}</div>\n                    <div className={styles.modalFooter}>\n                        {secondaryButtonText\n                            && (\n                                <button type=\"button\" className={styles.secondaryButton} onClick={this.handleSecondaryClick}>\n                                    {secondaryButtonText.toUpperCase()}\n                                </button>\n                            )\n                        }\n                        <button type=\"button\" className={styles.primaryButton} onClick={this.handlePrimaryClick}>\n                            {primaryButtonText}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nErrorModal.propTypes = {\n    show: PropTypes.bool.isRequired,\n    title: PropTypes.string.isRequired,\n    message: PropTypes.string.isRequired,\n    primaryButtonText: PropTypes.string.isRequired,\n    secondaryButtonText: PropTypes.string,\n    onPrimaryClicked: PropTypes.func.isRequired,\n    closeModal: PropTypes.func.isRequired,\n};\n\nexport default ErrorModal;\n","import { connect } from 'react-redux';\nimport ErrorModal from '../components/ErrorModal/ErrorModal';\nimport { getErrorModal } from '../store/selectors/common-selectors';\nimport { closeErrorModal } from '../store/actions/errorModal';\n\nconst mapStateToProps = (state) => {\n    const {\n        show,\n        title,\n        message,\n        primaryButtonText,\n        secondaryButtonText,\n        onPrimaryClicked,\n    } = getErrorModal(state);\n    return {\n        show,\n        title,\n        message,\n        primaryButtonText,\n        secondaryButtonText,\n        onPrimaryClicked,\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    closeModal: () => {\n        dispatch(closeErrorModal());\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorModal);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport './App.scss';\nimport './styles/_global.scss';\nimport Tooltip from 'tooltip.js';\nimport Header from './components/Header/Header';\nimport TranscriptionContainer from './containers/TranscriptionContainer';\nimport AuxiliaryScrubbersContainer from './containers/AuxiliaryScrubbersContainer';\nimport EventTimelineContainer from './containers/EventTimelineContainer';\nimport MetricsTimelineLayerContainer from './containers/MetricsTimelineLayerContainer';\nimport ScrubberContainer from './containers/ScrubberContainer';\nimport StandardChannelEventsLayerContainer from './containers/StandardChannelEventsLayerContainer';\nimport NoteModalContainer from './containers/NoteModalContainer';\nimport {\n    activeLayersType,\n    callSummaryType,\n    scrubType,\n    viewportType,\n} from './shared/types';\nimport {\n    moveScrubber,\n    updateTranscriptionViewport,\n    openRateCall,\n    initialiseWithPrimaryUuid,\n} from './store/actions/actions';\nimport { BACKGROUND_NOISE_LEVEL, TRANSCRIPTION_CONFIDENCE } from './store/constants/metrics-layers';\nimport { getTimeline } from './store/selectors';\nimport NodeStack from './shared/utility/NodeStack';\nimport SearchFiltersContainer from './containers/SearchFiltersContainer';\nimport CallRatingContainer from './containers/CallRatingContainer';\nimport KnowledgeClassificationsContainer from './containers/KnowledgeClassificationsContainer';\nimport KnowledgeKeywordsTopicsContainer from './containers/KnowledgeKeywordsTopicsContainer';\nimport { showErrorModal } from './store/selectors/common-selectors';\nimport ErrorModalContainer from './containers/ErrorModalContainer';\n\nexport class App extends Component {\n    componentDidMount() {\n        const { onSetFocus } = this.props;\n        new NodeStack('[data-tooltip]')\n            .onHover(elements => elements.map((element) => {\n                const tooltip = new Tooltip(element, {\n                    title: element.dataset.tooltip,\n                    html: true,\n                    placement: 'bottom',\n                    container: document.body,\n                    trigger: 'manual',\n                });\n                tooltip.show();\n                if (element.dataset.tooltipFixedWidth === 'true') {\n                    // eslint-disable-next-line no-underscore-dangle\n                    tooltip._tooltipNode.classList.add('fixed-width');\n                }\n                return tooltip;\n            }))\n            .onClear((tooltips) => {\n                tooltips.forEach((tooltip) => {\n                    tooltip.dispose();\n                });\n            });\n        new NodeStack('[data-set-focus]')\n            .onClick((elements) => {\n                const [element] = elements;\n                const { setFocus } = element.dataset;\n                onSetFocus(setFocus);\n            });\n    }\n\n    componentDidUpdate(previous) {\n        const {\n            isPlaying,\n            scrub,\n            playhead,\n            onScrubberMoved,\n        } = this.props;\n        if (playhead !== previous.playhead) {\n            if (isPlaying) {\n                if (scrub.isUserModified && previous.playhead <= scrub.end && playhead > scrub.end) {\n                    this.moveScrubToPlayheadArea(playhead);\n                }\n                this.moveScrubToKeepPlayheadCentral(playhead);\n                this.moveTranscriptionViewportToKeepPlayheadCentral(playhead);\n            } else {\n                onScrubberMoved({ ...scrub, isUserModified: false });\n            }\n        }\n    }\n\n    moveScrubToPlayheadArea(playhead) {\n        const { scrub, onScrubberMoved } = this.props;\n        const scrubWidth = scrub.end - scrub.start;\n        const start = Math.min(playhead, 100 - scrubWidth);\n        onScrubberMoved({\n            start,\n            end: start + scrubWidth,\n        });\n    }\n\n    moveScrubToKeepPlayheadCentral(playhead) {\n        const { scrub, onScrubberMoved } = this.props;\n        const scrubWidth = (scrub.end - scrub.start);\n        const scrubMiddle = scrub.start + (scrubWidth / 2);\n        const diff = playhead - scrubMiddle;\n        if (scrub.isUserModified && parseInt(diff * 100, 10) !== 0) {\n            return;\n        }\n        const start = Math.min(Math.max(0, scrub.start + diff), 100 - scrubWidth);\n        const end = start + scrubWidth;\n        onScrubberMoved({ start, end });\n    }\n\n    moveTranscriptionViewportToKeepPlayheadCentral(playhead) {\n        const { viewport, onViewportMoved } = this.props;\n        const { span } = viewport;\n        const viewportMiddle = viewport.start + (span / 2);\n        const diff = playhead - viewportMiddle;\n        const start = Math.min(Math.max(0, viewport.start + diff), 100 - span);\n        onViewportMoved({ start, span });\n    }\n\n    render() {\n        const {\n            activeLayers,\n            callSummary,\n            showEditModal,\n            showCallRatingDialog,\n            onFinishAndRateClicked,\n            showClassificationsDialog,\n            showKeywordsTopicsDialog,\n            jwtToken,\n            showRatingButton,\n            isRated,\n            showErrorModal,\n        } = this.props;\n        const { keyCallers } = callSummary;\n        const { colors } = keyCallers;\n        const activeGraphLayers = activeLayers\n            .filter(layer => [BACKGROUND_NOISE_LEVEL, TRANSCRIPTION_CONFIDENCE].includes(layer));\n        const graphLayers = activeGraphLayers.map(layer => (\n            <MetricsTimelineLayerContainer key={layer} metricType={layer} />\n        ));\n        return (\n            <div className=\"App\">\n                <Header\n                    onFinishAndRateClicked={onFinishAndRateClicked}\n                    showTransport\n                    jwtToken={jwtToken}\n                    showRatingButton={showRatingButton}\n                    isRated={isRated}\n                />\n                <div className=\"appContainer container\">\n                    <SearchFiltersContainer activeLayers={activeLayers} />\n                    <div className=\"hideableContainer\">\n                        <ScrubberContainer\n                            id=\"event-scrubber\"\n                        >\n                            <EventTimelineContainer\n                                plotWholeTimeline\n                                singleColor=\"#49535c\"\n                            >\n                                <StandardChannelEventsLayerContainer plotWholeTimeline />\n                            </EventTimelineContainer>\n                        </ScrubberContainer>\n                        <AuxiliaryScrubbersContainer />\n\n                        <EventTimelineContainer\n                            showTransport\n                            plotWholeTimeline={false}\n                            colors={colors}\n                            leftMargin={40}\n                        >\n                            {graphLayers}\n                            <StandardChannelEventsLayerContainer plotWholeTimeline={false} />\n\n                        </EventTimelineContainer>\n                    </div>\n                    <TranscriptionContainer canSetPlayHead plotWholeTimeline={false} />\n                </div>\n                {showEditModal && <NoteModalContainer />}\n                {showCallRatingDialog && <CallRatingContainer />}\n                {showClassificationsDialog && <KnowledgeClassificationsContainer />}\n                {showKeywordsTopicsDialog && <KnowledgeKeywordsTopicsContainer />}\n                {showErrorModal && <ErrorModalContainer />}\n            </div>\n        );\n    }\n}\nApp.defaultProps = {\n    jwtToken: null,\n    showRatingButton: false,\n    isRated: false,\n    showErrorModal: false,\n};\nApp.propTypes = {\n    activeLayers: activeLayersType.isRequired,\n    isPlaying: PropTypes.bool.isRequired,\n    playhead: PropTypes.number.isRequired,\n    scrub: scrubType.isRequired,\n    callSummary: callSummaryType.isRequired,\n    onScrubberMoved: PropTypes.func.isRequired,\n    onViewportMoved: PropTypes.func.isRequired,\n    onSetFocus: PropTypes.func.isRequired,\n    viewport: viewportType.isRequired,\n    showEditModal: PropTypes.bool.isRequired,\n    showCallRatingDialog: PropTypes.bool.isRequired,\n    showClassificationsDialog: PropTypes.bool.isRequired,\n    showKeywordsTopicsDialog: PropTypes.bool.isRequired,\n    onFinishAndRateClicked: PropTypes.func.isRequired,\n    jwtToken: PropTypes.shape({\n        token: PropTypes.string,\n        organisationId: PropTypes.string,\n    }),\n    showRatingButton: PropTypes.bool,\n    isRated: PropTypes.bool,\n    showErrorModal: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => {\n    const {\n        primaryUuid,\n        activeLayers,\n        scrub,\n        data,\n        callSummary,\n    } = state;\n\n    const {\n        isPlaying,\n        playhead,\n    } = state.playback;\n\n    const { viewport } = state.transcription;\n    const { showEditModal } = state.notes;\n    const { showCallRatingDialog, rating } = state.callRating;\n    const { showClassificationsDialog } = state.knowledge;\n    const { showKeywordsTopicsDialog } = state.knowledge;\n    const { jwtToken } = state.auth;\n    const showRatingButton = rating.length > 0;\n    const isRated = !!rating.find(item => item.score > 0);\n    return {\n        primaryUuid,\n        activeLayers,\n        isPlaying,\n        playhead,\n        scrub,\n        data,\n        callSummary,\n        timeline: getTimeline(state),\n        viewport,\n        showEditModal,\n        showCallRatingDialog,\n        showClassificationsDialog,\n        showKeywordsTopicsDialog,\n        jwtToken,\n        showRatingButton,\n        isRated,\n        showErrorModal: showErrorModal(state),\n    };\n};\n\nconst mapDispatchToProps = dispatch => ({\n    onScrubberMoved: (scrub) => {\n        dispatch(moveScrubber(scrub));\n    },\n    onViewportMoved: (port) => {\n        dispatch(updateTranscriptionViewport(port));\n    },\n    onFinishAndRateClicked: () => {\n        dispatch(openRateCall());\n    },\n    onSetFocus: (uuid) => {\n        dispatch(initialiseWithPrimaryUuid(uuid));\n    },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\n/* eslint-disable */\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/* eslint-disable react/jsx-filename-extension */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, createStore, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './store/reducers';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n// import { getQuery } from './shared/utility/url';\n// import { initialiseWithPrimaryUuid } from './store/actions/actions';\nimport getAuthToken from './store/actions/auth';\n\n/* eslint-disable no-underscore-dangle */\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n    rootReducer,\n    composeEnhancers(\n        applyMiddleware(thunk),\n    ),\n);\n/* eslint-enable */\n// store.dispatch(initialiseWithPrimaryUuid(getQuery().uuid));\nstore.dispatch(getAuthToken());\n\n/* eslint-disable react/jsx-filename-extension */\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root'),\n);\n/* eslint-enable */\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}